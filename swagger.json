{"openapi":"3.0.0","info":{"contact":{"email":"3pip@groupon.com","name":"3PIP Team"},"title":"Groupon Connect APIs"},"tags":[{"name":"Booking Description","description":"The following endpoints are used to integrate Groupon with a partner for bookings.\n\nIn all requests and responses, any non-required attributes which are not used may either be excluded from the payload or included with a `null` value.\nBoth representations will be treated equally.\n"},{"name":"Booking Partner Endpoints","description":"These are the endpoints that the partner needs to implement to integrate with Groupon. Groupon will call these endpoints as part of the booking flow.\n"},{"name":"Booking Groupon Endpoints","description":"These endpoints are provided by Groupon and allow partners to do real time updates by calling them when there are changes on the partner side.\n\n**Error handling:** In case the endpoints are unavailable, partners are responsible to implement the logic to retry the request later.\n\n**Concurrent or out of order requests:**  If the partner makes concurrent requests for the same item or if the requests arrive out of order, the order in which they are processed may determine whether the request is successful or not.  For example, if there is a `no-show` update request made concurrently with a `cancelled` update request for the same booking, and the `cancelled` request is processed first, the `no-show` request will fail.\n"},{"name":"Transactional Description","description":"The following endpoints are used to integrate Groupon with a partner for transactions.\nA purchase is separated into multiple steps to allow inventory to be reserved before a purchaser’s credit card is charged.\n\nThere is flexibility around the partner processing certain lifecycle transitions synchronously or asynchronously to the request made by Groupon.\nIn order to ensure that inventory is available for a purchaser before their card is authorized,\nthe reserve step cannot be done asynchronously in this current specification.\nFulfillment and cancellation may occur asynchronously to the request.\n\nIn all requests and responses, any non-required attributes which are not used may either be excluded from the payload or included with a null value.\nBoth representations will be treated equally.\n\n## Asynchronous Polling\nAn asynchronous integration would work in a similar manner.\nIf the partner returns a transitional status (i.e. “fulfilling” or “cancelling”) as the result of a synchronous call,\nGroupon will poll the system for status changes using the retrieve reservation endpoint.\nOnce the status has changed, the lifecycle state machine will continue as normal.\n\nPlease refer to the Error Handling section for information about expected behavior around timeouts,\nmaximum polling times, etc.\n\n## Pricing Changes\nIf pricing on a product or selection from an iframe can change between calls,\nthe partner is responsible for ensuring that the price returned in checkAvailability is still applicable on reserve.\nThis window for pricing changes is larger for iframe integrations since the purchaser first sees the price on the iframe before being sent to the checkout page.\n\n\nThe mechanism for validating the price is the same for iframe and non-iframe booking.\nIf the partner does not have pricing changes, they needn’t implement anything for handling price changes.\nIf the partner does not implement support, Groupon will charge the user the price returned in priceSummary from the checkAvailability response.\nThe pre-reservation ID is used to ensure that pricing information is still applicable between the iframe (if using iframe),\ncheckAvailability, and reserve. Pricing must be locked in during reserve since the purchaser is charged afterward,\nwhich means that fulfill will not have a pricing change.\n\n\nThe pre-reservation ID is generated by the partner and is expected to be associated with a specific price if the partner supports price changes.\nSince the pre-reservation ID will be passed back to the partner in subsequent calls,\nthe partner can ensure that the pricing associated with the pre-reservation ID is still valid.\nIf a partner is not implementing an iframe, they can pass the pre-reservation ID back on the checkAvailability response and Groupon will pass that back in the reserve call.\n\n\nIf pricing has changed during the checkAvailability call, the partner should return the prereservationPriceSummary object in the response which includes the original price.\nThe updated price will be returned as normal in the priceSummary object.\nPlease refer to the checkAvailability section for further details.\nPlease note that only the price that the purchaser pays can be considered a price change;\nif the value of the product being purchased changes, that should be treated as the product no longer being available.\n\n\nIf the pricing has changed during the reserve call, then this should be treated as an error and the appropriate error code should be returned.\nPlease refer to the reserve error response section for further details.\n\n### PriceSummary in Reserve Call\nAs an extra level of protection, Groupon will pass the price it expects should be charged as a priceSummary in the reserve request.\nThe partner should verify that this price is expected and return an error response if the price does not match expectations.\n\n\nSimilarly, the partner must return the price it expected to be charged in the reservation for all responses where a reservation is returned.\nDuring the reserve call, Groupon will compare the price it expected to be charged to the price returned in the response.\nIf the price does not match the expected price, Groupon may choose to cancel the reservation to avoid an incorrect charge to the customer.\n\n\nThe presence of priceSummary in the request and response is required for both iframe and not iframe offers to ensure the price charged is accurate.\n"},{"name":"Transactional Partner Endpoints","description":"These are the endpoints that the Partner needs to implement to integrate with Groupon. Groupon will call these endpoints as part of the transactional flow and to keep those transactions in sync between the two systems.\n"},{"name":"Transactional Groupon Endpoints","description":"These endpoints are provided by Groupon and allow partners to do real time updates by calling them when there are changes on the Partner side. These endpoints can work as a complement to the polling that Groupon does to retrieve status updates, specifically when the update is time critical.\n\n**Error handling:** In case the endpoints are unavailable, and the partners do not use polling, they are responsible to implement the logic to retry the request later.\n\n**Concurrent or out of order requests:**  If the partner makes concurrent requests for the same item or if the requests arrive out of order, the order in which they are processed may determine whether the request is successful or not.  For example, if there is a `fulfilled` update request made concurrently with a `cancelled` update request for the same reservation, and the `cancelled` request is processed first, the `fulfilled` request will fail.  Note that `cancelled` and `redeemed` are final status, so no other status update can be performed after transitions to any of those status.\n"},{"name":"Ingestion Description","description":"1. Provides the ingestion feed details\n"}],"servers":[{"url":"https://{your domain}","variables":{"your domain":{"description":"your domain","default":"localhost"}}}],"paths":{"/groupon/v1/bookings/availability":{"post":{"summary":"Booking Availability Check","operationId":"postBookingAvailability","tags":["Booking Partner Endpoints"],"description":"This endpoint is used to support an availability check before booking happens.\n\nThis endpoint to pull the availability in real time. This would be used as part of UX to update enabled options when a customer is making their selections and also when purchasing, to validate again that what they want to book is still available.\nThe request would either be the raw segment Groupon got on the feed, or it might have the specific attributes that the customer selected (a subset of the attributeIds).\nIf multiple attributes per group are used, the segments on the response might not match the request exactly if a specific attribute isn’t available anymore, main use case would be staff members. See an example.\n\n## Expected SLA\nTP99 35ms at 500rpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"merchantId":{"description":"An unique merchant id provided by partners.\n","type":"string","maxLength":99},"availability":{"description":"An array of the requested availabilities to fitler for.\nEach availability contains criteria for selecting availability segments, services and attributes to check.\nOnly segments within the requested time range and having requested services and attributes should be\nreturned and only if they are available.\n","type":"array","items":{"type":"object","properties":{"availableAt":{"description":"The date and time which specifies the beging of the first availability slot/segment.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The date and time which specifies the end of the last availability slot/segment.\n","type":"string","format":"date-time"},"serviceIds":{"description":"Reference to the service IDs for this availability slot. The value provided by partners in the merchant catalog feed.\n","type":"array","items":{"type":"string","maxLength":99}},"attributeIds":{"description":"Reference to the attribute values that should be used as a filter for the availability request.\nIf attribute values are not provided for the attribute, then availability with any value of that attribute should be returned.\nIf this array is empty or null, then segments/slots with any attributes should be returned.\n","type":"array","items":{"type":"string","maxLength":99}}},"required":["availableAt","availableUntil","serviceIds"]}}},"required":["merchantId","availability"]},"example":{"merchantId":"5214_hair-salons_130206_xyz","availability":[{"serviceIds":["root_color"],"availableAt":"2020-10-10T05:00:00.000Z","availableUntil":"2020-10-17T05:00:00.000Z","attributeIds":["staff.maja","staff.rajaa"]}]}}}},"responses":{"200":{"description":"If the availability check request is accepted, then a successful response with the current availability is returned.\n","content":{"application/json":{"schema":{"type":"object","properties":{"merchantId":{"description":"An unique merchant id provided by partners.\n","type":"string","maxLength":99},"availability":{"description":"An array of availabilities for a service corresponding to requested parameters.\nAll availability segments within the requested time range and with the attributes specified\nin the request. If request doesn't have the attributes array, all availability segments that are available\nfor the requested time range should be returned.\nIf there is no availability for the requested service, an empty array or null is to be returned.\n","type":"array","items":{"type":"object","properties":{"availableAt":{"description":"The start date and time of the availability slot/segment.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The end date and time of the availability slot/segment.\n","type":"string","format":"date-time"},"serviceIds":{"description":"References to the services for the availability slot/segment.\n","type":"array","items":{"type":"string","maxLength":99}},"attributeIds":{"description":"References to attribute values for the availability slot/segment.\n","type":"array","items":{"type":"string","maxLength":99}}},"required":["availableAt","availableUntil","serviceIds","attributeIds"]}}},"required":["merchantId","availability"]},"examples":{"successfulResponse":{"summary":"Successful response","value":{"merchantId":"5214_hair-salons_130206_xyz","availability":[{"serviceIds":["root_color"],"attributeIds":["staff.maja","staff.rajaa"],"availableAt":"2020-10-10T11:00:00.000Z","availableUntil":"2020-10-10T12:00:00.000Z"},{"serviceIds":["root_color"],"attributeIds":["staff.maja"],"availableAt":"2020-10-10T14:00:00.000Z","availableUntil":"2020-10-10T15:00:00.000Z"},{"serviceIds":["root_color"],"attributeIds":["staff.rajaa"],"availableAt":"2020-10-11T14:00:00.000Z","availableUntil":"2020-10-11T15:00:00.000Z"}]}}}}}},"4XX":{"description":"If either merchant or service in the request cannot be found or the request body does not conform to the schema specification\nthen an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td><code>MERCHANT_NOT_FOUND</code></td>\n  <td>404</td>\n  <td>The merchant cannot be found.</td>\n</tr>\n  <tr>\n    <td><code>SERVICE_NOT_FOUND</code></td>\n    <td>404</td>\n    <td>The service cannot be found.</td>\n  </tr>\n<tr>\n  <td><code>MALFORMED_REQUEST</code></td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["MERCHANT_NOT_FOUND","SERVICE_NOT_FOUND","MALFORMED_REQUEST"]},"message":{"type":"string","description":"A human readable error message, used for debug purposes."},"services":{"type":"array","description":"An array of service IDs associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The service ID which cannot be found by a partner.","example":"foobar-ladies"}},"required":["id"]}}},"required":["code"]}},"httpCode":{"type":"integer","enum":[400,404],"description":"The HTTP status code for this error.","example":404}},"required":["errors","httpCode"]},"examples":{"service not found":{"summary":"Service not found","description":"The service has not been found, cannot return the availability.","value":{"errors":[{"code":"SERVICE_NOT_FOUND","services":[{"id":"foobar-ladies"}]}],"httpCode":404}}}}}}}}},"/groupon/v1/bookings":{"post":{"summary":"Create Booking","operationId":"postBookingCreation","description":"This endpoint is used to support booking creation.\n\nThe status of the booking after this call should be `confirmed` or `hold`, depending on the `bookingType` value.\nThis endpoint should behave in a transactional manner, that is, if any booking in the request can't be transitioned\nto `confirmed` the whole request should fail with error code `BOOKING_NOT_CREATED`, and no booking should be\ncreated.\n\nThis endpoint must be idempotent.  In case Groupon makes a second request with the same `grouponBookingId`, and the\npartner already created a booking in its system for this id, the previously created booking must be returned.\n\n## Expected SLA\nTP99 35ms at 500rpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"merchantId":{"description":"the ID of the merchant","type":"string","maxLength":99,"example":"5214_hair-salons_130206_xyz"},"grouponCustomerServiceId":{"description":"Groupon’s Customer Service reference ID for the purchase associated with this booking.\nThis can be used when communicating with Groupon Customer Service to reference the purchase.\n","type":"string","maxLength":22,"example":"TP-KD92-FSKK-G994-1WG5"},"bookings":{"description":"This is a list of bookings that should be created.","type":"array","items":{"type":"object","properties":{"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"availability":{"description":"Availability segments chosen by the purchaser. Will include all properties present in\nthe feed/availability payload.\n","type":"array","items":{"type":"object","properties":{"id":{"description":"ID of the availability slot. See in ingestion availability spec *availability[].id*\n","type":"string","maxLength":99,"example":"av111"},"availableAt":{"description":"The start time and date of the availability slot/segment to be booked.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The end time and date of the availability slot/segment to be booked.\n","type":"string","format":"date-time"},"serviceId":{"description":"The IDs of the specific service to book.\n","type":"string","maxLength":99,"example":"haircut"},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}},"required":["availableAt","availableUntil","serviceId"]}}},"required":["grouponBookingId","availability"]}},"purchaserDetails":{"type":"object","description":"The details supplied by the purchaser","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30}}},"bookingType":{"type":"string","description":"Determines whether the bookings should be created (as `confirmed`), or only pre-reserved (`hold`) until confirmation.\n","enum":["hold","confirmed"]}},"required":["bookings","bookingType","merchantId"]},"example":{"merchantId":"5214_hair-salons_130206_mary","grouponCustomerServiceId":"TP-KD92-FSKK-G994-1WG5","bookings":[{"grouponBookingId":"ffff0000-0123-0000-0123-00000000ffff","availability":[{"availableAt":"2020-12-01T21:00:00.000Z","availableUntil":"2020-12-01T23:00:00.000Z","serviceId":"coloring","attributeIds":["staff.mary"]}]}],"purchaserDetails":{"firstName":"Jane","lastName":"Doe","phone":"999 999 9999","email":"janedoe@example.com"},"bookingType":"confirmed"}}}},"responses":{"200":{"description":"If all the bookings are accepted, then a successful response is returned.","content":{"application/json":{"schema":{"type":"object","properties":{"bookings":{"type":"array","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking. This id must be unique across all bookings for this unit.","maxLength":99},"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"createdAt":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","description":"A datetime representing when the booking was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","description":"A datetime representing when the booking was last updated. Required if implementing the `units/{unitId}/bookings` endpoint.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"cancellationDeadline":{"type":"string","format":"date-time","description":"The date and tme which specifies until when the booking is eligible for cancellation by end user.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"status":{"description":"Status of the booking. Required if implementing the `bookings` endpoint.\nThese are the meanings of each one:\n* `hold`: The booking has a temporary hold, and a later request can be made to confirm it.\n* `confirmed`: The booking is confirmed and the customer can make use of it.\n* `cancelled`: The booking was previously `confirmed`, but has since then been cancelled. Customer can't make use of the booking.\n","type":"string","enum":["hold","confirmed","cancelled"]}},"required":["id","updatedAt","status"]},{"type":"object","required":["grouponBookingId"]}]}}},"required":["bookings"]},"examples":{"successfulResponse":{"summary":"Successful response","description":"Successful response","value":{"bookings":[{"id":"booking-123-0","grouponBookingId":"ffff0000-0123-0000-0123-00000000ffff","status":"confirmed","cancellationDeadline":"2020-10-03T17:00:00.000Z","createdAt":"2020-10-01T01:00:00.000Z","updatedAt":"2020-10-01T23:59:59.000Z"},{"id":"booking-123-1","grouponBookingId":"11111111-0000-0123-0000-000000001111","status":"confirmed","updatedAt":"2020-10-02T03:17:43.000Z"}]}}}}}},"4XX":{"description":"If any booking in the request array cannot be created, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td><code>AVAILABILITY_NOT_AVAILABLE</code></td>\n  <td>400</td>\n  <td>The availability is no longer available.</td>\n</tr>\n<tr>\n  <td><code>AVAILABILITY_NOT_FOUND</code></td>\n  <td>404</td>\n  <td>The availability is not recognized by the Partner.</td>\n</tr>\n<tr>\n  <td><code>BOOKING_NOT_CREATED</code></td>\n  <td>400</td>\n  <td>It was not possible to create the booking.</td>\n</tr>\n<tr>\n  <td><code>MALFORMED_REQUEST</code></td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td><code>BOOKING_RESTRICTION_VIOLATED</code></td>\n  <td>400</td>\n  <td>A restriction on the booking has been violated. For example, some question validation fails.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["AVAILABILITY_NOT_AVAILABLE","AVAILABILITY_NOT_FOUND","BOOKING_NOT_CREATED","MALFORMED_REQUEST","BOOKING_RESTRICTION_VIOLATED"]},"message":{"type":"string","description":"A human readable error message, used for debug purposes."},"bookings":{"type":"array","description":"An array of bookings associated with this error.","items":{"type":"object","properties":{"grouponBookingId":{"type":"string","maxLength":255,"description":"The Groupon booking id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["grouponBookingId"]}}},"required":["code"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The HTTP status code for this error.","example":400}},"required":["errors","httpCode"]},"examples":{"availability not found":{"summary":"Availability not found","description":"The availability was not found.","value":{"errors":[{"code":"AVAILABILITY_NOT_FOUND","bookings":[{"grouponBookingId":"00000000-0000-00ff-ffff-ffffffffffff"}]}],"httpCode":404}},"booking restriction violated":{"summary":"Booking restriction violated","description":"The customer exceeded the maximum allowed bookings","value":{"errors":[{"code":"BOOKING_RESTRICTION_VIOLATED","message":"Customer janedoe@example.com exceeded maximum allowed bookings in a week","bookings":[{"grouponBookingId":"00000000-0000-00ff-ffff-ffffffffffff"}]}],"httpCode":400}}}}}}}}},"/groupon/v1/bookings/cancellations":{"post":{"summary":"Booking Cancellation","operationId":"postBookingCancellations","tags":["Booking Partner Endpoints"],"description":"This endpoint is used to support booking level cancellation.\n\nThe state of the requested bookings should be transitioned to `cancelled`. This endpoint should behave in a transactional manner, that is,\nif any booking in the request can't be transitioned to `cancelled` the whole request should fail with error code `BOOKING_NOT_CANCELLABLE`, \nand no state transition should happen to any of the bookings.\n\n## Expected SLA\nTP99 35ms at 500rpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"bookings":{"type":"array","description":"An array of bookings to be cancelled.\n","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner supplied ID for the booking.\n","maxLength":99,"example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["bookings"]},"example":{"bookings":[{"id":"booking-123-0"},{"id":"booking-123-1"}]}}}},"responses":{"200":{"description":"If all the bookings cancellation were accepted, then a successful response is returned.","content":{"application/json":{"schema":{"type":"object","properties":{"bookings":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking. This id must be unique across all bookings for this unit.","maxLength":99},"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"createdAt":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","description":"A datetime representing when the booking was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","description":"A datetime representing when the booking was last updated. Required if implementing the `units/{unitId}/bookings` endpoint.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"cancellationDeadline":{"type":"string","format":"date-time","description":"The date and tme which specifies until when the booking is eligible for cancellation by end user.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"status":{"description":"Status of the booking. Required if implementing the `bookings` endpoint.\nThese are the meanings of each one:\n* `hold`: The booking has a temporary hold, and a later request can be made to confirm it.\n* `confirmed`: The booking is confirmed and the customer can make use of it.\n* `cancelled`: The booking was previously `confirmed`, but has since then been cancelled. Customer can't make use of the booking.\n","type":"string","enum":["hold","confirmed","cancelled"]}},"required":["id","updatedAt","status"]}}},"required":["bookings"]},"examples":{"successfulResponse":{"summary":"Successful response","value":{"bookings":[{"id":"booking-123-0","grouponBookingId":"00000000-0000-0000-0000-000000000123","status":"cancelled","createdAt":"2020-10-01T01:00:00.000Z","updatedAt":"2020-10-01T23:59:59.000Z"},{"id":"booking-123-1","status":"cancelled","updatedAt":"2010-10-03T03:17:43.000Z"}]}}}}}},"4XX":{"description":"If any of the bookings in the request cannot be cancelled, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td><code>BOOKING_NOT_FOUND</code></td>\n  <td>404</td>\n  <td>The booking cannot be found.</td>\n</tr>\n<tr>\n  <td><code>MALFORMED_REQUEST</code></td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td><code>BOOKING_NOT_CANCELLABLE</code></td>\n  <td>400</td>\n  <td>The booking is not allowed to be cancelled.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["BOOKING_NOT_FOUND","MALFORMED_REQUEST","BOOKING_NOT_CANCELLABLE"]},"message":{"type":"string","description":"A human readable error message, used for debug purposes."},"bookings":{"type":"array","description":"An array of bookings associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied booking id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The HTTP status code for this error.","example":400}},"required":["errors","httpCode"]},"examples":{"booking not found":{"summary":"Booking not found","description":"The booking was not found, can't cancel.","value":{"errors":[{"code":"BOOKING_NOT_FOUND","bookings":[{"id":"booking-123-1"}]}],"httpCode":404}}}}}}}}},"/partners/{partner}/v1/bookings":{"servers":[{"url":"https://offer-api.groupon.com","description":"Production server"},{"url":"https://offer-api-staging.groupon.com","description":"Staging server"}],"patch":{"summary":"Booking Status Update","operationId":"webhookBookings","tags":["Booking Groupon Endpoints"],"description":"This endpoint can be used by partners to notify Groupon of bookings status updates (e.g., when a booking is cancelled on partner side).\n\n## SLA\nTP99 100ms at 10k rpm.\n\n## Request\nThe request body should include a list of bookings to update.  Each entry of the list specifies the partner-generated booking id, the update of the booking (`cancelled`, `check-in`, `no-show`), and a datetime representing when the booking was last updated.\n","parameters":[{"name":"partner","in":"path","description":"The partner name.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"partnerxyz"},{"name":"client_id","in":"query","description":"A client id required to make the request.  This id will be provided to partners by Groupon.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"abc123def345abc123def456"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"bookings":{"type":"array","description":"List of bookings to update.","maxItems":10,"items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking.\nThis will be the id returned from the Booking Creation API call.\n","maxLength":99},"merchantId":{"type":"string","description":"The merchant id for this booking.","maxLength":99},"status":{"type":"string","description":"The update for this booking:\n- `check-in`: the customer successfully checked-in for the booking.\n- `no-show`: the customer missed the booking.\n- `cancelled`: the booking was cancelled by the merchant.\n","enum":["check-in","no-show","cancelled"]},"updatedAt":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","description":"A datetime representing when the booking was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"}},"required":["id","merchantId","status","updatedAt"]}}},"required":["bookings"]},"example":{"bookings":[{"id":"booking-10127","merchantId":"5214_hair-salons_130206_mary","status":"cancelled","updatedAt":"2020-06-01T15:59:59.000Z"},{"id":"booking-9123","merchantId":"5214_hair-salons_130206_mary","status":"cancelled","updatedAt":"2020-06-01T15:59:59.000Z"}]}}}},"responses":{"200":{"description":"If the request succeeded, then a 200 response should be returned.\n","content":{"application/json":{"schema":{"type":"object","properties":{"bookings":{"type":"array","description":"List of bookings that were updated.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking.","maxLength":99},"merchantId":{"type":"string","description":"The merchant id for this booking."},"status":{"type":"string","description":"The updated status for this booking.","enum":["checked-in","no-show","cancelled"]}},"required":["id","merchantId","status"]}}},"required":["bookings"]},"example":{"bookings":[{"id":"booking-10127","merchantId":"5214_hair-salons_130206_mary","status":"cancelled"},{"id":"booking-9123","merchantId":"5214_hair-salons_130206_mary","status":"cancelled"}]}}}},"207":{"description":"If only a subset of the bookings can be updated, then a 207 response should be returned.\n\nThe partner should implement a retry logic for bookings that were not updated due to an `UNKNOWN_ERROR`.\n","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"bookings":{"type":"array","description":"List of bookings that were updated.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking.","maxLength":99},"merchantId":{"type":"string","description":"The merchant id for this booking."},"status":{"type":"string","description":"The updated status for this booking.","enum":["checked-in","no-show","cancelled"]}},"required":["id","merchantId","status"]}}},"required":["bookings"]},{"type":"object","properties":{"errors":{"type":"array","description":"List of errors from the request.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for the booking associated with this error.","maxLength":99},"code":{"type":"string","description":"The code for this error.","enum":["BOOKING_NOT_FOUND","INVALID_STATE_TRANSITION","UNKNOWN_ERROR"]}},"required":["id","code"]}}}}],"required":["bookings","errors"]},"example":{"bookings":[{"id":"booking-9123","merchantId":"5214_hair-salons_130206_mary","status":"cancelled"}],"errors":[{"id":"booking-10127","code":"BOOKING_NOT_FOUND"}]}}}},"400":{"description":"If no booking can be updated, then a 400 response should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n<th>Error Code</th>\n<th>HTTP Code</th>\n<th>Description</th>\n</tr>\n<tr>\n<td><code>BOOKING_NOT_FOUND</code></td>\n<td>400</td>\n<td>The booking id was not found.</td>\n</tr>\n<tr>\n<td><code>INVALID_STATE_TRANSITION</code></td>\n<td>400</td>\n<td>The state transition for the booking is invalid.</td>\n</tr>\n<tr>\n<td><code>UNKNOWN_ERROR</code></td>\n<td>400</td>\n<td>There was an unexpected error processing the request.</td>\n</tr>\n<tr>\n<td><code>MALFORMED_REQUEST</code></td>\n<td>400</td>\n<td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n</table>\n\nThe partner should implement a retry logic for bookings that were not updated due to an `UNKNOWN_ERROR`.\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"List of errors from the request.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for the booking associated with this error (if any).","maxLength":99},"code":{"type":"string","description":"The code for this error.","enum":["BOOKING_NOT_FOUND","INVALID_STATE_TRANSITION","UNKNOWN_ERROR","MALFORMED_REQUEST"]}},"required":["code"]}},"httpCode":{"type":"integer","description":"The HTTP status code for this error.","enum":[400]}},"required":["errors","httpCode"]},"example":{"errors":[{"id":"booking-9123","code":"BOOKING_NOT_FOUND"},{"id":"booking-10127","code":"BOOKING_NOT_FOUND"}],"httpCode":400}}}},"401":{"description":"If the requests is missing valid authentication credentials, a 401 response should be returned.\n","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"object","properties":{"httpCode":{"type":"integer","description":"The HTTP status code for this error.","enum":[401]},"message":{"type":"string","description":"Error description","maxLength":99}},"required":["httpCode","message"]}}},"example":{"error":{"httpCode":401,"message":"'client_id' is invalid"}}}}}}}},"/groupon/v1/products/availability":{"post":{"summary":"Availability Check","operationId":"postProductsAvailability","description":"This endpoint is used to determine availability and pricing for a specific product and attribute combination.\nThe availability should be based off of real-time sources.\n\nOptionally, the partner may choose to implement a temporary hold on inventory and return\nthose reserved units in the response. For an iframe integration, the returned reservation\nID (called a pre-reservation ID in this call) will be passed as a URL parameter.\n\nA partner which is implementing only iframe transactions will not need to implement this call.\nHowever, even if a partner has “unlimited” inventory this endpoint should still be implemented.\nThe reason is that the partner should return a `PRODUCT_NOT_AVAILABLE` error if the product is no longer offered for purchase.\n\n## Expected SLA\nTP99 35ms at 10k rpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\nThis request is specified as using POST for practical reasons as the full set of inputs\nmay exceed static buffer space for query string size in common server stacks; however,\nthe request should not create data, and the semantics should be the same as GET.\nThe specific attributes supported will expand over time to fit the needs of a specific partner.\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"purchaserId","in":"query","description":"An identifier representing the Groupon user purchasing this option. The format will be a UUID (canonical format).\n","required":false,"schema":{"type":"string","format":"uuid","minLength":36,"maxLength":36},"example":"11100000-0000-00ff-ffff-ffffffffffff"},{"name":"prereservationId","in":"query","description":"This would be the data.reservationId attribute returned by the reservationPlaced event for an iframe integration or the meta.prereservationId field from a checkAvailability response.\n","required":false,"schema":{"type":"string","maxLength":99},"example":"22200000-0000-00ff-ffff-ffffffffffff"},{"name":"purchaserEmailHash","in":"query","description":"The email hash for the Groupon user purchasing this option. See the Purchaser Email Hash section for more details.\n\nSince not all Groupon users have an associated email address, this field is not required.\n","required":false,"schema":{"type":"string","maxLength":88},"example":"pOylLJ4I9B-O7O7LUEFgCjWK8ZVPLs0peR0ByN9Nl84"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"allOf":[{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"attributes":{"type":"object","description":"The specific attributes of the product.\nThis field is deprecated.\n","deprecated":true,"properties":{"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"An optional datetime representing the start time.\nThe format is ISO-8601 [combined date and time with timezone](https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n","example":"2015-12-01T06:59:59.000Z"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"An optional datetime representing the end time.\nThe format is ISO-8601 [combined date and time with timezone](https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n","example":"2015-12-01T08:00:00.000Z"}}}},"required":["productId"]},{"type":"object","properties":{"quantity":{"type":"integer","description":"The quantity of this product being reserved, usually used for voucher purchases.\n\nWhen `prereservationId` is passed, then this attribute will\nnot be included in the request since the quantity has already\nbeen established during the iframe flow.  \n\nWhen sending `bookings` this attribute will not be included since the quantity is\ndetermined by the number of bookings.\n"},"purchaserAnswers":{"description":"DEPRECATED, use the answers provided in the reserve call instead.  \n\nAnswers provided by the purchaser on the questions of this product.  \nSee *offers.products.purchaserQuestionIds* in ingestion feed.\n","type":"array","items":{"type":"object","additionalProperties":{"description":"a key/value map of all answers. The key is the property of the question and the\nvalue is what the user selected or typed to that question.\n","type":"string"}},"deprecated":true},"bookings":{"description":"This can be used when booking more than one availability slot or if there are multiple availability slots for the same time range.\nNote that purchaserAnswers are not going to be present in this API call, they will be sent in the Reserve call instead.","type":"array","items":{"type":"object","properties":{"availability":{"description":"Availability segments chosen by the purchaser. Will include all properties present in\nthe feed/availability payload.\n","type":"array","items":{"type":"object","properties":{"id":{"description":"id of the availability slot. See in feed/availability endpoint's *products.availability*.\nWill be sent if present.\n","type":"string","maxLength":99},"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds are present in the feed/availability response, then the\nchosen locationId will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","description":"id of the availability attribute value.","maxLength":99}}}}},"availabilityId":{"description":"DEPRECATED: use `availability[].id`  \n\nid of the availability slot. See in ingestion feed *offers.products.availability*\n","type":"string","maxLength":99,"example":"adult-111111","deprecated":true},"quantity":{"description":"DEPRECATED: will send multiple availability instead.  \n\nquantity of this availability slot being reserved.\n","type":"integer","example":2,"deprecated":true},"purchaserAnswers":{"description":"DEPRECATED: answers will be sent in the reserve call instead.\n\nAnswers provided by the purchaser for the questions on this availability slot.\nThere will be one item in the array per quantity.\nSee *offers.products.availability.purchaserQuestionIds* in ingestion feed.\n","type":"array","items":{"type":"object","additionalProperties":{"description":"a key/value map of all answers. The key is the property of the question and the\nvalue is what the user selected or typed to that question.\n","type":"string"}},"deprecated":true}},"required":["availability"]},"example":[{"availabilityId":"adult-111111"},{"availabilityId":"adult-111111"},{"availabilityId":"kids-333333"}]}}}]}}},"required":["data"]},"examples":{"regular":{"value":{"data":[{"productId":"00000000-0000-00ff-ffff-ffffffffffff","quantity":2},{"productId":"00000000-0000-0000-0000-000000000000","quantity":1}]}},"booking":{"value":{"data":[{"productId":"tickets-to-event-441","bookings":[{"availability":[{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"]},{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"]},{"id":"gkfmj234kndDf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["kid","entrance"]}]}]}]}}}}}},"responses":{"200":{"description":"If inventory is available, then a 200 response should be returned with the following body.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"allOf":[{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"attributes":{"type":"object","description":"The specific attributes of the product.\nThis field is deprecated.\n","deprecated":true,"properties":{"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"An optional datetime representing the start time.\nThe format is ISO-8601 [combined date and time with timezone](https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n","example":"2015-12-01T06:59:59.000Z"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"An optional datetime representing the end time.\nThe format is ISO-8601 [combined date and time with timezone](https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n","example":"2015-12-01T08:00:00.000Z"}}}},"required":["productId"]},{"type":"object","properties":{"categoryId":{"type":"string","format":"uuid","minLength":36,"maxLength":36,"description":"The categorization for this product.  This field is a uuid and the only acceptable values are the provided categorization uuids.\n","example":"0fff0000-0000-00ff-0000-fffffff0000f"},"quantitySummary":{"type":"object","properties":{"estimatedProductRemainingQuantity":{"type":"integer","minimum":0,"description":"The estimated quantity remaining for this product globally (all variations of this product). This value does not need to be real time, as it is used to inform remaining quantity for targeting reasons but not control purchasing.\nIf this is set to zero, then that will be taken as a signal that the product is entirely sold out (similar to it being removed from the feed) and will be marked as no longer available in the Groupon system. If more inventory is made available, then the product will be marked as available again upon the next ingestion run (assuming that the product exists in the feed during that run).\n","example":250},"allowedQuantities":{"type":"array","description":"An array of integers which are allowable quantities for this product and attribute combination. If possible, this value should take into account any consumer specific restrictions (e.g. reduced to take into consideration previous purchases against quantity restrictions) based on the purchaserId.\nThe values do not need to be contiguous, and should instead represent the discrete quantities which can be chosen.\n","items":{"type":"integer"},"example":[1,2]}}},"priceSummary":{"allOf":[{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"allOf":[{"description":"The price that the customer will be charged. This price should not include taxes or fees. The price can only be less than or equal to basePrice. If not running any discount, price should be same as basePrice."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"value":{"allOf":[{"description":"Non discounted price, inclusive of all taxes and fees."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"basePrice":{"allOf":[{"description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the price.","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n**Note:** if `TAX` type is not present then Groupon will calculate the tax if applicable.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e price, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the price.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e price, for the order."}},"required":["type","value"]}}},"required":["currencyCode"]},{"type":"object"}]},"prereservationPriceSummary":{"type":"object","description":"Object which contains the price associated with the pre-reservation ID if it has changed. This object should only be returned if there was a price change, and the price.amount value must differ from the priceSummary.price.amount value.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the price the customer originally was shown as the price they should pay, but is no longer valid. This is the price associated with the pre-reservation ID.\n"}},"required":["currencyCode","price"]},"writeups":{"type":"object","description":"Object which contains the partner supplied texts to be displayed to customers on an item.\nNote that the text needs to be localized with the **locale** parameter value.\n","properties":{"priceSummaryDescription":{"type":"string","maxLength":255,"description":"Additional text to display with the price summary","example":"Additional service fee & taxes to be paid at merchant location: $50.40."}}},"reservedUnits":{"type":"array","description":"An array of reserved units from the result of this availability check. This section is optional, and is used typically when passing both a product id and attributes in the check availability call in order to identify the specific units being reserved in the reserve call. It is also used to denote units which have a temporary hold placed on them for the user, allowing the user a certain amount of time to claim (i.e. reserve) the inventory before the temporary hold is lost.\nThis section may also be used for iframe bookings to pass details from the partner back to Groupon about the reservation.\nPlease note that if quantity is specified in the request and this is specified in the response, the size of this array should match the quantity in the request.\n","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied id for the reserved unit. This id will be passed into the reserve call during that phase of the purchase if this field is specified.\n","example":"abcdefgh1234567"},"fulfillmentType":{"type":"string","description":"The type of fulfillment for this unit. This indicates how the user will receive the product after purchase.\nPickup indicates the purchaser must go and pick up their product, such as “will call” for tickets.\nShipped indicates that the product will be shipped to the purchaser.\nElectronic indicates that the purchaser will receive their product electronically, such as a PDF version of a ticket or voucher. Please note that this means that the data.products[].reservedUnits[].details.voucherUrl attribute on the reservation needs to be set when the purchase is fulfilled.\n","enum":["pickup","shipped","electronic"],"example":"shipped"},"details":{"type":"object","description":"The specifics which describe the details of this unit.","properties":{"serviceTitle":{"type":"string","maxLength":255,"description":"The title for the service being offered. If the details are specified for this unit, this field must be specified.\n","example":"Men's Haircut"},"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"resourceName":{"type":"string","maxLength":255,"description":"The name of the resource in the service being offered. Examples include a person offering the service, a room/space name, or a location name.\n","example":"Anna Rosendahl"}},"required":["serviceTitle"]},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}}}},"required":["fulfillmentType"]}}},"required":["priceSummary"]}]}},"meta":{"type":"object","description":"Contains metadata about the availability response.","properties":{"prereservationId":{"type":"string","maxLength":99,"description":"The pre-reservation ID generated by this availability check. If present, this will be passed into the reserve call. It will override the pre-reservation ID passed in the request, so if this value is different from the one passed in the request this value will be used in the reserve call.\nIf using Base64 to encode a value for the pre-reservation ID, it is strongly advised to use URL safe Base64 encoding without padding.\n","example":"abc123"}}}},"required":["data"]},"examples":{"successful response":{"summary":"Successful response","value":{"data":[{"productId":"00000000-0000-00ff-ffff-ffffffffffff","categoryId":"0fff0000-0000-00ff-0000-fffffff0000f","quantitySummary":{"estimatedProductRemainingQuantity":250,"allowedQuantities":[1,2]},"priceSummary":{"currencyCode":"EUR","price":{"amount":433},"value":{"amount":845},"basePrice":{"amount":450},"adjustments":[{"type":"TAX","value":{"amount":5}}]},"writeups":{"priceSummaryDescription":"Additional service fee & taxes to be paid at merchant location: $50.40."},"reservedUnits":[{"fulfillmentType":"electronic","details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T23:00:00.000Z","endAt":"2015-11-02T01:00:00.000Z","resourceName":"Anna Rosendahl"},"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"}}]}]}],"meta":{"prereservationId":"abc123"}}},"price change":{"summary":"Price change","description":"This exemplifies when there is a price change. Note that a different price is returned.","value":{"data":[{"productId":"00000000-0000-0000-0000-000000000000","categoryId":"0fff0000-0000-00ff-0000-fffffff0000f","quantitySummary":{"estimatedProductRemainingQuantity":100,"allowedQuantities":[1,2,3,4,5]},"priceSummary":{"currencyCode":"EUR","price":{"amount":433},"basePrice":{"amount":450},"value":{"amount":845},"adjustments":[{"type":"TAX","value":{"amount":72}},{"type":"TIP","value":{"amount":100}},{"type":"BOOKING_FEE","value":{"amount":200}}]},"prereservationPriceSummary":{"currencyCode":"EUR","price":{"amount":300}},"writeups":{"priceSummaryDescription":"Additional service fee & taxes to be paid at merchant location: $50.40."},"reservedUnits":[{"fulfillmentType":"electronic","details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T23:00:00.000Z","endAt":"2015-11-02T01:00:00.000Z","resourceName":"Anna Rosendahl"},"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"}}]}]}],"meta":{"prereservationId":"abc123"}}}}}}},"400":{"description":"If the request is invalid, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`PRODUCT_NOT_AVAILABLE`</td>\n  <td>400</td>\n  <td>The product id or product and attribute combination is no longer available. This error should not be used if there is a user specific purchase quantity limit being exceeded (see `MAX_PURCHASE_QUANTITY_EXCEEDED` error below).</td>\n</tr>\n<tr>\n  <td>`PRODUCT_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The product id or product and attribute combination is not recognized by the Partner.</td>\n</tr>\n<tr>\n  <td>`PRODUCT_SOLD_OUT`</td>\n  <td>400</td>\n  <td>The product is globally sold out (all variations of the product), and should be deactivated/made unavailable on Groupon.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td>`PRERESERVATION_ID_UNKNOWN`</td>\n  <td>404</td>\n  <td>The pre-reservation ID cannot be resolved.</td>\n</tr>\n<tr>\n  <td>`MAX_PURCHASE_QUANTITY_EXCEEDED`</td>\n  <td>400</td>\n  <td>The user specific purchase quantity limit will be exceeded for the specified quantity. This is related to the offers[].offer.products[].restrictions.maxPurchaseQuantity attribute from the Offer Ingestion Schema.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["PRODUCT_NOT_AVAILABLE","PRODUCT_NOT_FOUND","PRODUCT_SOLD_OUT","MALFORMED_REQUEST","PRERESERVATION_ID_UNKNOWN","MAX_PURCHASE_QUANTITY_EXCEEDED"]},"products":{"type":"array","description":"An array of products associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied product id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","products"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]},"examples":{"product not available":{"summary":"Product not available","description":"The product is not available","value":{"errors":[{"code":"PRODUCT_NOT_AVAILABLE","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff"}]}],"httpCode":400}}}}}}}}},"/groupon/v2/products/availability":{"post":{"summary":"Check Availability","operationId":"postProductsAvailability_v2","tags":["Transactional Partner Endpoints"],"description":"This endpoint is used to determine availability and pricing for a specific product and attribute combination.\nThe availability should be based off of real-time sources.\n\nOptionally, the partner may choose to implement a temporary hold on inventory and return\nthose reserved units in the response. For an iframe integration, the returned reservation\nID (called a pre-reservation ID in this call) will be passed as a URL parameter.\n\nA partner which is implementing only iframe transactions will not need to implement this call.\nHowever, even if a partner has “unlimited” inventory this endpoint should still be implemented.\nThe reason is that the partner should return a `PRODUCT_NOT_AVAILABLE` error if the product is no longer offered for purchase.\n\n## Expected SLA\nTP99 35ms at 10k rpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\nThis request is specified as using POST for practical reasons as the full set of inputs\nmay exceed static buffer space for query string size in common server stacks; however,\nthe request should not create data, and the semantics should be the same as GET.\nThe specific attributes supported will expand over time to fit the needs of a specific partner.\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"purchaserId","in":"query","description":"An identifier representing the Groupon user purchasing this option. The format will be a UUID (canonical format).\n","required":false,"schema":{"type":"string","format":"uuid","minLength":36,"maxLength":36},"example":"11100000-0000-00ff-ffff-ffffffffffff"},{"name":"prereservationId","in":"query","description":"This would be the data.reservationId attribute returned by the reservationPlaced event for an iframe integration or the meta.prereservationId field from a checkAvailability response.\n","required":false,"schema":{"type":"string","maxLength":99},"example":"22200000-0000-00ff-ffff-ffffffffffff"},{"name":"purchaserEmailHash","in":"query","description":"The email hash for the Groupon user purchasing this option. See the Purchaser Email Hash section for more details.\n\nSince not all Groupon users have an associated email address, this field is not required.\n","required":false,"schema":{"type":"string","maxLength":88},"example":"pOylLJ4I9B-O7O7LUEFgCjWK8ZVPLs0peR0ByN9Nl84"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"products":{"type":"array","items":{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"discountManager":{"description":"who will be responsible to calculate customerBuyPrice and grouponBuyPrice.","type":"string","enum":["Groupon","Partner"]},"availabilities":{"description":"This can be used when booking more than one availability slot or if there are multiple availability slots for the same time range.","type":"array","items":{"type":"object","properties":{"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds are present in the feed/availability response, then the\nchosen locationId will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","description":"id of the availability attribute value.","maxLength":99}},"quantity":{"description":"quantity of this availability slot being reserved.\n","type":"integer","minimum":1,"example":2}},"required":["quantity"]}}},"required":["productId","discountManager","availabilities"]}}},"required":["products"]}}}},"responses":{"200":{"description":"If inventory is available, then a 200 response should be returned with the following body.","content":{"application/json":{"schema":{"type":"object","properties":{"schemaVersion":{"type":"string","description":"The version of the schema being used for the available segments feed.  This is used to allow\ncompatibility between multiple schema versions.\n","enum":["v2.0"],"example":"v2.0"},"products":{"description":"The products for which availbility is being requested.","type":"array","items":{"allOf":[{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"quantitySummary":{"description":"The quantity details for this product globally (all variations of this product).","type":"object","properties":{"estimatedProductRemainingQuantity":{"type":"integer","minimum":0,"description":"The estimated quantity remaining for this product globally (all variations of this product). This value does not need to be real time, as it is used to inform remaining quantity for targeting reasons but not control purchasing.\nIf this is set to zero, then that will be taken as a signal that the product is entirely sold out (similar to it being removed from the feed) and will be marked as no longer available in the Groupon system. If more inventory is made available, then the product will be marked as available again upon the next ingestion run (assuming that the product exists in the feed during that run).\n","example":250}},"required":["estimatedProductRemainingQuantity"]},"availabilities":{"description":"This can be used when booking more than one availability slot or if there are multiple availability slots for the same time range.","type":"array","items":{"type":"object","properties":{"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds are present in the feed/availability response, then the\nchosen locationId will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","description":"id of the availability attribute value.","maxLength":99}},"quantity":{"description":"quantity of this availability slot being reserved.\n","type":"integer","minimum":1,"example":2},"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"discountPrice":{"allOf":[{"description":"Amount that the customer will pay. If there is no discount on this item, then the amount should be the same as the retailPrice."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095},"tax":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $1.95 would be represented as 195.\n","example":195},"taxIncludedInAmount":{"type":"boolean","description":"Indicates whether tax provided is already included in the provided amount."}},"required":["amount","taxIncludedInAmount"]}]},"retailPrice":{"allOf":[{"description":"Amount of the undiscounted price."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095},"tax":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $1.95 would be represented as 195.\n","example":195},"taxIncludedInAmount":{"type":"boolean","description":"Indicates whether tax provided is already included in the provided amount."}},"required":["amount","taxIncludedInAmount"]}]}},"required":["currencyCode","retailPrice"]}},"required":["availableAt","quantity","priceSummary"]}},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the basePrice.","items":null,"properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price, which should be chosen from the enum.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* DELIVERY_FEE_TAX - Any tax amount to be paid on delivery fee.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* BOOKING_FEE_TAX - Any tax amount to be paid on booking fee.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n* SERVICE_FEE_TAX - Any tax amount to be paid on service fee.\n","enum":["DELIVERY_FEE","DELIVERY_FEE_TAX","TIP","BOOKING_FEE","BOOKING_FEE_TAX","SERVICE_FEE","SERVICE_FEE_TAX"],"example":"BOOKING_FEE"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price for the order\n"}},"required":["type","value"]},"writeups":{"type":"object","description":"Object which contains the partner supplied texts to be displayed to customers on an item.\nNote that the text needs to be localized with the **locale** parameter value.\n","properties":{"priceSummaryDescription":{"type":"string","maxLength":255,"description":"Additional text to display with the price summary","example":"Additional service fee & taxes to be paid at merchant location: $50.40."}}},"fulfillmentType":{"type":"string","description":"The type of fulfillment for this unit. This indicates how the user will receive the product after purchase.\nPickup indicates the purchaser must go and pick up their product, such as “will call” for tickets.\nShipped indicates that the product will be shipped to the purchaser.\nElectronic indicates that the purchaser will receive their product electronically, such as a PDF version of a ticket or voucher. Please note that this means that the data.products[].reservedUnits[].details.voucherUrl attribute on the reservation needs to be set when the purchase is fulfilled.\n","enum":["pickup","shipped","electronic"],"example":"electronic"},"serviceTitle":{"type":"string","maxLength":255,"description":"The title for the service being offered. If the details are specified for this unit, this field must be specified.\n","example":"Men's Haircut"}},"required":["productId","quantitySummary","availabilities","fulfillmentType","serviceTitle"]}]}},"meta":{"type":"object","description":"Contains metadata about the availability response.","properties":{"prereservationId":{"type":"string","maxLength":99,"description":"The pre-reservation ID generated by this availability check. If present, this will be passed into the reserve call. It will override the pre-reservation ID passed in the request, so if this value is different from the one passed in the request this value will be used in the reserve call.\nIf using Base64 to encode a value for the pre-reservation ID, it is strongly advised to use URL safe Base64 encoding without padding.\n","example":"abc123"}}}},"required":["schemaVersion","data"]}}}},"400":{"description":"If the request is invalid, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`PRODUCT_NOT_AVAILABLE`</td>\n  <td>400</td>\n  <td>The product id or product and attribute combination is no longer available. This error should not be used if there is a user specific purchase quantity limit being exceeded (see `MAX_PURCHASE_QUANTITY_EXCEEDED` error below).</td>\n</tr>\n<tr>\n  <td>`PRODUCT_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The product id or product and attribute combination is not recognized by the Partner.</td>\n</tr>\n<tr>\n  <td>`PRODUCT_SOLD_OUT`</td>\n  <td>400</td>\n  <td>The product is globally sold out (all variations of the product), and should be deactivated/made unavailable on Groupon.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td>`PRERESERVATION_ID_UNKNOWN`</td>\n  <td>404</td>\n  <td>The pre-reservation ID cannot be resolved.</td>\n</tr>\n<tr>\n  <td>`MAX_PURCHASE_QUANTITY_EXCEEDED`</td>\n  <td>400</td>\n  <td>The user specific purchase quantity limit will be exceeded for the specified quantity. This is related to the offers[].offer.products[].restrictions.maxPurchaseQuantity attribute from the Offer Ingestion Schema.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["PRODUCT_NOT_AVAILABLE","PRODUCT_NOT_FOUND","PRODUCT_SOLD_OUT","MALFORMED_REQUEST","PRERESERVATION_ID_UNKNOWN","MAX_PURCHASE_QUANTITY_EXCEEDED"]},"products":{"type":"array","description":"An array of products associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied product id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","products"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]},"examples":{"product not available":{"summary":"Product not available","description":"The product is not available","value":{"errors":[{"code":"PRODUCT_NOT_AVAILABLE","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff"}]}],"httpCode":400}}}}}}}}},"/groupon/v1/reservations":{"post":{"summary":"Create Reservation","operationId":"postReservations","description":"This endpoint is used to put an indefinite hold on inventory.\nThis can take the form of either a specific unit returned from the check availability call,\nor a general product. The reserved units should “belong” to the purchaser,\nand should not expire or be released unless cancel is explicitly called.\nThe inventory should also not be released to the purchaser until it has been fulfilled.\n\nIn the case that a previously reserved unit (i.e. a temporary hold from the check availability call)\nis no longer available, this should be treated as any other availability failure.\n\nThe partner is able to verify the price Groupon is charging as it will be passed in the request.\nGroupon will also verify the price which the partner expected to be charged by comparing it to the price in the response.\nIf Groupon detects an inconsistency, it may automatically cancel the order to avoid incorrectly charging the customer;\nhowever, it is recommended that the partner verify the price on the request and fail the request with the appropriate error code.\n\nThe status of the reservation after this call should be “reserved”.\n\n## Expected SLA\nTP99 80ms at 10krpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"purchaserId","in":"query","description":"An identifier representing the Groupon user purchasing this option. The format will be a UUID (canonical format).\n","required":true,"schema":{"type":"string","format":"uuid","minLength":36,"maxLength":36},"example":"11100000-0000-00ff-ffff-ffffffffffff"},{"name":"prereservationId","in":"query","description":"This would be the data.reservationId attribute returned by the reservationPlaced event for an iframe integration or the meta.prereservationId field from a checkAvailability response.\n","required":false,"schema":{"type":"string","maxLength":99},"example":"22200000-0000-00ff-ffff-ffffffffffff"},{"name":"purchaserEmailHash","in":"query","description":"The email hash for the Groupon user purchasing this option. See the Purchaser Email Hash section for more details.\n\nSince not all Groupon users have an associated email address, this field is not required.\n","required":false,"schema":{"type":"string","maxLength":88},"example":"pOylLJ4I9B-O7O7LUEFgCjWK8ZVPLs0peR0ByN9Nl84"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"data":{"type":"array","items":{"allOf":[{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"attributes":{"type":"object","description":"The specific attributes of the product.\nThis field is deprecated.\n","deprecated":true,"properties":{"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"An optional datetime representing the start time.\nThe format is ISO-8601 [combined date and time with timezone](https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n","example":"2015-12-01T06:59:59.000Z"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"An optional datetime representing the end time.\nThe format is ISO-8601 [combined date and time with timezone](https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n","example":"2015-12-01T08:00:00.000Z"}}}},"required":["productId"]},{"type":"object","properties":{"quantity":{"type":"integer","description":"The quantity of this product being reserved, usually used for voucher purchases.\n\nWhen `prereservationId` is passed, then this attribute will\nnot be included in the request since the quantity has already\nbeen established during the iframe flow.\n\nWhen sending `bookings` this attribute will not be included since the quantity is\ndetermined by the number of units and bookings.\n","example":2},"reservedUnits":{"type":"array","description":"An array of reserved units to be created. The count of reserved units will match the quantity specified in `data[].quantity`.\nIf checkAvailability returned reservedUnits, those partner ids will be included here.\n","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner supplied ID for the reserved unit.\n\nThis will be present only if the partner has supplied an ID, and is used\nto identify the specific units being reserved from the check availability call.\n","maxLength":99,"example":"ffffffff-ffff-ffff-ffff-ffffffffffff"},"grouponCustomerServiceId":{"type":"string","description":"Groupon’s Customer Service reference ID for this unit. This can be used\nwhen communicating with Groupon Customer Service to reference this reservation.\n","maxLength":22,"example":"TP-ZVX6-MG46-JFT4-99LG"}}}},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}},{"type":"object","properties":{"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30},"meetsMinimumAgeRestriction":{"type":"integer","description":"The purchaser has specified that they meet the minimum age specified.\nThis does not indicate the purchaser is exactly their age, but rather\nthey have indicated that they are at least the specified age.\n\nWhile this value is informed by the minimumAge restriction associated\nwith the product, ultimately enforcing this restriction and ensuring\nthat it is an appropriate value is the responsibility of the partner.\nPlease use the `PRODUCT_RESTRICTION_VIOLATED` error code to denote\na failed restriction.\n","minimum":1,"example":21},"currentLocationPostalCode":{"type":"string","description":"The postal code associated with the current location of the purchaser.\nThis will be based on the current location of the purchaser, so the\nformat will match the country the user is located in.\n","minLength":3,"maxLength":10}}}]}},"accountingDetails":{"type":"object","description":"Object which contains data for accounting and partner payments.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"buyPrice":{"allOf":[{"type":"object","description":"Object which contains the price that Groupon should pay to the partner.\nThis will be required in case where Groupon does not have visibility into items purchased by the customer with the reservation. For e.g. in case of Iframe and where margin cannot be configured on Groupon side by straightforward percentage or fixed amount on the purchase.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]}},"required":["buyPrice","currencyCode"]}},"required":["reservedUnits"]},{"type":"object","properties":{"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"allOf":[{"description":"The price that the customer will be charged. This price should not include taxes or fees. The price can only be less than or equal to basePrice. If not running any discount, price should be same as basePrice.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"basePrice":{"allOf":[{"description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"value":{"allOf":[{"description":"Non discounted price, inclusive of all taxes and fees."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"adjustments":{"type":"array","description":"Any fees to be applied on top of the price.","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n**Note:** if `TAX` type is not present then Groupon will calculate the tax if applicable.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e discountedPrice, which should be chosen from the enum.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e price, for the order."}},"required":["type","value"]}}},"required":["currencyCode","value","price"]}},"required":["priceSummary"]}]}}},"required":["data"]},{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"reservedUnits":{"type":"array","items":{"type":"object","properties":{"bookings":{"description":"included when using availability segments.","type":"array","items":{"allOf":[{"type":"object","properties":{"purchaserAnswers":{"description":"Answers provided by the purchaser on the questions of this product.  \nSee *offers.products.purchaserQuestionIds* in ingestion feed.\n","allOf":[{"type":"object","additionalProperties":{"description":"a key/value map of all answers. The key is the property of the question and the\nvalue is what the user selected or typed to that question.\n","type":"string"}},{"type":"object"}]},"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"availability":{"description":"Availability segments chosen by the purchaser. Will include all properties present in\nthe feed/availability payload and the answers to any questions.\n","type":"array","items":{"type":"object","properties":{"id":{"description":"id of the availability slot. See in ingestion availability spec *products.availability*\n","type":"string","maxLength":99,"example":"adult-111111"},"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}},"purchaserAnswers":{"description":"Answers provided by the purchaser on the questions of this product.  \nSee *offers.products.purchaserQuestionIds* in ingestion feed.\n","allOf":[{"type":"object","additionalProperties":{"description":"a key/value map of all answers. The key is the property of the question and the\nvalue is what the user selected or typed to that question.\n","type":"string"}},{"type":"object"}]}}}}},"required":["availability","grouponBookingId"]},{"type":"object","required":["grouponBookingId"]}]}}},"required":["grouponCustomerServiceId"]}}}}}}}]},"examples":{"regular":{"value":{"data":[{"productId":"00000000-0000-00ff-ffff-ffffffffffff","quantity":1,"reservedUnits":[{"id":"partner-reserved-id-1","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG"}],"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"},"email":"John@groupon.com","phone":"+11231231234","meetsMinimumAgeRestriction":18,"currentLocationPostalCode":"60654"}],"accountingDetails":{"currencyCode":"EUR","buyPrice":{"amount":450}},"priceSummary":{"currencyCode":"EUR","price":{"amount":300},"value":{"amount":500},"basePrice":{"amount":450},"adjustments":[{"type":"TIP","value":{"amount":100}},{"type":"BOOKING_FEE","value":{"amount":200}}]}}]}},"booking":{"description":"example with a booking object","value":{"data":[{"productId":"00000000-0000-00ff-ffff-ffffffffffff","quantity":1,"reservedUnits":[{"id":"partner-reserved-id-1","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","bookings":[{"grouponBookingId":"a10892ef-9898-40bb-8cc3-6ef45f08c60a","availability":[{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"]},{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"]},{"id":"gkfmj234kndDf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["kid","entrance"]}]}]}],"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"},"email":"John@groupon.com","phone":"+11231231234","meetsMinimumAgeRestriction":18,"currentLocationPostalCode":"60654"}],"accountingDetails":{"currencyCode":"EUR","buyPrice":{"amount":450}},"priceSummary":{"currencyCode":"EUR","price":{"amount":300},"value":{"amount":500},"basePrice":{"amount":450},"adjustments":[{"type":"TIP","value":{"amount":100}},{"type":"BOOKING_FEE","value":{"amount":200}}]}}]}},"bookingAnswers":{"description":"booking example with provided answers","value":{"data":[{"productId":"00000000-0000-00ff-ffff-ffffffffffff","quantity":1,"reservedUnits":[{"id":"partner-reserved-id-1","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","bookings":[{"purchaserAnswers":{"language":"english"},"grouponBookingId":"a10892ef-9898-40bb-8cc3-6ef45f08c60a","availability":[{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"],"purchaserAnswers":{"weight":"120 lb"}},{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"],"purchaserAnswers":{"weight":"200"}},{"id":"gkfmj234kndDf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["kid","entrance"],"purchaserAnswers":{"weight":"90lb"}}]}]}],"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"},"email":"John@groupon.com","phone":"+11231231234","meetsMinimumAgeRestriction":18,"currentLocationPostalCode":"60654"}],"accountingDetails":{"currencyCode":"EUR","buyPrice":{"amount":450}},"priceSummary":{"currencyCode":"EUR","price":{"amount":300},"value":{"amount":500},"basePrice":{"amount":450},"adjustments":[{"type":"TIP","value":{"amount":100}},{"type":"BOOKING_FEE","value":{"amount":200}}]}}]}}}}}},"responses":{"200":{"description":"Response of a reservation object","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this reservation. This id must be unique across all reservations.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"categoryId":{"type":"string","format":"uuid","minLength":36,"maxLength":36,"description":"The categorization for this product.  This field is a uuid and the only acceptable values are the provided categorization uuids.\n","example":"0fff0000-0000-00ff-0000-fffffff0000f"},"quantity":{"type":"integer","description":"The quantity of this product being reserved. This isn't used if bookings are present.","example":2},"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"allOf":[{"description":"The price that the customer will be charged. This price should not include taxes or fees. The price can only be less than or equal to basePrice. If not running any discount, price should be same as basePrice.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"basePrice":{"allOf":[{"description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"value":{"allOf":[{"description":"Non discounted price, inclusive of all taxes and fees."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the price.","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n**Note:** if `TAX` type is not present then Groupon will calculate the tax if applicable.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e price, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the price.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e price, for the order."}},"required":["type","value"]}}},"required":["currencyCode","price"]},"accountingDetails":{"type":"object","description":"Object which contains data for accounting and partner payments.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"buyPrice":{"allOf":[{"type":"object","description":"Object which contains the price that Groupon should pay to the partner.\nThis will be required in case where Groupon does not have visibility into items purchased by the customer with the reservation. For e.g. in case of Iframe and where margin cannot be configured on Groupon side by straightforward percentage or fixed amount on the purchase.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]}}},"reservedUnits":{"type":"array","description":"An array of reserved units.\nThis section may also be used for iframe bookings to pass details from the partner back to Groupon about the reservation.\nIf quantity is specified in the request, the size of this array should match the quantity in the request.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","example":"abcdefgh1234567"},"status":{"type":"string","description":"The current state for this unit. When all the units within a reservation have assumed the same state, then the reservation should assume that state.\nSee unit lifecycle state machine for more details.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled","redeemed"],"example":"fulfilled"},"cancellation":{"type":"object","description":"The specifics related to the cancellation of a unit.","properties":{"reason":{"type":"string","maxLength":255,"description":"Any reason due to which the partner cancelled the unit e.g. 'event was cancelled'.\n"}}},"fulfillmentType":{"type":"string","description":"The type of fulfillment for this unit. This indicates how the user will receive the product after purchase.\nPickup indicates the purchaser must go and pick up their product, such as “will call” for tickets.\nShipped indicates that the product will be shipped to the purchaser.\nElectronic indicates that the purchaser will receive their product electronically, such as a PDF version of a ticket or voucher. Please note that this means that the data.products[].reservedUnits[].details.voucherUrl attribute on the reservation needs to be set when the purchase is fulfilled.\n","enum":["pickup","shipped","electronic"],"example":"shipped"},"partnerCustomerServiceId":{"type":"string","maxLength":255,"description":"The partner’s Customer Service reference ID for this unit. This ID will\nbe included in a purchase confirmation email sent by Groupon.\n\nIf this attribute is not populated, then the partner’s reservation ID will be used in its place.\n"},"expiresAt":{"type":"string","description":"A datetime representing when this unit will expire.\nIf `null`, this unit is expected to never expire.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","minLength":20,"maxLength":29,"format":"date-time","example":"2015-12-01T06:59:59.000Z"},"redeemedAt":{"type":"string","format":"date-time","description":"Denotes the timestamp when the unit was redeemed. Field should be provided if `status` value is `redeemed`.\nThe format is [ISO-8601](https://tools.ietf.org/html/rfc3339#section-5) combined date and time with timezone.\n"},"details":{"type":"object","description":"The specifics which describe the details of this unit.","properties":{"serviceTitle":{"type":"string","maxLength":255,"description":"The title for the service being offered. If the details are specified for this unit, this field must be specified.\n","example":"Men's Haircut"},"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"resourceName":{"type":"string","maxLength":255,"description":"The name of the resource in the service being offered. Examples include a person offering the service, a room/space name, or a location name.\n","example":"Anna Rosendahl"},"voucherUrl":{"type":"string","description":"The URL to the partner system which returns a printable voucher. This URL should\nnot require login (e.g. it should contain any necessary security tokens to protect the voucher).\n\nThe user will be presented with this URL in Groupon’s system to view their voucher.\n","maxLength":255},"barcodes":{"type":"array","description":"The barcodes array for a unit, the order has to be consistent for easy selection.\nThe multi-barcodes feature on an unit is used when there are individual tickets to be\ngenerated on Groupon side for each member in the purchaser's group.\n","items":{"description":"information associated with each barcode","type":"object","properties":{"format":{"description":"The barcode format.","type":"string","enum":["code128","code128c","qrcode","text"]},"title":{"description":"The title of the barcode to be displayed to the end user on the Groupon voucher.\nThis title should include the category of group member for whom the barcode is issued.\nAs from the example below `Adult` is the intended category of the group member for whom\nthe related barcode is generated.\n","type":"string","example":"Adult ticket"},"value":{"description":"The content/payload displayed in the barcode.","type":"string"}},"required":["format","value"]}}},"required":["serviceTitle"]},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}},{"type":"object","properties":{"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30},"meetsMinimumAgeRestriction":{"type":"integer","description":"The purchaser has specified that they meet the minimum age specified.\nThis does not indicate the purchaser is exactly their age, but rather\nthey have indicated that they are at least the specified age.\n\nWhile this value is informed by the minimumAge restriction associated\nwith the product, ultimately enforcing this restriction and ensuring\nthat it is an appropriate value is the responsibility of the partner.\nPlease use the `PRODUCT_RESTRICTION_VIOLATED` error code to denote\na failed restriction.\n","minimum":1,"example":21},"currentLocationPostalCode":{"type":"string","description":"The postal code associated with the current location of the purchaser.\nThis will be based on the current location of the purchaser, so the\nformat will match the country the user is located in.\n","minLength":3,"maxLength":10}}}]}},"grouponCustomerServiceId":{"type":"string","description":"Groupon’s Customer Service reference ID for this unit. This can be used\nwhen communicating with Groupon Customer Service to reference this reservation.\n","maxLength":22,"example":"TP-ZVX6-MG46-JFT4-99LG"},"bookings":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking. This id must be unique across all bookings for this unit.","maxLength":99},"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"availability":{"description":"Availability segments chosen by the purchaser.","type":"array","items":{"type":"object","properties":{"id":{"description":"id of the availability slot. See in ingestion availability spec *products.availability*\n","type":"string","maxLength":99,"example":"adult-111111"},"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["id"]}}},"required":["id","status"]},{"type":"object","properties":{"isRedeemed":{"type":"boolean","deprecated":true,"description":"DEPRECATED: use `status=redeemed` attribute instead.\n\nDenotes if this unit has been redeemed or not. If true, this unit has been redeemed.\nIf false, the unit has not yet been redeemed.\n"}},"required":["fulfillmentType"]}]}}},"required":["id","priceSummary","reservedUnits"]}}},"required":["id","status","updatedAt","products"]}},"required":["data"]},{"type":"object","properties":{"data":{"type":"object","properties":{"products":{"type":"array","items":{"type":"object","properties":{"reservedUnits":{"type":"array","items":{"type":"object","properties":{"bookings":{"type":"array","items":{"type":"object","required":["grouponBookingId"]}}},"required":["grouponCustomerServiceId"]}}}}}}}}}]},"examples":{"successfulResponse":{"summary":"Successful response","value":{"data":{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"reserved","createdAt":"2015-12-01T01:00:00.000Z","updatedAt":"2015-12-01T23:59:59.000Z","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","categoryId":"00000000-0000-00ff-0000-fffffff0000f","quantity":1,"priceSummary":{"currencyCode":"EUR","price":{"amount":300},"basePrice":{"amount":450},"value":{"amount":450},"adjustments":[{"type":"TAX","value":{"amount":72}},{"type":"TIP","value":{"amount":100}},{"type":"BOOKING_FEE","value":{"amount":200}}]},"accountingDetails":{"currencyCode":"EUR","buyPrice":{"amount":450}},"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff","status":"reserved","fulfillmentType":"electronic","partnerCustomerServiceId":"partnerCustomerServiceId","expiresAt":"2015-11-01T17:00:00.000Z","redeemedAt":"2015-11-01T17:00:00.000Z","details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T16:00:00.000Z","endAt":"2015-11-01T17:00:00.000Z","resourceName":"Anna Rosendahl","voucherUrl":"http://partner-voucher-url.com","barcodes":[{"format":"qrcode","title":"title of the barcode","value":"12421242313213"}]},"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"},"email":"John@groupon.com","phone":"+11231231234","meetsMinimumAgeRestriction":18,"currentLocationPostalCode":"60654"}],"grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG"}]}]}}},"booking":{"value":{"data":{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"reserved","createdAt":"2015-12-01T01:00:00.000Z","updatedAt":"2015-12-01T23:59:59.000Z","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","categoryId":"00000000-0000-00ff-0000-fffffff0000f","quantity":1,"priceSummary":{"currencyCode":"EUR","price":{"amount":300},"basePrice":{"amount":450},"value":{"amount":450},"adjustments":[{"type":"TAX","value":{"amount":72}},{"type":"TIP","value":{"amount":100}},{"type":"BOOKING_FEE","value":{"amount":200}}]},"accountingDetails":{"currencyCode":"EUR","buyPrice":{"amount":450}},"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff","status":"reserved","fulfillmentType":"electronic","partnerCustomerServiceId":"partnerCustomerServiceId","expiresAt":"2015-11-01T17:00:00.000Z","isRedeemed":false,"details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T16:00:00.000Z","endAt":"2015-11-01T17:00:00.000Z","resourceName":"Anna Rosendahl","voucherUrl":"http://partner-voucher-url.com","barcodes":[{"format":"qrcode","title":"title of the barcode","value":"12421242313213"}]},"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"},"email":"John@groupon.com","phone":"+11231231234","meetsMinimumAgeRestriction":18,"currentLocationPostalCode":"60654"}],"grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","bookings":[{"id":"partner-generator-unique-id","grouponBookingId":"a10892ef-9898-40bb-8cc3-6ef45f08c60a","availability":[{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"]},{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"]},{"id":"gkfmj234kndDf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["kid","entrance"]}]}]}]}]}}}}}}},"400":{"description":"If a reservation cannot be created, then a 4xx response should be returned with the following response body.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`PRODUCT_NOT_AVAILABLE`</td>\n  <td>400</td>\n  <td>The product id or product and attribute combination is no longer available.</td>\n</tr>\n<tr>\n  <td>`PRODUCT_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The product id or product and attribute combination is not recognized by the Partner.</td>\n</tr>\n<tr>\n  <td>`PRODUCT_SOLD_OUT`</td>\n  <td>400</td>\n  <td>The product is globally sold out (all variations of the product), and should be deactivated/made unavailable on Groupon.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td>`PRERESERVATION_ID_UNKNOWN`</td>\n  <td>404</td>\n  <td>The pre-reservation ID cannot be resolved.</td>\n</tr>\n<tr>\n  <td>`PRICE_NOT_AVAILABLE`</td>\n  <td>400</td>\n  <td>The price specified by the pre-reservation ID is no longer available.</td>\n</tr>\n<tr>\n  <td>`PRODUCT_RESTRICTION_VIOLATED`</td>\n  <td>400</td>\n  <td>A restriction on the product has been violated. For example, the minimumAge restriction is not met by the purchaser.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["PRODUCT_NOT_AVAILABLE","PRODUCT_NOT_FOUND","PRODUCT_SOLD_OUT","MALFORMED_REQUEST","PRERESERVATION_ID_UNKNOWN","PRICE_NOT_AVAILABLE","PRODUCT_RESTRICTION_VIOLATED"]},"products":{"type":"array","description":"An array of products associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied product id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","products"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]},"examples":{"product not available":{"summary":"Product not available","description":"The product is not available","value":{"errors":[{"code":"PRODUCT_NOT_AVAILABLE","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff"}]}],"httpCode":400}}}}}}}},"get":{"summary":"Search Reservations","operationId":"getReservations","tags":["Transactional Partner Endpoints"],"description":"This endpoint is a search endpoint for Groupon to retrieve a collection of relevant reservations\nmatching a specified query. This endpoint will be used by Groupon for post-purchase reservation\nstatus reconciliations with partner. This helps to reduce multiple calls to partner on individual\nreservation with Retrieve Reservation api and consolidating into fewer bulk calls.\n\nThe results should be sorted by the reservation updatedAt field in ascending order, then by\nthe id field in ascending order. Sorting will ensure records maintain definite order across pagination queries.\n\nTo ensure Groupon polls all the updated reservations with the endpoint, the reservation updatedAt\nfield should be updated by partner when:\n* Reservation status is updated\n* ReservedUnits associated with reservation are updated\n\nNote: Groupon will make calls to this endpoint at recurring intervals and paginate over the results if needed.\n\nFor example if calling every 10 minutes:\nt: /groupon/v1/reservations?status=fulfilled&updatedSince=2018-11-04T00:00:00Z&updatedUntil=2018-11-04T00:10:00Z&limit=100&offset=0&locale=en_US\nt+10min: /groupon/v1/reservations?status=fulfilled&updatedSince=2018-11-04T00:10:00Z&updatedUntil=2018-11-04T00:20:00Z&limit=100&offset=0&locale=en_US\n## Expected SLA\nTP99 1000ms at 100rpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"status","in":"query","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","schema":{"type":"string","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"example":"fulfilled"},{"name":"updatedSince","in":"query","description":"Returns reservations changed since this timestamp as determined by the updatedAt field\n(updatedAt >= updatedSince). Datetime should be a UTC time and formatted as yyyy-MM-ddTHH:mm:ssZ.\n","schema":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","example":"2015-12-01T06:59:59.000Z"},"required":true},{"name":"updatedUntil","in":"query","description":"Returns reservations changed until this timestamp as determined by the updatedAt field\n(updatedAt < updatedUntil). Datetime should be a UTC time and formatted as yyyy-MM-ddTHH:mm:ssZ.\n","schema":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","example":"2015-12-01T06:59:59.000Z"},"required":true},{"name":"offset","in":"query","description":"The starting point of the returned results. For example, if you have a collection of\n300 reservations matching the specified query and you specify limit=100, you can\nretrieve the entire set of results in 3 successive requests by varying the offset\nvalue: offset=0, offset=100, and offset=200.\n","schema":{"type":"integer","default":0}},{"name":"limit","in":"query","description":"The maximum number of records that should be returned.\n","schema":{"type":"integer","default":100}}],"responses":{"200":{"description":"If the request is succeeded, a 200 response should be returned with the following body.\nThis is an array of reservations with the same definition as the Retrieve Reservation endpoint.\n","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this reservation.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"categoryId":{"type":"string","format":"uuid","minLength":36,"maxLength":36,"description":"The categorization for this product.  This field is a uuid and the only acceptable values are the provided categorization uuids.\n","example":"0fff0000-0000-00ff-0000-fffffff0000f"},"quantity":{"type":"integer","description":"The quantity of this product being reserved. This isn't used if bookings are present.","example":2},"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"allOf":[{"description":"The price that the customer will be charged. This price should not include taxes or fees. The price can only be less than or equal to basePrice. If not running any discount, price should be same as basePrice.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"basePrice":{"allOf":[{"description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"value":{"allOf":[{"description":"Non discounted price, inclusive of all taxes and fees."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the price.","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n**Note:** if `TAX` type is not present then Groupon will calculate the tax if applicable.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e price, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the price.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e price, for the order."}},"required":["type","value"]}}},"required":["currencyCode","price"]},"accountingDetails":{"type":"object","description":"Object which contains data for accounting and partner payments.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"buyPrice":{"allOf":[{"type":"object","description":"Object which contains the price that Groupon should pay to the partner.\nThis will be required in case where Groupon does not have visibility into items purchased by the customer with the reservation. For e.g. in case of Iframe and where margin cannot be configured on Groupon side by straightforward percentage or fixed amount on the purchase.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]}}},"reservedUnits":{"type":"array","description":"An array of reserved units.\nThis section may also be used for iframe bookings to pass details from the partner back to Groupon about the reservation.\nIf quantity is specified in the request, the size of this array should match the quantity in the request.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","example":"abcdefgh1234567"},"status":{"type":"string","description":"The current state for this unit. When all the units within a reservation have assumed the same state, then the reservation should assume that state.\nSee unit lifecycle state machine for more details.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled","redeemed"],"example":"fulfilled"},"cancellation":{"type":"object","description":"The specifics related to the cancellation of a unit.","properties":{"reason":{"type":"string","maxLength":255,"description":"Any reason due to which the partner cancelled the unit e.g. 'event was cancelled'.\n"}}},"fulfillmentType":{"type":"string","description":"The type of fulfillment for this unit. This indicates how the user will receive the product after purchase.\nPickup indicates the purchaser must go and pick up their product, such as “will call” for tickets.\nShipped indicates that the product will be shipped to the purchaser.\nElectronic indicates that the purchaser will receive their product electronically, such as a PDF version of a ticket or voucher. Please note that this means that the data.products[].reservedUnits[].details.voucherUrl attribute on the reservation needs to be set when the purchase is fulfilled.\n","enum":["pickup","shipped","electronic"],"example":"shipped"},"partnerCustomerServiceId":{"type":"string","maxLength":255,"description":"The partner’s Customer Service reference ID for this unit. This ID will\nbe included in a purchase confirmation email sent by Groupon.\n\nIf this attribute is not populated, then the partner’s reservation ID will be used in its place.\n"},"expiresAt":{"type":"string","description":"A datetime representing when this unit will expire.\nIf `null`, this unit is expected to never expire.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","minLength":20,"maxLength":29,"format":"date-time","example":"2015-12-01T06:59:59.000Z"},"redeemedAt":{"type":"string","format":"date-time","description":"Denotes the timestamp when the unit was redeemed. Field should be provided if `status` value is `redeemed`.\nThe format is [ISO-8601](https://tools.ietf.org/html/rfc3339#section-5) combined date and time with timezone.\n"},"details":{"type":"object","description":"The specifics which describe the details of this unit.","properties":{"serviceTitle":{"type":"string","maxLength":255,"description":"The title for the service being offered. If the details are specified for this unit, this field must be specified.\n","example":"Men's Haircut"},"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"resourceName":{"type":"string","maxLength":255,"description":"The name of the resource in the service being offered. Examples include a person offering the service, a room/space name, or a location name.\n","example":"Anna Rosendahl"},"voucherUrl":{"type":"string","description":"The URL to the partner system which returns a printable voucher. This URL should\nnot require login (e.g. it should contain any necessary security tokens to protect the voucher).\n\nThe user will be presented with this URL in Groupon’s system to view their voucher.\n","maxLength":255},"barcodes":{"type":"array","description":"The barcodes array for a unit, the order has to be consistent for easy selection.\nThe multi-barcodes feature on an unit is used when there are individual tickets to be\ngenerated on Groupon side for each member in the purchaser's group.\n","items":{"description":"information associated with each barcode","type":"object","properties":{"format":{"description":"The barcode format.","type":"string","enum":["code128","code128c","qrcode","text"]},"title":{"description":"The title of the barcode to be displayed to the end user on the Groupon voucher.\nThis title should include the category of group member for whom the barcode is issued.\nAs from the example below `Adult` is the intended category of the group member for whom\nthe related barcode is generated.\n","type":"string","example":"Adult ticket"},"value":{"description":"The content/payload displayed in the barcode.","type":"string"}},"required":["format","value"]}}},"required":["serviceTitle"]},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}},{"type":"object","properties":{"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30},"meetsMinimumAgeRestriction":{"type":"integer","description":"The purchaser has specified that they meet the minimum age specified.\nThis does not indicate the purchaser is exactly their age, but rather\nthey have indicated that they are at least the specified age.\n\nWhile this value is informed by the minimumAge restriction associated\nwith the product, ultimately enforcing this restriction and ensuring\nthat it is an appropriate value is the responsibility of the partner.\nPlease use the `PRODUCT_RESTRICTION_VIOLATED` error code to denote\na failed restriction.\n","minimum":1,"example":21},"currentLocationPostalCode":{"type":"string","description":"The postal code associated with the current location of the purchaser.\nThis will be based on the current location of the purchaser, so the\nformat will match the country the user is located in.\n","minLength":3,"maxLength":10}}}]}},"grouponCustomerServiceId":{"type":"string","description":"Groupon’s Customer Service reference ID for this unit. This can be used\nwhen communicating with Groupon Customer Service to reference this reservation.\n","maxLength":22,"example":"TP-ZVX6-MG46-JFT4-99LG"},"bookings":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking. This id must be unique across all bookings for this unit.","maxLength":99},"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"availability":{"description":"Availability segments chosen by the purchaser.","type":"array","items":{"type":"object","properties":{"id":{"description":"id of the availability slot. See in ingestion availability spec *products.availability*\n","type":"string","maxLength":99,"example":"adult-111111"},"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["id"]}}},"required":["id","status"]},{"type":"object","properties":{"isRedeemed":{"type":"boolean","deprecated":true,"description":"DEPRECATED: use `status=redeemed` attribute instead.\n\nDenotes if this unit has been redeemed or not. If true, this unit has been redeemed.\nIf false, the unit has not yet been redeemed.\n"}},"required":["fulfillmentType"]}]}}},"required":["id","priceSummary","reservedUnits"]}}},"required":["id","status","updatedAt","products"]}}},"required":["data"]},"examples":{"search":{"summary":"Search results","value":{"data":[{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"reserved","createdAt":"2015-12-01T01:00:00.000Z","updatedAt":"2015-12-01T23:59:59.000Z","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","quantity":1,"categoryId":"00000000-0000-00ff-0000-fffffff0000f","priceSummary":{"currencyCode":"EUR","price":{"amount":300},"adjustments":[{"type":"TAX","value":{"amount":72}},{"type":"TIP","value":{"amount":100}},{"type":"DELIVERY_FEE","value":{"amount":200}}]},"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff","status":"reserved","fulfillmentType":"electronic","expiresAt":"2015-11-01T17:00:00.000Z","isRedeemed":false,"details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T16:00:00.000Z","endAt":"2015-11-01T17:00:00.000Z","resourceName":"Anna Rosendahl"}}]},{"id":"ffffffff-ffff-ff00-0000-000000000000","quantity":2,"categoryId":"0fff0000-0000-00ff-0000-fffffff0000f","priceSummary":{"currencyCode":"EUR","price":{"amount":300}},"reservedUnits":[{"id":"00000000-0000-0000-0000-000000000000","status":"reserved","fulfillmentType":"electronic","isRedeemed":false,"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"}}]},{"id":"11111111-1111-1111-1111-111111111111","status":"reserved","fulfillmentType":"electronic","isRedeemed":true,"redeemedAt":"2015-12-01T01:00:00.000Z","purchaserDetails":[{"firstName":"Jane","lastName":"Doe"}]}]}]}]}}}}}},"400":{"description":"### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["MALFORMED_REQUEST"]}},"required":["code"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]},"examples":{"search-error":{"summary":"Search error","value":{"errors":[{"code":"MALFORMED_REQUEST"}],"httpCode":400}}}}}}}}},"/groupon/v2/reservations":{"post":{"summary":"Reserve","operationId":"postReservations_v2","tags":["Transactional Partner Endpoints"],"description":"This endpoint is used to put an indefinite hold on inventory.\nThis can take the form of either a specific unit returned from the check availability call,\nor a general product. The reserved units should “belong” to the purchaser,\nand should not expire or be released unless cancel is explicitly called.\nThe inventory should also not be released to the purchaser until it has been fulfilled.\n\nIn the case that a previously reserved unit (i.e. a temporary hold from the check availability call)\nis no longer available, this should be treated as any other availability failure.\n\nThe partner is able to verify the price Groupon is charging as it will be passed in the request.\nGroupon will also verify the price which the partner expected to be charged by comparing it to the price in the response.\nIf Groupon detects an inconsistency, it may automatically cancel the order to avoid incorrectly charging the customer;\nhowever, it is recommended that the partner verify the price on the request and fail the request with the appropriate error code.\n\nThe status of the reservation after this call should be “reserved”.\n\n## Expected SLA\nTP99 80ms at 10krpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"purchaserId","in":"query","description":"An identifier representing the Groupon user purchasing this option. The format will be a UUID (canonical format).\n","required":true,"schema":{"type":"string","format":"uuid","minLength":36,"maxLength":36},"example":"11100000-0000-00ff-ffff-ffffffffffff"},{"name":"prereservationId","in":"query","description":"This would be the data.reservationId attribute returned by the reservationPlaced event for an iframe integration or the meta.prereservationId field from a checkAvailability response.\n","required":false,"schema":{"type":"string","maxLength":99},"example":"22200000-0000-00ff-ffff-ffffffffffff"},{"name":"purchaserEmailHash","in":"query","description":"The email hash for the Groupon user purchasing this option. See the Purchaser Email Hash section for more details.\n\nSince not all Groupon users have an associated email address, this field is not required.\n","required":false,"schema":{"type":"string","maxLength":88},"example":"pOylLJ4I9B-O7O7LUEFgCjWK8ZVPLs0peR0ByN9Nl84"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"reservations":{"type":"array","items":{"allOf":[{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"discountManager":{"description":"who will be responsible to calculate customerBuyPrice and grouponBuyPrice.","type":"string","enum":["Groupon","Partner"]},"grouponCustomerServiceId":{"type":"string","description":"Groupon’s Customer Service reference ID for this unit. This can be used\nwhen communicating with Groupon Customer Service to reference this reservation.\n","maxLength":22,"example":"TP-ZVX6-MG46-JFT4-99LG"},"reservationId":{"type":"string","description":"reservation-id\n","maxLength":22,"example":"partner-reserved-id-1"},"bookings":{"type":"array","description":"An array of bookings to be created.\n","items":{"type":"object","properties":{"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"availability":{"description":"Availability segments chosen by the purchaser.","type":"array","items":{"type":"object","properties":{"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}},"purchaserAnswers":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"type":"object","additionalProperties":{"description":"a key/value map of all answers. The key is the property of the question and the\nvalue is what the user selected or typed to that question.\n","type":"string"}}}}}}}}},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}},{"type":"object","properties":{"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30},"meetsMinimumAgeRestriction":{"type":"integer","description":"The purchaser has specified that they meet the minimum age specified.\nThis does not indicate the purchaser is exactly their age, but rather\nthey have indicated that they are at least the specified age.\n\nWhile this value is informed by the minimumAge restriction associated\nwith the product, ultimately enforcing this restriction and ensuring\nthat it is an appropriate value is the responsibility of the partner.\nPlease use the `PRODUCT_RESTRICTION_VIOLATED` error code to denote\na failed restriction.\n","minimum":1,"example":21},"currentLocationPostalCode":{"type":"string","description":"The postal code associated with the current location of the purchaser.\nThis will be based on the current location of the purchaser, so the\nformat will match the country the user is located in.\n","minLength":3,"maxLength":10}}}]}},"accountingDetails":{"type":"object","description":"Object which contains data for accounting and partner payments.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"buyPrice":{"allOf":[{"type":"object","description":"Object which contains the price that Groupon should pay to the partner.\nThis will be required in case where Groupon does not have visibility into items purchased by the customer with the reservation. For e.g. in case of Iframe and where margin cannot be configured on Groupon side by straightforward percentage or fixed amount on the purchase.\n","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]}},"required":["buyPrice","currencyCode"]}},"required":["productId","discountManager","grouponCustomerServiceId"]},{"type":"object","properties":{"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"discountPrice":{"allOf":[{"description":"Object which contains the price the customer should pay. Groupon will charge the customer this value.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095},"tax":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $1.95 would be represented as 195.\n","example":195},"taxIncludedInAmount":{"type":"boolean","description":"Indicates whether tax provided is already included in the provided amount."}},"required":["amount","taxIncludedInAmount"]}]},"retailPrice":{"allOf":[{"description":"Amount of the undiscounted price."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095},"tax":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $1.95 would be represented as 195.\n","example":195},"taxIncludedInAmount":{"type":"boolean","description":"Indicates whether tax provided is already included in the provided amount."}},"required":["amount","taxIncludedInAmount"]}]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the basePrice","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price, which should be chosen from the enum.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* DELIVERY_FEE_TAX - Any tax amount to be paid on delivery fee.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* BOOKING_FEE_TAX - Any tax amount to be paid on booking fee.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n* SERVICE_FEE_TAX - Any tax amount to be paid on service fee.\n","enum":["DELIVERY_FEE","DELIVERY_FEE_TAX","TIP","BOOKING_FEE","BOOKING_FEE_TAX","SERVICE_FEE","SERVICE_FEE_TAX"],"example":"BOOKING_FEE"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price for the order\n"}},"required":["type","value"]}}},"required":["currencyCode","retailPrice"]}},"required":["priceSummary"]}]}}},"required":["reservations"]}]}}}},"responses":{"200":{"description":"If inventory is available, then a 200 response should be returned with the following body.","content":{"application/json":{"schema":{"type":"object","properties":{"schemaVersion":{"type":"string","description":"The version of the schema being used for the available segments feed.  This is used to allow\ncompatibility between multiple schema versions.\n","enum":["v2.0"],"example":"v2.0"},"reservation":{"description":"The reservation made for this request.","type":"object","properties":{"reservationId":{"type":"string","description":"The partner-generated id for this reservation. This id must be unique across all reservations.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"unitId":{"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"expiresAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"bookings":{"type":"array","description":"segments being booked in the request.","items":{"type":"object","properties":{"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["productId","status","expiresAt"]}}},"required":["reservationId","status","createdAt","updatedAt","products"]}},"required":["schemaVersion","reservation"]}}}},"400":{"description":"If a reservation cannot be created, then a 4xx response should be returned with the following response body.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`PRODUCT_NOT_AVAILABLE`</td>\n  <td>400</td>\n  <td>The product id or product and attribute combination is no longer available.</td>\n</tr>\n<tr>\n  <td>`PRODUCT_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The product id or product and attribute combination is not recognized by the Partner.</td>\n</tr>\n<tr>\n  <td>`PRODUCT_SOLD_OUT`</td>\n  <td>400</td>\n  <td>The product is globally sold out (all variations of the product), and should be deactivated/made unavailable on Groupon.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td>`PRERESERVATION_ID_UNKNOWN`</td>\n  <td>404</td>\n  <td>The pre-reservation ID cannot be resolved.</td>\n</tr>\n<tr>\n  <td>`PRICE_NOT_AVAILABLE`</td>\n  <td>400</td>\n  <td>The price specified by the pre-reservation ID is no longer available.</td>\n</tr>\n<tr>\n  <td>`PRODUCT_RESTRICTION_VIOLATED`</td>\n  <td>400</td>\n  <td>A restriction on the product has been violated. For example, the minimumAge restriction is not met by the purchaser.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["PRODUCT_NOT_AVAILABLE","PRODUCT_NOT_FOUND","PRODUCT_SOLD_OUT","MALFORMED_REQUEST","PRERESERVATION_ID_UNKNOWN","PRICE_NOT_AVAILABLE","PRODUCT_RESTRICTION_VIOLATED"]},"products":{"type":"array","description":"An array of products associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied product id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","products"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]},"examples":{"product not available":{"summary":"Product not available","description":"The product is not available","value":{"errors":[{"code":"PRODUCT_NOT_AVAILABLE","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff"}]}],"httpCode":400}}}}}}}}},"/groupon/v1/reservations/{reservationId}":{"put":{"summary":"Update Reservation","operationId":"putReservationsId","tags":["Transactional Partner Endpoints"],"description":"This endpoint updates the reservation details of a reservation previously created\nthrough a reserve call. They payload is the same as the Reserve endpoint.\n\n## Expected SLA\nTP99 50ms at 10krpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n\nNote: The request and response body is same of the [Reserve request](#tag/Endpoint-Definitions/paths/~1groupon~1v1~1reservations/post).\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"reservationId","in":"path","description":"The partner id for the reservation being retrieved. This id is for the reservation in the partner’s system.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"00000000-0000-00ff-ffff-ffffffffffff"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"data":{"type":"array","items":{"allOf":[{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"attributes":{"type":"object","description":"The specific attributes of the product.\nThis field is deprecated.\n","deprecated":true,"properties":{"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"An optional datetime representing the start time.\nThe format is ISO-8601 [combined date and time with timezone](https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n","example":"2015-12-01T06:59:59.000Z"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"An optional datetime representing the end time.\nThe format is ISO-8601 [combined date and time with timezone](https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n","example":"2015-12-01T08:00:00.000Z"}}}},"required":["productId"]},{"type":"object","properties":{"quantity":{"type":"integer","description":"The quantity of this product being reserved, usually used for voucher purchases.\n\nWhen `prereservationId` is passed, then this attribute will\nnot be included in the request since the quantity has already\nbeen established during the iframe flow.\n\nWhen sending `bookings` this attribute will not be included since the quantity is\ndetermined by the number of units and bookings.\n","example":2},"reservedUnits":{"type":"array","description":"An array of reserved units to be created. The count of reserved units will match the quantity specified in `data[].quantity`.\nIf checkAvailability returned reservedUnits, those partner ids will be included here.\n","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner supplied ID for the reserved unit.\n\nThis will be present only if the partner has supplied an ID, and is used\nto identify the specific units being reserved from the check availability call.\n","maxLength":99,"example":"ffffffff-ffff-ffff-ffff-ffffffffffff"},"grouponCustomerServiceId":{"type":"string","description":"Groupon’s Customer Service reference ID for this unit. This can be used\nwhen communicating with Groupon Customer Service to reference this reservation.\n","maxLength":22,"example":"TP-ZVX6-MG46-JFT4-99LG"}}}},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}},{"type":"object","properties":{"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30},"meetsMinimumAgeRestriction":{"type":"integer","description":"The purchaser has specified that they meet the minimum age specified.\nThis does not indicate the purchaser is exactly their age, but rather\nthey have indicated that they are at least the specified age.\n\nWhile this value is informed by the minimumAge restriction associated\nwith the product, ultimately enforcing this restriction and ensuring\nthat it is an appropriate value is the responsibility of the partner.\nPlease use the `PRODUCT_RESTRICTION_VIOLATED` error code to denote\na failed restriction.\n","minimum":1,"example":21},"currentLocationPostalCode":{"type":"string","description":"The postal code associated with the current location of the purchaser.\nThis will be based on the current location of the purchaser, so the\nformat will match the country the user is located in.\n","minLength":3,"maxLength":10}}}]}},"accountingDetails":{"type":"object","description":"Object which contains data for accounting and partner payments.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"buyPrice":{"allOf":[{"type":"object","description":"Object which contains the price that Groupon should pay to the partner.\nThis will be required in case where Groupon does not have visibility into items purchased by the customer with the reservation. For e.g. in case of Iframe and where margin cannot be configured on Groupon side by straightforward percentage or fixed amount on the purchase.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]}},"required":["buyPrice","currencyCode"]}},"required":["reservedUnits"]},{"type":"object","properties":{"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"allOf":[{"description":"The price that the customer will be charged. This price should not include taxes or fees. The price can only be less than or equal to basePrice. If not running any discount, price should be same as basePrice.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"basePrice":{"allOf":[{"description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"value":{"allOf":[{"description":"Non discounted price, inclusive of all taxes and fees."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"adjustments":{"type":"array","description":"Any fees to be applied on top of the price.","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n**Note:** if `TAX` type is not present then Groupon will calculate the tax if applicable.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e discountedPrice, which should be chosen from the enum.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e price, for the order."}},"required":["type","value"]}}},"required":["currencyCode","value","price"]}},"required":["priceSummary"]}]}}},"required":["data"]},{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"reservedUnits":{"type":"array","items":{"type":"object","required":["id","grouponCustomerServiceId"]}}}}}}}]},"examples":{"regular":{"value":{"data":[{"productId":"00000000-0000-00ff-ffff-ffffffffffff","quantity":1,"priceSummary":{"currencyCode":"EUR","price":{"amount":300},"value":{"amount":300},"adjustments":[{"type":"TIP","value":{"amount":100}},{"type":"DELIVERY_FEE","value":{"amount":200}}]},"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG"}]},{"productId":"00000000-0000-0000-0000-000000000000","quantity":2,"priceSummary":{"currencyCode":"EUR","price":{"amount":300},"value":{"amount":300}},"purchaserDetails":[{"firstName":"John","lastName":"Doe","meetsMinimumAgeRestriction":21,"shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"}},{"firstName":"Jane","lastName":"Doe"}],"reservedUnits":[{"id":"00000000-0000-0000-0000-000000000000","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-0000"},{"id":"11111111-1111-1111-1111-111111111111","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-0001"}]}]}}}}}},"responses":{"200":{"description":"Response of a reservation object","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this reservation. This id must be unique across all reservations.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"categoryId":{"type":"string","format":"uuid","minLength":36,"maxLength":36,"description":"The categorization for this product.  This field is a uuid and the only acceptable values are the provided categorization uuids.\n","example":"0fff0000-0000-00ff-0000-fffffff0000f"},"quantity":{"type":"integer","description":"The quantity of this product being reserved. This isn't used if bookings are present.","example":2},"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"allOf":[{"description":"The price that the customer will be charged. This price should not include taxes or fees. The price can only be less than or equal to basePrice. If not running any discount, price should be same as basePrice.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"basePrice":{"allOf":[{"description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"value":{"allOf":[{"description":"Non discounted price, inclusive of all taxes and fees."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the price.","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n**Note:** if `TAX` type is not present then Groupon will calculate the tax if applicable.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e price, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the price.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e price, for the order."}},"required":["type","value"]}}},"required":["currencyCode","price"]},"accountingDetails":{"type":"object","description":"Object which contains data for accounting and partner payments.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"buyPrice":{"allOf":[{"type":"object","description":"Object which contains the price that Groupon should pay to the partner.\nThis will be required in case where Groupon does not have visibility into items purchased by the customer with the reservation. For e.g. in case of Iframe and where margin cannot be configured on Groupon side by straightforward percentage or fixed amount on the purchase.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]}}},"reservedUnits":{"type":"array","description":"An array of reserved units.\nThis section may also be used for iframe bookings to pass details from the partner back to Groupon about the reservation.\nIf quantity is specified in the request, the size of this array should match the quantity in the request.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","example":"abcdefgh1234567"},"status":{"type":"string","description":"The current state for this unit. When all the units within a reservation have assumed the same state, then the reservation should assume that state.\nSee unit lifecycle state machine for more details.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled","redeemed"],"example":"fulfilled"},"cancellation":{"type":"object","description":"The specifics related to the cancellation of a unit.","properties":{"reason":{"type":"string","maxLength":255,"description":"Any reason due to which the partner cancelled the unit e.g. 'event was cancelled'.\n"}}},"fulfillmentType":{"type":"string","description":"The type of fulfillment for this unit. This indicates how the user will receive the product after purchase.\nPickup indicates the purchaser must go and pick up their product, such as “will call” for tickets.\nShipped indicates that the product will be shipped to the purchaser.\nElectronic indicates that the purchaser will receive their product electronically, such as a PDF version of a ticket or voucher. Please note that this means that the data.products[].reservedUnits[].details.voucherUrl attribute on the reservation needs to be set when the purchase is fulfilled.\n","enum":["pickup","shipped","electronic"],"example":"shipped"},"partnerCustomerServiceId":{"type":"string","maxLength":255,"description":"The partner’s Customer Service reference ID for this unit. This ID will\nbe included in a purchase confirmation email sent by Groupon.\n\nIf this attribute is not populated, then the partner’s reservation ID will be used in its place.\n"},"expiresAt":{"type":"string","description":"A datetime representing when this unit will expire.\nIf `null`, this unit is expected to never expire.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","minLength":20,"maxLength":29,"format":"date-time","example":"2015-12-01T06:59:59.000Z"},"redeemedAt":{"type":"string","format":"date-time","description":"Denotes the timestamp when the unit was redeemed. Field should be provided if `status` value is `redeemed`.\nThe format is [ISO-8601](https://tools.ietf.org/html/rfc3339#section-5) combined date and time with timezone.\n"},"details":{"type":"object","description":"The specifics which describe the details of this unit.","properties":{"serviceTitle":{"type":"string","maxLength":255,"description":"The title for the service being offered. If the details are specified for this unit, this field must be specified.\n","example":"Men's Haircut"},"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"resourceName":{"type":"string","maxLength":255,"description":"The name of the resource in the service being offered. Examples include a person offering the service, a room/space name, or a location name.\n","example":"Anna Rosendahl"},"voucherUrl":{"type":"string","description":"The URL to the partner system which returns a printable voucher. This URL should\nnot require login (e.g. it should contain any necessary security tokens to protect the voucher).\n\nThe user will be presented with this URL in Groupon’s system to view their voucher.\n","maxLength":255},"barcodes":{"type":"array","description":"The barcodes array for a unit, the order has to be consistent for easy selection.\nThe multi-barcodes feature on an unit is used when there are individual tickets to be\ngenerated on Groupon side for each member in the purchaser's group.\n","items":{"description":"information associated with each barcode","type":"object","properties":{"format":{"description":"The barcode format.","type":"string","enum":["code128","code128c","qrcode","text"]},"title":{"description":"The title of the barcode to be displayed to the end user on the Groupon voucher.\nThis title should include the category of group member for whom the barcode is issued.\nAs from the example below `Adult` is the intended category of the group member for whom\nthe related barcode is generated.\n","type":"string","example":"Adult ticket"},"value":{"description":"The content/payload displayed in the barcode.","type":"string"}},"required":["format","value"]}}},"required":["serviceTitle"]},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}},{"type":"object","properties":{"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30},"meetsMinimumAgeRestriction":{"type":"integer","description":"The purchaser has specified that they meet the minimum age specified.\nThis does not indicate the purchaser is exactly their age, but rather\nthey have indicated that they are at least the specified age.\n\nWhile this value is informed by the minimumAge restriction associated\nwith the product, ultimately enforcing this restriction and ensuring\nthat it is an appropriate value is the responsibility of the partner.\nPlease use the `PRODUCT_RESTRICTION_VIOLATED` error code to denote\na failed restriction.\n","minimum":1,"example":21},"currentLocationPostalCode":{"type":"string","description":"The postal code associated with the current location of the purchaser.\nThis will be based on the current location of the purchaser, so the\nformat will match the country the user is located in.\n","minLength":3,"maxLength":10}}}]}},"grouponCustomerServiceId":{"type":"string","description":"Groupon’s Customer Service reference ID for this unit. This can be used\nwhen communicating with Groupon Customer Service to reference this reservation.\n","maxLength":22,"example":"TP-ZVX6-MG46-JFT4-99LG"},"bookings":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking. This id must be unique across all bookings for this unit.","maxLength":99},"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"availability":{"description":"Availability segments chosen by the purchaser.","type":"array","items":{"type":"object","properties":{"id":{"description":"id of the availability slot. See in ingestion availability spec *products.availability*\n","type":"string","maxLength":99,"example":"adult-111111"},"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["id"]}}},"required":["id","status"]},{"type":"object","properties":{"isRedeemed":{"type":"boolean","deprecated":true,"description":"DEPRECATED: use `status=redeemed` attribute instead.\n\nDenotes if this unit has been redeemed or not. If true, this unit has been redeemed.\nIf false, the unit has not yet been redeemed.\n"}},"required":["fulfillmentType"]}]}}},"required":["id","priceSummary","reservedUnits"]}}},"required":["id","status","updatedAt","products"]}},"required":["data"]},"examples":{"successfulResponse":{"summary":"Successful response","value":{"data":{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"reserved","createdAt":"2015-12-01T01:00:00.000Z","updatedAt":"2015-12-01T23:59:59.000Z","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","quantity":1,"categoryId":"00000000-0000-00ff-0000-fffffff0000f","priceSummary":{"currencyCode":"EUR","price":{"amount":300},"value":{"amount":300},"adjustments":[{"type":"TAX","value":{"amount":72}},{"type":"TIP","value":{"amount":100}},{"type":"DELIVERY_FEE","value":{"amount":200}}]},"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","status":"reserved","fulfillmentType":"electronic","expiresAt":"2015-11-01T17:00:00.000Z","isRedeemed":false,"details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T16:00:00.000Z","endAt":"2015-11-01T17:00:00.000Z","resourceName":"Anna Rosendahl"}}]},{"id":"ffffffff-ffff-ff00-0000-000000000000","quantity":2,"categoryId":"0fff0000-0000-00ff-0000-fffffff0000f","priceSummary":{"currencyCode":"EUR","price":{"amount":300},"value":{"amount":300}},"reservedUnits":[{"id":"00000000-0000-0000-0000-000000000000","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-0000","status":"reserved","fulfillmentType":"electronic","isRedeemed":false,"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"}}]},{"id":"11111111-1111-1111-1111-111111111111","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-0001","status":"reserved","fulfillmentType":"electronic","isRedeemed":true,"redeemedAt":"2015-12-01T01:00:00.000Z","purchaserDetails":[{"firstName":"Jane","lastName":"Doe"}]}]}]}}},"booking":{"value":{"data":{"id":"order-44122","status":"reserved","createdAt":"2020-01-01T01:00:00.000Z","updatedAt":"2020-01-01T01:00:00.000Z","products":[{"id":"tickets-to-event-441","quantity":1,"priceSummary":{"currencyCode":"EUR","price":{"amount":80},"value":{"amount":85}},"reservedUnits":[{"id":"lsdfl34908fss","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","status":"reserved","fulfillmentType":"electronic","expiresAt":"2020-03-01T17:00:00.000Z","bookings":[{"id":"my-booking-id-442","grouponBookingId":"f5bb1a4c-5cf1-4767-85d6-3410bcc73155"}]}]}]}}}}}}},"400":{"description":"If the reservation is unable to be found or there is an error updating the reservation then an error response with a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The reservation cannot be found.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td>`MODIFICATION_NOT_ALLOWED`</td>\n  <td>409</td>\n  <td>The reservation can't be updated.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["RESERVATION_NOT_FOUND","MALFORMED_REQUEST","MODIFICATION_NOT_ALLOWED"]},"reservations":{"type":"array","description":"An array of reservations associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied reservation id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","reservations"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]},"examples":{"reservation not available":{"summary":"Reservation not available","description":"The reservation is not available","value":{"errors":[{"code":"RESERVATION_NOT_FOUND","reservations":[{"id":"00000000-0000-00ff-ffff-ffffffffffff"}]}],"httpCode":400}}}}}}}},"get":{"summary":"Retrieve Reservation","operationId":"getReservationsId","tags":["Transactional Partner Endpoints"],"description":"This endpoint is used to retrieve an existing reservation created through a [reserve\ncall](#tag/Endpoint-Definitions/paths/~1groupon~1v1~1reservations/post) from the Partner.\n\n## Expected SLA\nTP99 50ms at 10krpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n\nNote: The response body is the same as the [Reserve endpoint](#tag/Endpoint-Definitions/paths/~1groupon~1v1~1reservations/post).\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"reservationId","in":"path","description":"The partner id for the reservation being retrieved. This id is for the reservation in the partner’s system.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"00000000-0000-00ff-ffff-ffffffffffff"}],"responses":{"200":{"description":"Response of a reservation object","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this reservation. This id must be unique across all reservations.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"categoryId":{"type":"string","format":"uuid","minLength":36,"maxLength":36,"description":"The categorization for this product.  This field is a uuid and the only acceptable values are the provided categorization uuids.\n","example":"0fff0000-0000-00ff-0000-fffffff0000f"},"quantity":{"type":"integer","description":"The quantity of this product being reserved. This isn't used if bookings are present.","example":2},"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"allOf":[{"description":"The price that the customer will be charged. This price should not include taxes or fees. The price can only be less than or equal to basePrice. If not running any discount, price should be same as basePrice.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"basePrice":{"allOf":[{"description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"value":{"allOf":[{"description":"Non discounted price, inclusive of all taxes and fees."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the price.","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n**Note:** if `TAX` type is not present then Groupon will calculate the tax if applicable.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e price, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the price.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e price, for the order."}},"required":["type","value"]}}},"required":["currencyCode","price"]},"accountingDetails":{"type":"object","description":"Object which contains data for accounting and partner payments.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"buyPrice":{"allOf":[{"type":"object","description":"Object which contains the price that Groupon should pay to the partner.\nThis will be required in case where Groupon does not have visibility into items purchased by the customer with the reservation. For e.g. in case of Iframe and where margin cannot be configured on Groupon side by straightforward percentage or fixed amount on the purchase.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]}}},"reservedUnits":{"type":"array","description":"An array of reserved units.\nThis section may also be used for iframe bookings to pass details from the partner back to Groupon about the reservation.\nIf quantity is specified in the request, the size of this array should match the quantity in the request.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","example":"abcdefgh1234567"},"status":{"type":"string","description":"The current state for this unit. When all the units within a reservation have assumed the same state, then the reservation should assume that state.\nSee unit lifecycle state machine for more details.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled","redeemed"],"example":"fulfilled"},"cancellation":{"type":"object","description":"The specifics related to the cancellation of a unit.","properties":{"reason":{"type":"string","maxLength":255,"description":"Any reason due to which the partner cancelled the unit e.g. 'event was cancelled'.\n"}}},"fulfillmentType":{"type":"string","description":"The type of fulfillment for this unit. This indicates how the user will receive the product after purchase.\nPickup indicates the purchaser must go and pick up their product, such as “will call” for tickets.\nShipped indicates that the product will be shipped to the purchaser.\nElectronic indicates that the purchaser will receive their product electronically, such as a PDF version of a ticket or voucher. Please note that this means that the data.products[].reservedUnits[].details.voucherUrl attribute on the reservation needs to be set when the purchase is fulfilled.\n","enum":["pickup","shipped","electronic"],"example":"shipped"},"partnerCustomerServiceId":{"type":"string","maxLength":255,"description":"The partner’s Customer Service reference ID for this unit. This ID will\nbe included in a purchase confirmation email sent by Groupon.\n\nIf this attribute is not populated, then the partner’s reservation ID will be used in its place.\n"},"expiresAt":{"type":"string","description":"A datetime representing when this unit will expire.\nIf `null`, this unit is expected to never expire.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","minLength":20,"maxLength":29,"format":"date-time","example":"2015-12-01T06:59:59.000Z"},"redeemedAt":{"type":"string","format":"date-time","description":"Denotes the timestamp when the unit was redeemed. Field should be provided if `status` value is `redeemed`.\nThe format is [ISO-8601](https://tools.ietf.org/html/rfc3339#section-5) combined date and time with timezone.\n"},"details":{"type":"object","description":"The specifics which describe the details of this unit.","properties":{"serviceTitle":{"type":"string","maxLength":255,"description":"The title for the service being offered. If the details are specified for this unit, this field must be specified.\n","example":"Men's Haircut"},"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"resourceName":{"type":"string","maxLength":255,"description":"The name of the resource in the service being offered. Examples include a person offering the service, a room/space name, or a location name.\n","example":"Anna Rosendahl"},"voucherUrl":{"type":"string","description":"The URL to the partner system which returns a printable voucher. This URL should\nnot require login (e.g. it should contain any necessary security tokens to protect the voucher).\n\nThe user will be presented with this URL in Groupon’s system to view their voucher.\n","maxLength":255},"barcodes":{"type":"array","description":"The barcodes array for a unit, the order has to be consistent for easy selection.\nThe multi-barcodes feature on an unit is used when there are individual tickets to be\ngenerated on Groupon side for each member in the purchaser's group.\n","items":{"description":"information associated with each barcode","type":"object","properties":{"format":{"description":"The barcode format.","type":"string","enum":["code128","code128c","qrcode","text"]},"title":{"description":"The title of the barcode to be displayed to the end user on the Groupon voucher.\nThis title should include the category of group member for whom the barcode is issued.\nAs from the example below `Adult` is the intended category of the group member for whom\nthe related barcode is generated.\n","type":"string","example":"Adult ticket"},"value":{"description":"The content/payload displayed in the barcode.","type":"string"}},"required":["format","value"]}}},"required":["serviceTitle"]},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}},{"type":"object","properties":{"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30},"meetsMinimumAgeRestriction":{"type":"integer","description":"The purchaser has specified that they meet the minimum age specified.\nThis does not indicate the purchaser is exactly their age, but rather\nthey have indicated that they are at least the specified age.\n\nWhile this value is informed by the minimumAge restriction associated\nwith the product, ultimately enforcing this restriction and ensuring\nthat it is an appropriate value is the responsibility of the partner.\nPlease use the `PRODUCT_RESTRICTION_VIOLATED` error code to denote\na failed restriction.\n","minimum":1,"example":21},"currentLocationPostalCode":{"type":"string","description":"The postal code associated with the current location of the purchaser.\nThis will be based on the current location of the purchaser, so the\nformat will match the country the user is located in.\n","minLength":3,"maxLength":10}}}]}},"grouponCustomerServiceId":{"type":"string","description":"Groupon’s Customer Service reference ID for this unit. This can be used\nwhen communicating with Groupon Customer Service to reference this reservation.\n","maxLength":22,"example":"TP-ZVX6-MG46-JFT4-99LG"},"bookings":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking. This id must be unique across all bookings for this unit.","maxLength":99},"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"availability":{"description":"Availability segments chosen by the purchaser.","type":"array","items":{"type":"object","properties":{"id":{"description":"id of the availability slot. See in ingestion availability spec *products.availability*\n","type":"string","maxLength":99,"example":"adult-111111"},"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["id"]}}},"required":["id","status"]},{"type":"object","properties":{"isRedeemed":{"type":"boolean","deprecated":true,"description":"DEPRECATED: use `status=redeemed` attribute instead.\n\nDenotes if this unit has been redeemed or not. If true, this unit has been redeemed.\nIf false, the unit has not yet been redeemed.\n"}},"required":["fulfillmentType"]}]}}},"required":["id","priceSummary","reservedUnits"]}}},"required":["id","status","updatedAt","products"]}},"required":["data"]},"examples":{"successfulResponse":{"summary":"Successful response","value":{"data":{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"reserved","createdAt":"2015-12-01T01:00:00.000Z","updatedAt":"2015-12-01T23:59:59.000Z","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","categoryId":"00000000-0000-00ff-0000-fffffff0000f","quantity":1,"priceSummary":{"currencyCode":"EUR","price":{"amount":300},"basePrice":{"amount":450},"value":{"amount":450},"adjustments":[{"type":"TAX","value":{"amount":72}},{"type":"TIP","value":{"amount":100}},{"type":"BOOKING_FEE","value":{"amount":200}}]},"accountingDetails":{"currencyCode":"EUR","buyPrice":{"amount":450}},"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff","status":"reserved","fulfillmentType":"electronic","partnerCustomerServiceId":"partnerCustomerServiceId","expiresAt":"2015-11-01T17:00:00.000Z","redeemedAt":"2015-11-01T17:00:00.000Z","details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T16:00:00.000Z","endAt":"2015-11-01T17:00:00.000Z","resourceName":"Anna Rosendahl","voucherUrl":"http://partner-voucher-url.com","barcodes":[{"format":"qrcode","title":"title of the barcode","value":"12421242313213"}]},"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"},"email":"John@groupon.com","phone":"+11231231234","meetsMinimumAgeRestriction":18,"currentLocationPostalCode":"60654"}],"grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG"}]}]}}},"booking":{"value":{"data":{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"reserved","createdAt":"2015-12-01T01:00:00.000Z","updatedAt":"2015-12-01T23:59:59.000Z","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","categoryId":"00000000-0000-00ff-0000-fffffff0000f","quantity":1,"priceSummary":{"currencyCode":"EUR","price":{"amount":300},"basePrice":{"amount":450},"value":{"amount":450},"adjustments":[{"type":"TAX","value":{"amount":72}},{"type":"TIP","value":{"amount":100}},{"type":"BOOKING_FEE","value":{"amount":200}}]},"accountingDetails":{"currencyCode":"EUR","buyPrice":{"amount":450}},"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff","status":"reserved","fulfillmentType":"electronic","partnerCustomerServiceId":"partnerCustomerServiceId","expiresAt":"2015-11-01T17:00:00.000Z","isRedeemed":false,"details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T16:00:00.000Z","endAt":"2015-11-01T17:00:00.000Z","resourceName":"Anna Rosendahl","voucherUrl":"http://partner-voucher-url.com","barcodes":[{"format":"qrcode","title":"title of the barcode","value":"12421242313213"}]},"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"},"email":"John@groupon.com","phone":"+11231231234","meetsMinimumAgeRestriction":18,"currentLocationPostalCode":"60654"}],"grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","bookings":[{"id":"partner-generator-unique-id","grouponBookingId":"a10892ef-9898-40bb-8cc3-6ef45f08c60a","availability":[{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"]},{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"]},{"id":"gkfmj234kndDf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["kid","entrance"]}]}]}]}]}}}}}}},"400":{"description":"If the reservation is unable to be found or there is an error updating the reservation then an error response with a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The reservation cannot be found.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["RESERVATION_NOT_FOUND","MALFORMED_REQUEST"]},"reservations":{"type":"array","description":"An array of reservations associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied reservation id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","reservations"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]}}}}}}},"/groupon/v2/reservations/{reservationId}":{"get":{"summary":"Retrieve Reservation","operationId":"getReservationsId_v2","tags":["Transactional Partner Endpoints"],"description":"This endpoint is used to retrieve an existing reservation created through a [reserve\ncall](#tag/Endpoint-Definitions/paths/~1groupon~1v1~1reservations/post) from the Partner.\n\n## Expected SLA\nTP99 50ms at 10krpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n\nNote: The response body is the same as the [Reserve endpoint](#tag/Endpoint-Definitions/paths/~1groupon~1v1~1reservations/post).\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"reservationId","in":"path","description":"The partner id for the reservation being retrieved. This id is for the reservation in the partner’s system.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"00000000-0000-00ff-ffff-ffffffffffff"}],"responses":{"200":{"description":"Response of a reservation object","content":{"application/json":{"schema":{"type":"object","properties":{"schemaVersion":{"type":"string","description":"The version of the schema being used for the available segments feed.  This is used to allow\ncompatibility between multiple schema versions.\n","enum":["v2.0"],"example":"v2.0"},"reservation":{"type":"object","properties":{"reservationId":{"type":"string","description":"The partner-generated id for this reservation. This id must be unique across all reservations.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"unitId":{"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"expiresAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"bookings":{"type":"array","description":"segments being booked in the request.","items":{"type":"object","properties":{"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["productId","status","expiresAt"]}}},"required":["reservationId","status","createdAt","updatedAt","products"]}},"required":["schemaVersion","reservation"]}}}},"400":{"description":"If the reservation is unable to be found or there is an error updating the reservation then an error response with a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The reservation cannot be found.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["RESERVATION_NOT_FOUND","MALFORMED_REQUEST"]},"reservations":{"type":"array","description":"An array of reservations associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied reservation id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","reservations"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]}}}}}}},"/groupon/v1/reservations/{reservationId}/fulfillments":{"post":{"summary":"Fulfillment","operationId":"postReservationsIdFulfillments","description":"This endpoint is to transition a reservation in the `reserved` state to the `fulfilled` state.\nThis indicates that the payment has been captured by Groupon, and the reservation is now able\nto be fulfilled by the partner. The inventory should not be released to the user until it is fulfilled.\n\nIt is considered valid for this endpoint to be invoked on a `fulfilled` or `fulfilling` reservation,\nbut not a `cancelled`, `cancelling`, or `reserving` reservation. Please refer to the reservation lifecycle\nstate machine for more details about possible state for a reservation.\n\nThe status of the reservation after this call should be `fulfilling` or `fulfilled`.\nThe status should be set to `fulfilling` until the inventory has been shipped (for shipping products)\nor an electronic form is available (for electronic fulfillmentType products). Once this occurs,\nthe status can be changed to the final `fulfilled` status. The important aspect here is that the\nstatus should not be set to `fulfilled` unless the inventory has been guaranteed to be available\nfor the purchaser.\n\n## Expected SLA\nTP99 35ms at 10krpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n\nWhile this request is a POST, there is no request body passed. Please note that locale\nis not required to be passed in this call.\n\nNote: The response body is the same as the [Reserve request](#tag/Endpoint-Definitions/paths/~1groupon~1v1~1reservations/post).\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":false,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"reservationId","in":"path","description":"The partner id for the reservation being retrieved. This id is for the reservation in the partner’s system.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"00000000-0000-00ff-ffff-ffffffffffff"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"data":{"type":"object","properties":{"taxDetails":{"type":"array","description":"Array containing tax details for reporting purposes. This array may be empty if tax is not applicable or not provided by Partners in previous calls.","items":{"allOf":[{"type":"object","properties":{"type":{"type":"string","description":"The type of tax remitted. Currently limited to \"tax\"."},"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"remitter":{"type":"string","description":"Party responsible for remitting this tax item. This can be either Groupon or Partner/Merchant.","enum":["Groupon","Partner"]},"value":{"type":"integer","description":"The total tax amount to be remitted. Numeric amount that is an integer representing minor unit of currency. For example, in USD, $10.95 is represented as 1095.","minimum":0}},"required":["type","currencyCode","remitter","value"]}]}}},"required":["taxDetails"]}},"required":["data"]}]},"examples":{"regular":{"value":{"data":{"taxDetails":[{"type":"TAX","remitter":"Groupon","currencyCode":"USD","value":100}]}}}}}}},"responses":{"200":{"description":"Response of a reservation object","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this reservation. This id must be unique across all reservations.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"categoryId":{"type":"string","format":"uuid","minLength":36,"maxLength":36,"description":"The categorization for this product.  This field is a uuid and the only acceptable values are the provided categorization uuids.\n","example":"0fff0000-0000-00ff-0000-fffffff0000f"},"quantity":{"type":"integer","description":"The quantity of this product being reserved. This isn't used if bookings are present.","example":2},"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"allOf":[{"description":"The price that the customer will be charged. This price should not include taxes or fees. The price can only be less than or equal to basePrice. If not running any discount, price should be same as basePrice.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"basePrice":{"allOf":[{"description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"value":{"allOf":[{"description":"Non discounted price, inclusive of all taxes and fees."},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the price","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n**Note:** if `TAX` type is not present then Groupon will calculate the tax if applicable.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e price, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the price.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e price, for the order."}},"required":["type","value"]}}},"required":["currencyCode","price"]},"accountingDetails":{"type":"object","description":"Object which contains data for accounting and partner payments.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"buyPrice":{"allOf":[{"type":"object","description":"Object which contains the price that Groupon should pay to the partner.\nThis will be required in case where Groupon does not have visibility into items purchased by the customer with the reservation. For e.g. in case of Iframe and where margin cannot be configured on Groupon side by straightforward percentage or fixed amount on the purchase.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]}}},"reservedUnits":{"type":"array","description":"An array of reserved units.\nThis section may also be used for iframe bookings to pass details from the partner back to Groupon about the reservation.\nIf quantity is specified in the request, the size of this array should match the quantity in the request.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","example":"abcdefgh1234567"},"status":{"type":"string","description":"The current state for this unit. When all the units within a reservation have assumed the same state, then the reservation should assume that state.\nSee unit lifecycle state machine for more details.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled","redeemed"],"example":"fulfilled"},"cancellation":{"type":"object","description":"The specifics related to the cancellation of a unit.","properties":{"reason":{"type":"string","maxLength":255,"description":"Any reason due to which the partner cancelled the unit e.g. 'event was cancelled'.\n"}}},"fulfillmentType":{"type":"string","description":"The type of fulfillment for this unit. This indicates how the user will receive the product after purchase.\nPickup indicates the purchaser must go and pick up their product, such as “will call” for tickets.\nShipped indicates that the product will be shipped to the purchaser.\nElectronic indicates that the purchaser will receive their product electronically, such as a PDF version of a ticket or voucher. Please note that this means that the data.products[].reservedUnits[].details.voucherUrl attribute on the reservation needs to be set when the purchase is fulfilled.\n","enum":["pickup","shipped","electronic"],"example":"shipped"},"partnerCustomerServiceId":{"type":"string","maxLength":255,"description":"The partner’s Customer Service reference ID for this unit. This ID will\nbe included in a purchase confirmation email sent by Groupon.\n\nIf this attribute is not populated, then the partner’s reservation ID will be used in its place.\n"},"expiresAt":{"type":"string","description":"A datetime representing when this unit will expire.\nIf `null`, this unit is expected to never expire.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","minLength":20,"maxLength":29,"format":"date-time","example":"2015-12-01T06:59:59.000Z"},"redeemedAt":{"type":"string","format":"date-time","description":"Denotes the timestamp when the unit was redeemed. Field should be provided if `status` value is `redeemed`.\nThe format is [ISO-8601](https://tools.ietf.org/html/rfc3339#section-5) combined date and time with timezone.\n"},"details":{"type":"object","description":"The specifics which describe the details of this unit.","properties":{"serviceTitle":{"type":"string","maxLength":255,"description":"The title for the service being offered. If the details are specified for this unit, this field must be specified.\n","example":"Men's Haircut"},"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"resourceName":{"type":"string","maxLength":255,"description":"The name of the resource in the service being offered. Examples include a person offering the service, a room/space name, or a location name.\n","example":"Anna Rosendahl"},"voucherUrl":{"type":"string","description":"The URL to the partner system which returns a printable voucher. This URL should\nnot require login (e.g. it should contain any necessary security tokens to protect the voucher).\n\nThe user will be presented with this URL in Groupon’s system to view their voucher.\n","maxLength":255},"barcodes":{"type":"array","description":"The barcodes array for a unit, the order has to be consistent for easy selection.\nThe multi-barcodes feature on an unit is used when there are individual tickets to be\ngenerated on Groupon side for each member in the purchaser's group.\n","items":{"description":"information associated with each barcode","type":"object","properties":{"format":{"description":"The barcode format.","type":"string","enum":["code128","code128c","qrcode","text"]},"title":{"description":"The title of the barcode to be displayed to the end user on the Groupon voucher.\nThis title should include the category of group member for whom the barcode is issued.\nAs from the example below `Adult` is the intended category of the group member for whom\nthe related barcode is generated.\n","type":"string","example":"Adult ticket"},"value":{"description":"The content/payload displayed in the barcode.","type":"string"}},"required":["format","value"]}}},"required":["serviceTitle"]},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}},{"type":"object","properties":{"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30},"meetsMinimumAgeRestriction":{"type":"integer","description":"The purchaser has specified that they meet the minimum age specified.\nThis does not indicate the purchaser is exactly their age, but rather\nthey have indicated that they are at least the specified age.\n\nWhile this value is informed by the minimumAge restriction associated\nwith the product, ultimately enforcing this restriction and ensuring\nthat it is an appropriate value is the responsibility of the partner.\nPlease use the `PRODUCT_RESTRICTION_VIOLATED` error code to denote\na failed restriction.\n","minimum":1,"example":21},"currentLocationPostalCode":{"type":"string","description":"The postal code associated with the current location of the purchaser.\nThis will be based on the current location of the purchaser, so the\nformat will match the country the user is located in.\n","minLength":3,"maxLength":10}}}]}},"grouponCustomerServiceId":{"type":"string","description":"Groupon’s Customer Service reference ID for this unit. This can be used\nwhen communicating with Groupon Customer Service to reference this reservation.\n","maxLength":22,"example":"TP-ZVX6-MG46-JFT4-99LG"},"bookings":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking. This id must be unique across all bookings for this unit.","maxLength":99},"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"availability":{"description":"Availability segments chosen by the purchaser.","type":"array","items":{"type":"object","properties":{"id":{"description":"id of the availability slot. See in ingestion availability spec *products.availability*\n","type":"string","maxLength":99,"example":"adult-111111"},"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["id"]}}},"required":["id","status"]},{"type":"object","properties":{"isRedeemed":{"type":"boolean","deprecated":true,"description":"DEPRECATED: use `status=redeemed` attribute instead.\n\nDenotes if this unit has been redeemed or not. If true, this unit has been redeemed.\nIf false, the unit has not yet been redeemed.\n"}},"required":["fulfillmentType"]}]}}},"required":["id","reservedUnits"]}}},"required":["id","status","updatedAt","products"]}},"required":["data"]},"examples":{"successfulResponse":{"summary":"Response of a reservation object","value":{"data":{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"fulfilled","createdAt":"2015-12-01T01:00:00.000Z","updatedAt":"2015-12-01T23:59:59.000Z","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","categoryId":"00000000-0000-00ff-0000-fffffff0000f","quantity":1,"priceSummary":{"currencyCode":"EUR","price":{"amount":300},"basePrice":{"amount":450},"value":{"amount":450},"adjustments":[{"type":"TAX","value":{"amount":72}},{"type":"TIP","value":{"amount":100}},{"type":"BOOKING_FEE","value":{"amount":200}}]},"accountingDetails":{"currencyCode":"EUR","buyPrice":{"amount":450}},"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff","status":"fulfilled","fulfillmentType":"electronic","partnerCustomerServiceId":"partnerCustomerServiceId","expiresAt":"2015-11-01T17:00:00.000Z","isRedeemed":false,"details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T16:00:00.000Z","endAt":"2015-11-01T17:00:00.000Z","resourceName":"Anna Rosendahl","voucherUrl":"http://partner-voucher-url.com","barcodes":[{"format":"qrcode","title":"title of the barcode","value":"12421242313213"}]},"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"},"email":"John@groupon.com","phone":"+11231231234","meetsMinimumAgeRestriction":18,"currentLocationPostalCode":"60654"}],"grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","bookings":[{"id":"partner-generator-unique-id","grouponBookingId":"a10892ef-9898-40bb-8cc3-6ef45f08c60a","availability":[{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"]},{"id":"fnlkna999jdmf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["adult","entrance"]},{"id":"gkfmj234kndDf","availableAt":"2015-12-01T18:00:00.000Z","availableUntil":"2015-12-01T21:00:00.000Z","redemptionLocationId":"location-21","attributeIds":["kid","entrance"]}]}]}]}]}}}}}}},"400":{"description":"If the reservation is unable to be fulfilled under the following conditions, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The reservation cannot be found.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td>`RESERVATION_STATUS_INVALID`</td>\n  <td>400</td>\n  <td>The reservation is `cancelled`, `cancelling`, or `reserving`, and therefore cannot be fulfilled.</td>\n</tr>\n<tr>\n  <td>`PERMANENTLY_UNFULFILLABLE`</td>\n  <td>500</td>\n  <td>The reservation is not be able to be fulfilled, even though the state machine supports it.\n    <br><br>\n    This is a 5xx class error due to the fact that the state machine should allow fulfillment\n    (otherwise, use `RESERVATION_STATUS_INVALID`) therefore there is an error on the partner’s side which prevents fulfillment.\n    <br><br>\n    Please note that if there is a temporary delay in fulfillment or fulfillment could recover,\n    then it is appropriate to not return an error code and instead return `FULFILLING` status\n    on the reservation. Further signalling of success or failure can be accomplished by\n    returning `FULFILLED` or `CANCELLED` statuses on the reservation during asynchronous polling.\n  </td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["RESERVATION_NOT_FOUND","MALFORMED_REQUEST","RESERVATION_STATUS_INVALID","PERMANENTLY_UNFULFILLABLE"]},"reservations":{"type":"array","description":"An array of reservations associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied reservation id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","reservations"]}},"httpCode":{"type":"integer","minimum":400,"maximum":500,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]}}}}}}},"/groupon/v2/reservations/{reservationId}/fulfillments":{"post":{"summary":"Fulfill V2","operationId":"postReservationsIdFulfillments_v2","tags":["Transactional Partner Endpoints"],"description":"This endpoint is to transition a reservation in the `reserved` state to the `fulfilled` state.\nThis indicates that the payment has been captured by Groupon, and the reservation is now able\nto be fulfilled by the partner. The inventory should not be released to the user until it is fulfilled.\n\nIt is considered valid for this endpoint to be invoked on a `fulfilled` or `fulfilling` reservation,\nbut not a `cancelled`, `cancelling`, or `reserving` reservation. Please refer to the reservation lifecycle\nstate machine for more details about possible state for a reservation.\n\nThe status of the reservation after this call should be `fulfilling` or `fulfilled`.\nThe status should be set to `fulfilling` until the inventory has been shipped (for shipping products)\nor an electronic form is available (for electronic fulfillmentType products). Once this occurs,\nthe status can be changed to the final `fulfilled` status. The important aspect here is that the\nstatus should not be set to `fulfilled` unless the inventory has been guaranteed to be available\nfor the purchaser.\n\n## Expected SLA\nTP99 35ms at 10krpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n\nWhile this request is a POST, there is no request body passed. Please note that locale\nis not required to be passed in this call.\n\nNote: The response body is the same as the [Reserve request](#tag/Endpoint-Definitions/paths/~1groupon~1v1~1reservations/post).\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":false,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"reservationId","in":"path","description":"The partner id for the reservation being retrieved. This id is for the reservation in the partner’s system.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"00000000-0000-00ff-ffff-ffffffffffff"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"fulfillment":{"type":"object","properties":{"taxDetails":{"type":"array","description":"tax details","items":{"allOf":[{"type":"object","properties":{"type":{"type":"string","description":"tax type"},"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"remitter":{"type":"string","description":"who will remit the tax","enum":["Groupon","Partner"]},"value":{"type":"integer","description":"tax value in minors","minimum":0}},"required":["type","currencyCode","remitter","value"]}]}}},"required":["taxDetails"]}},"required":["fulfillment"]}]}}}},"responses":{"200":{"description":"Response of a reservation object","content":{"application/json":{"schema":{"type":"object","properties":{"schemaVersion":{"type":"string","description":"The version of the schema being used for the available segments feed.  This is used to allow\ncompatibility between multiple schema versions.\n","enum":["v2.0"],"example":"v2.0"},"reservation":{"type":"object","properties":{"reservationId":{"type":"string","description":"The partner-generated id for this reservation. This id must be unique across all reservations.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"unitId":{"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"expiresAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"bookings":{"type":"array","description":"segments being booked in the request.","items":{"type":"object","properties":{"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["productId","status","expiresAt"]}}},"required":["reservationId","status","createdAt","updatedAt","products"]}},"required":["schemaVersion","reservation"]}}}},"400":{"description":"If the reservation is unable to be fulfilled under the following conditions, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The reservation cannot be found.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td>`RESERVATION_STATUS_INVALID`</td>\n  <td>400</td>\n  <td>The reservation is `cancelled`, `cancelling`, or `reserving`, and therefore cannot be fulfilled.</td>\n</tr>\n<tr>\n  <td>`PERMANENTLY_UNFULFILLABLE`</td>\n  <td>500</td>\n  <td>The reservation is not be able to be fulfilled, even though the state machine supports it.\n    <br><br>\n    This is a 5xx class error due to the fact that the state machine should allow fulfillment\n    (otherwise, use `RESERVATION_STATUS_INVALID`) therefore there is an error on the partner’s side which prevents fulfillment.\n    <br><br>\n    Please note that if there is a temporary delay in fulfillment or fulfillment could recover,\n    then it is appropriate to not return an error code and instead return `FULFILLING` status\n    on the reservation. Further signalling of success or failure can be accomplished by\n    returning `FULFILLED` or `CANCELLED` statuses on the reservation during asynchronous polling.\n  </td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["RESERVATION_NOT_FOUND","MALFORMED_REQUEST","RESERVATION_STATUS_INVALID","PERMANENTLY_UNFULFILLABLE"]},"reservations":{"type":"array","description":"An array of reservations associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied reservation id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","reservations"]}},"httpCode":{"type":"integer","minimum":400,"maximum":500,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]}}}}}}},"/groupon/v1/reservations/{reservationId}/cancellations":{"post":{"summary":"Cancellation","operationId":"postReservationsIdCancellations","description":"This endpoint is to transition a reservation in the “reserved” or “fulfilled”\nstate to the “cancelled” state. This indicates that the reservation is now void,\nand should not be fulfilled or redeemed for the consumer. A variety of circumstances\ncould cause this, but the important distinction for a partner is that it should not\nallow fulfillment and/or redemption for the customer if at all possible. It is\nconsidered valid for this endpoint to be invoked on a reservation for any status;\nhowever, not all reservation are allowed to be cancelled (e.g. the reservation type\ndoes not allow cancels or the time window for cancellation has elapsed).\n\nPlease refer to the reservation lifecycle state machine for more details about\npossible state for a reservation.\n\nThe status of the reservation after this call should be “cancelling” or “cancelled”.\n\n\n## Expected SLA\nTP99 35ms at 10krpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n\nWhile this request is a POST, there is no request body passed.\n\nNote: The response body is the same as the [Reserve request](#tag/Endpoint-Definitions/paths/~1groupon~1v1~1reservations/post).\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"reservationId","in":"path","description":"The partner id for the reservation being retrieved. This id is for the reservation in the partner’s system.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"00000000-0000-00ff-ffff-ffffffffffff"}],"responses":{"200":{"description":"Response of a reservation object","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this reservation. This id must be unique across all reservations.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"categoryId":{"type":"string","format":"uuid","minLength":36,"maxLength":36,"description":"The categorization for this product.  This field is a uuid and the only acceptable values are the provided categorization uuids.\n","example":"0fff0000-0000-00ff-0000-fffffff0000f"},"quantity":{"type":"integer","description":"The quantity of this product being reserved. This isn't used if bookings are present.","example":2},"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"allOf":[{"description":"Object which contains the price the customer should pay. Groupon will charge the customer this value.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the basePrice","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n**Note:** if `TAX` type is not present then Groupon will calculate the tax if applicable.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e price, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the price.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e price, for the order."}},"required":["type","value"]}}},"required":["currencyCode","price"]},"accountingDetails":{"type":"object","description":"Object which contains data for accounting and partner payments.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"buyPrice":{"allOf":[{"type":"object","description":"Object which contains the price that Groupon should pay to the partner.\nThis will be required in case where Groupon does not have visibility into items purchased by the customer with the reservation. For e.g. in case of Iframe and where margin cannot be configured on Groupon side by straightforward percentage or fixed amount on the purchase.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]}}},"reservedUnits":{"type":"array","description":"An array of reserved units.\nThis section may also be used for iframe bookings to pass details from the partner back to Groupon about the reservation.\nIf quantity is specified in the request, the size of this array should match the quantity in the request.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","example":"abcdefgh1234567"},"status":{"type":"string","description":"The current state for this unit. When all the units within a reservation have assumed the same state, then the reservation should assume that state.\nSee unit lifecycle state machine for more details.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled","redeemed"],"example":"fulfilled"},"cancellation":{"type":"object","description":"The specifics related to the cancellation of a unit.","properties":{"reason":{"type":"string","maxLength":255,"description":"Any reason due to which the partner cancelled the unit e.g. 'event was cancelled'.\n"}}},"fulfillmentType":{"type":"string","description":"The type of fulfillment for this unit. This indicates how the user will receive the product after purchase.\nPickup indicates the purchaser must go and pick up their product, such as “will call” for tickets.\nShipped indicates that the product will be shipped to the purchaser.\nElectronic indicates that the purchaser will receive their product electronically, such as a PDF version of a ticket or voucher. Please note that this means that the data.products[].reservedUnits[].details.voucherUrl attribute on the reservation needs to be set when the purchase is fulfilled.\n","enum":["pickup","shipped","electronic"],"example":"shipped"},"partnerCustomerServiceId":{"type":"string","maxLength":255,"description":"The partner’s Customer Service reference ID for this unit. This ID will\nbe included in a purchase confirmation email sent by Groupon.\n\nIf this attribute is not populated, then the partner’s reservation ID will be used in its place.\n"},"expiresAt":{"type":"string","description":"A datetime representing when this unit will expire.\nIf `null`, this unit is expected to never expire.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","minLength":20,"maxLength":29,"format":"date-time","example":"2015-12-01T06:59:59.000Z"},"redeemedAt":{"type":"string","format":"date-time","description":"Denotes the timestamp when the unit was redeemed. Field should be provided if `status` value is `redeemed`.\nThe format is [ISO-8601](https://tools.ietf.org/html/rfc3339#section-5) combined date and time with timezone.\n"},"details":{"type":"object","description":"The specifics which describe the details of this unit.","properties":{"serviceTitle":{"type":"string","maxLength":255,"description":"The title for the service being offered. If the details are specified for this unit, this field must be specified.\n","example":"Men's Haircut"},"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"resourceName":{"type":"string","maxLength":255,"description":"The name of the resource in the service being offered. Examples include a person offering the service, a room/space name, or a location name.\n","example":"Anna Rosendahl"},"voucherUrl":{"type":"string","description":"The URL to the partner system which returns a printable voucher. This URL should\nnot require login (e.g. it should contain any necessary security tokens to protect the voucher).\n\nThe user will be presented with this URL in Groupon’s system to view their voucher.\n","maxLength":255},"barcodes":{"type":"array","description":"The barcodes array for a unit, the order has to be consistent for easy selection.\nThe multi-barcodes feature on an unit is used when there are individual tickets to be\ngenerated on Groupon side for each member in the purchaser's group.\n","items":{"description":"information associated with each barcode","type":"object","properties":{"format":{"description":"The barcode format.","type":"string","enum":["code128","code128c","qrcode","text"]},"title":{"description":"The title of the barcode to be displayed to the end user on the Groupon voucher.\nThis title should include the category of group member for whom the barcode is issued.\nAs from the example below `Adult` is the intended category of the group member for whom\nthe related barcode is generated.\n","type":"string","example":"Adult ticket"},"value":{"description":"The content/payload displayed in the barcode.","type":"string"}},"required":["format","value"]}}},"required":["serviceTitle"]},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}},{"type":"object","properties":{"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30},"meetsMinimumAgeRestriction":{"type":"integer","description":"The purchaser has specified that they meet the minimum age specified.\nThis does not indicate the purchaser is exactly their age, but rather\nthey have indicated that they are at least the specified age.\n\nWhile this value is informed by the minimumAge restriction associated\nwith the product, ultimately enforcing this restriction and ensuring\nthat it is an appropriate value is the responsibility of the partner.\nPlease use the `PRODUCT_RESTRICTION_VIOLATED` error code to denote\na failed restriction.\n","minimum":1,"example":21},"currentLocationPostalCode":{"type":"string","description":"The postal code associated with the current location of the purchaser.\nThis will be based on the current location of the purchaser, so the\nformat will match the country the user is located in.\n","minLength":3,"maxLength":10}}}]}},"grouponCustomerServiceId":{"type":"string","description":"Groupon’s Customer Service reference ID for this unit. This can be used\nwhen communicating with Groupon Customer Service to reference this reservation.\n","maxLength":22,"example":"TP-ZVX6-MG46-JFT4-99LG"},"bookings":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking. This id must be unique across all bookings for this unit.","maxLength":99},"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"availability":{"description":"Availability segments chosen by the purchaser.","type":"array","items":{"type":"object","properties":{"id":{"description":"id of the availability slot. See in ingestion availability spec *products.availability*\n","type":"string","maxLength":99,"example":"adult-111111"},"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["id"]}}},"required":["id","status"]},{"type":"object","properties":{"isRedeemed":{"type":"boolean","deprecated":true,"description":"DEPRECATED: use `status=redeemed` attribute instead.\n\nDenotes if this unit has been redeemed or not. If true, this unit has been redeemed.\nIf false, the unit has not yet been redeemed.\n"}},"required":["fulfillmentType"]}]}}},"required":["id","reservedUnits","priceSummary"]}}},"required":["id","status","updatedAt","products"]}},"required":["data"]},"examples":{"successfulResponse":{"summary":"Successful response","value":{"data":{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"cancelled","createdAt":"2015-12-01T01:00:00.000Z","updatedAt":"2015-12-01T23:59:59.000Z","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","quantity":1,"categoryId":"00000000-0000-00ff-0000-fffffff0000f","priceSummary":{"currencyCode":"EUR","price":{"amount":300},"adjustments":[{"type":"TAX","value":{"amount":72}},{"type":"TIP","value":{"amount":100}},{"type":"DELIVERY_FEE","value":{"amount":200}}]},"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","status":"cancelled","fulfillmentType":"electronic","expiresAt":"2015-11-01T17:00:00.000Z","isRedeemed":false,"details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T16:00:00.000Z","endAt":"2015-11-01T17:00:00.000Z","resourceName":"Anna Rosendahl"}}]},{"id":"ffffffff-ffff-ff00-0000-000000000000","quantity":2,"categoryId":"0fff0000-0000-00ff-0000-fffffff0000f","priceSummary":{"currencyCode":"EUR","price":{"amount":300}},"reservedUnits":[{"id":"00000000-0000-0000-0000-000000000000","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-0000","status":"cancelled","fulfillmentType":"electronic","isRedeemed":false,"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"}}]},{"id":"11111111-1111-1111-1111-111111111111","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-0001","status":"cancelled","fulfillmentType":"electronic","isRedeemed":true,"redeemedAt":"2015-12-01T01:00:00.000Z","purchaserDetails":[{"firstName":"Jane","lastName":"Doe"}]}]}]}}},"booking":{"value":{"data":{"id":"order-44122","status":"cancelled","createdAt":"2020-01-01T01:00:00.000Z","updatedAt":"2020-01-01T01:00:00.000Z","products":[{"id":"tickets-to-event-441","quantity":1,"priceSummary":{"currencyCode":"EUR","price":{"amount":80}},"reservedUnits":[{"id":"lsdfl34908fss","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","status":"cancelled","fulfillmentType":"electronic","expiresAt":"2020-03-01T17:00:00.000Z","bookings":[{"id":"my-booking-id-442","grouponBookingId":"f5bb1a4c-5cf1-4767-85d6-3410bcc73155"}]}]}]}}}}}}},"400":{"description":"If the reservation is unable to be cancelled under the following conditions, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The reservation cannot be found.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_CANCELLABLE`</td>\n  <td>400</td>\n  <td>The reservation is not allowed to be cancelled.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["RESERVATION_NOT_FOUND","MALFORMED_REQUEST","RESERVATION_NOT_CANCELLABLE"]},"units":{"type":"array","description":"An array of units associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied unit id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","units"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]}}}}}}},"/groupon/v2/reservations/{reservationId}/cancellations":{"post":{"summary":"Cancel v2","operationId":"postReservationsIdCancellations_v2","tags":["Transactional Partner Endpoints"],"description":"This endpoint is to transition a reservation in the “reserved” or “fulfilled”\nstate to the “cancelled” state. This indicates that the reservation is now void,\nand should not be fulfilled or redeemed for the consumer. A variety of circumstances\ncould cause this, but the important distinction for a partner is that it should not\nallow fulfillment and/or redemption for the customer if at all possible. It is\nconsidered valid for this endpoint to be invoked on a reservation for any status;\nhowever, not all reservation are allowed to be cancelled (e.g. the reservation type\ndoes not allow cancels or the time window for cancellation has elapsed).\n\nPlease refer to the reservation lifecycle state machine for more details about\npossible state for a reservation.\n\nThe status of the reservation after this call should be “cancelling” or “cancelled”.\n\n\n## Expected SLA\nTP99 35ms at 10krpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n\nWhile this request is a POST, there is no request body passed.\n\nNote: The response body is the same as the [Reserve request](#tag/Endpoint-Definitions/paths/~1groupon~1v1~1reservations/post).\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"reservationId","in":"path","description":"The partner id for the reservation being retrieved. This id is for the reservation in the partner’s system.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"00000000-0000-00ff-ffff-ffffffffffff"}],"responses":{"200":{"description":"Response of a reservation object","content":{"application/json":{"schema":{"type":"object","properties":{"schemaVersion":{"type":"string","description":"The version of the schema being used for the available segments feed.  This is used to allow\ncompatibility between multiple schema versions.\n","enum":["v2.0"],"example":"v2.0"},"reservation":{"type":"object","properties":{"reservationId":{"type":"string","description":"The partner-generated id for this reservation. This id must be unique across all reservations.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"productId":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"unitId":{"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"expiresAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"bookings":{"type":"array","description":"segments being booked in the request.","items":{"type":"object","properties":{"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["productId","status","expiresAt"]}}},"required":["reservationId","status","createdAt","updatedAt","products"]}},"required":["schemaVersion","reservation"]}}}},"400":{"description":"If the reservation is unable to be cancelled under the following conditions, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The reservation cannot be found.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_CANCELLABLE`</td>\n  <td>400</td>\n  <td>The reservation is not allowed to be cancelled.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["RESERVATION_NOT_FOUND","MALFORMED_REQUEST","RESERVATION_NOT_CANCELLABLE"]},"units":{"type":"array","description":"An array of units associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied unit id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","units"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]}}}}}}},"/groupon/v1/reservations/{reservationId}/units/cancellations":{"post":{"summary":"Unit Cancel","operationId":"postReservationsIdUnitCancellations","tags":["Transactional Partner Endpoints"],"description":"This endpoint is used to support unit level cancellations, although the whole reservation can be cancelled\nif all of its units are cancelled. The following scenarios are possible:\n\n1. Customer wants to cancel all the units of the reservation (Full reservation cancellation). This endpoint can be used, sending all\n   reservedUnits of the reservation. The `/groupon/v1/reservations/{reservationId}/cancellations` endpoint can also be used instead.\n2. Customer wants to cancel a subset of the units in a reservation (Partial reservation cancellation), if reservation has more than one unit.\n   The request body will contain the units in reservedUnits field that the customer wants to cancel.\n\nThe state of the requested units should be transitioned to `cancelled`. This endpoint should behave in a transactional manner, that is,\nif any unit in the request can't be transitioned to `cancelled` the whole request should fail with error code `UNIT_NOT_CANCELLABLE`,\nand no state transition should happen to any of the units.\n\nIf all units of a reservation are in the `cancelled` state, then the state of the reservation should be `cancelled`. Note that unit states\nchanges might happen on multiple API calls.\n\nPlease refer to the reservation lifecycle state machine and the unit lifecycle state machine for more details.\n\nNote - If a partner only supports reservation level (full) cancellations, then there is no need to track unit state seperately, however this\nendpoint can still be implemented and only support full cancellations as described above.\n\n## Expected SLA\nTP99 35ms at 500rpm\n\nThis is just the server response time, and does not include network transit time.\n\n## Request\n","parameters":[{"name":"locale","in":"query","description":"The locale and country code which represents the language for the content.  This should use the ISO-3166-1 and UN M.49 variation of the [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","required":true,"schema":{"type":"string","format":"locale","minLength":5,"maxLength":5},"example":"en_US"},{"name":"reservationId","in":"path","description":"The partner id for the reservation being retrieved. This id is for the reservation in the partner’s system.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"00000000-0000-00ff-ffff-ffffffffffff"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"reservedUnits":{"type":"array","description":"An array of reserved units to be cancelled in a reservation.\n","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner supplied ID for the reserved unit.\n","maxLength":99,"example":"ffffffff-ffff-ffff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["reservedUnits"]}},"required":["data"]},"example":{"data":{"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff"}]}}}}},"responses":{"200":{"description":"Response of a reservation object","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this reservation. This id must be unique across all reservations.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation. This represents the current\nstate of the reservation in the reservation lifecycle state machine.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled"]},"createdAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was created.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"products":{"type":"array","description":"An array of products involved with this reservation","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied id for the product.","example":"00000000-0000-00ff-ffff-ffffffffffff"},"categoryId":{"type":"string","format":"uuid","minLength":36,"maxLength":36,"description":"The categorization for this product.  This field is a uuid and the only acceptable values are the provided categorization uuids.\n","example":"0fff0000-0000-00ff-0000-fffffff0000f"},"quantity":{"type":"integer","description":"The quantity of this product being reserved. This isn't used if bookings are present.","example":2},"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"price":{"allOf":[{"description":"Object which contains the price the customer should pay. Groupon will charge the customer this value.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the basePrice","items":{"type":"object","description":"Object which contains the adjustments to be applied over the customer price.\nGroupon will charge the customers of these charges.\n**Note:** if `TAX` type is not present then Groupon will calculate the tax if applicable.\n","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e price, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the price.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"],"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e price, for the order."}},"required":["type","value"]}}},"required":["currencyCode","price"]},"accountingDetails":{"type":"object","description":"Object which contains data for accounting and partner payments.\n","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code.\n","example":"USD"},"buyPrice":{"allOf":[{"type":"object","description":"Object which contains the price that Groupon should pay to the partner.\nThis will be required in case where Groupon does not have visibility into items purchased by the customer with the reservation. For e.g. in case of Iframe and where margin cannot be configured on Groupon side by straightforward percentage or fixed amount on the purchase.\n"},{"type":"object","properties":{"amount":{"type":"integer","minimum":0,"description":"Numeric amount that is an integer representing minor unit of the currency. For example, in USD, $10.95 would be represented as 1095.\n","example":1095}},"required":["amount"]}]}}},"reservedUnits":{"type":"array","description":"An array of reserved units.\nThis section may also be used for iframe bookings to pass details from the partner back to Groupon about the reservation.\nIf quantity is specified in the request, the size of this array should match the quantity in the request.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied id for the reserved unit. This id will be passed into reserve and subsequent calls of the purchase. This id must be unique across all units of all reservations.\n","example":"abcdefgh1234567"},"status":{"type":"string","description":"The current state for this unit. When all the units within a reservation have assumed the same state, then the reservation should assume that state.\nSee unit lifecycle state machine for more details.\n","enum":["reserved","fulfilling","fulfilled","cancelling","cancelled","redeemed"],"example":"fulfilled"},"cancellation":{"type":"object","description":"The specifics related to the cancellation of a unit.","properties":{"reason":{"type":"string","maxLength":255,"description":"Any reason due to which the partner cancelled the unit e.g. 'event was cancelled'.\n"}}},"fulfillmentType":{"type":"string","description":"The type of fulfillment for this unit. This indicates how the user will receive the product after purchase.\nPickup indicates the purchaser must go and pick up their product, such as “will call” for tickets.\nShipped indicates that the product will be shipped to the purchaser.\nElectronic indicates that the purchaser will receive their product electronically, such as a PDF version of a ticket or voucher. Please note that this means that the data.products[].reservedUnits[].details.voucherUrl attribute on the reservation needs to be set when the purchase is fulfilled.\n","enum":["pickup","shipped","electronic"],"example":"shipped"},"partnerCustomerServiceId":{"type":"string","maxLength":255,"description":"The partner’s Customer Service reference ID for this unit. This ID will\nbe included in a purchase confirmation email sent by Groupon.\n\nIf this attribute is not populated, then the partner’s reservation ID will be used in its place.\n"},"expiresAt":{"type":"string","description":"A datetime representing when this unit will expire.\nIf `null`, this unit is expected to never expire.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","minLength":20,"maxLength":29,"format":"date-time","example":"2015-12-01T06:59:59.000Z"},"redeemedAt":{"type":"string","format":"date-time","description":"Denotes the timestamp when the unit was redeemed. Field should be provided if `status` value is `redeemed`.\nThe format is [ISO-8601](https://tools.ietf.org/html/rfc3339#section-5) combined date and time with timezone.\n"},"details":{"type":"object","description":"The specifics which describe the details of this unit.","properties":{"serviceTitle":{"type":"string","maxLength":255,"description":"The title for the service being offered. If the details are specified for this unit, this field must be specified.\n","example":"Men's Haircut"},"startAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"endAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing the start time for the service.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\nThe time portion of this field should be in local time for the service. Sending a timezone offset is optional.\n"},"resourceName":{"type":"string","maxLength":255,"description":"The name of the resource in the service being offered. Examples include a person offering the service, a room/space name, or a location name.\n","example":"Anna Rosendahl"},"voucherUrl":{"type":"string","description":"The URL to the partner system which returns a printable voucher. This URL should\nnot require login (e.g. it should contain any necessary security tokens to protect the voucher).\n\nThe user will be presented with this URL in Groupon’s system to view their voucher.\n","maxLength":255},"barcodes":{"type":"array","description":"The barcodes array for a unit, the order has to be consistent for easy selection.\nThe multi-barcodes feature on an unit is used when there are individual tickets to be\ngenerated on Groupon side for each member in the purchaser's group.\n","items":{"description":"information associated with each barcode","type":"object","properties":{"format":{"description":"The barcode format.","type":"string","enum":["code128","code128c","qrcode","text"]},"title":{"description":"The title of the barcode to be displayed to the end user on the Groupon voucher.\nThis title should include the category of group member for whom the barcode is issued.\nAs from the example below `Adult` is the intended category of the group member for whom\nthe related barcode is generated.\n","type":"string","example":"Adult ticket"},"value":{"description":"The content/payload displayed in the barcode.","type":"string"}},"required":["format","value"]}}},"required":["serviceTitle"]},"purchaserDetails":{"type":"array","description":"An array of details supplied by the purchaser.","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","maxLength":255,"description":"A first name supplied by the purchaser and associated with this reserved unit.","example":"John"},"lastName":{"type":"string","maxLength":255,"description":"A last name supplied by the purchaser and associated with this reserved unit.","example":"Doe"},"shippingAddress":{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}}},{"type":"object","properties":{"email":{"type":"string","description":"An email address supplied by the purchaser.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":255},"phone":{"type":"string","description":"A phone number supplied by the purchaser. The phone number will come in with\nany formatting (e.g. separators) which the user specifies.\n\nIf necessary, customer data may be provided for fulfillment purposes only,\nand if such information is provided, will be subject to contractual restrictions\non usage (e.g. cannot be used for marketing purposes).\n","maxLength":30},"meetsMinimumAgeRestriction":{"type":"integer","description":"The purchaser has specified that they meet the minimum age specified.\nThis does not indicate the purchaser is exactly their age, but rather\nthey have indicated that they are at least the specified age.\n\nWhile this value is informed by the minimumAge restriction associated\nwith the product, ultimately enforcing this restriction and ensuring\nthat it is an appropriate value is the responsibility of the partner.\nPlease use the `PRODUCT_RESTRICTION_VIOLATED` error code to denote\na failed restriction.\n","minimum":1,"example":21},"currentLocationPostalCode":{"type":"string","description":"The postal code associated with the current location of the purchaser.\nThis will be based on the current location of the purchaser, so the\nformat will match the country the user is located in.\n","minLength":3,"maxLength":10}}}]}},"grouponCustomerServiceId":{"type":"string","description":"Groupon’s Customer Service reference ID for this unit. This can be used\nwhen communicating with Groupon Customer Service to reference this reservation.\n","maxLength":22,"example":"TP-ZVX6-MG46-JFT4-99LG"},"bookings":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this booking. This id must be unique across all bookings for this unit.","maxLength":99},"grouponBookingId":{"description":"Groupon’s Booking reference ID.\n","type":"string","format":"uuid","minLength":36,"maxLength":36,"example":"11100000-0000-00ff-ffff-ffffffffffff"},"availability":{"description":"Availability segments chosen by the purchaser.","type":"array","items":{"type":"object","properties":{"id":{"description":"id of the availability slot. See in ingestion availability spec *products.availability*\n","type":"string","maxLength":99,"example":"adult-111111"},"availableAt":{"description":"The time and/or date which specifies when the availability slot/segment first becomes available.\n","type":"string","format":"date-time"},"availableUntil":{"description":"The time and/or date which specifies when the availability slot/segment stops being available.\n","type":"string","format":"date-time"},"redemptionLocationId":{"description":"If applicableRedemptionLocationIds where sent as part of the feed/availability payload, then the\nchosen location will be sent in the request.\n","type":"string","maxLength":255},"attributeIds":{"description":"Reference to the attribute values that this availability slot has.\n","type":"array","items":{"type":"string","maxLength":99}}}}}},"required":["id"]}}},"required":["id","status"]},{"type":"object","properties":{"isRedeemed":{"type":"boolean","deprecated":true,"description":"DEPRECATED: use `status=redeemed` attribute instead.\n\nDenotes if this unit has been redeemed or not. If true, this unit has been redeemed.\nIf false, the unit has not yet been redeemed.\n"}},"required":["fulfillmentType"]}]}}},"required":["id","reservedUnits","priceSummary"]}}},"required":["id","status","updatedAt","products"]}},"required":["data"]},"examples":{"successfulResponse":{"summary":"Successful response","value":{"data":{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"cancelled","createdAt":"2015-12-01T01:00:00.000Z","updatedAt":"2015-12-01T23:59:59.000Z","products":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","quantity":1,"categoryId":"00000000-0000-00ff-0000-fffffff0000f","priceSummary":{"currencyCode":"EUR","price":{"amount":300},"adjustments":[{"type":"TAX","value":{"amount":72}},{"type":"TIP","value":{"amount":100}},{"type":"DELIVERY_FEE","value":{"amount":200}}]},"reservedUnits":[{"id":"ffffffff-ffff-ffff-ffff-ffffffffffff","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","status":"cancelled","fulfillmentType":"electronic","expiresAt":"2015-11-01T17:00:00.000Z","isRedeemed":false,"details":{"serviceTitle":"Men's Haircut","startAt":"2015-11-01T16:00:00.000Z","endAt":"2015-11-01T17:00:00.000Z","resourceName":"Anna Rosendahl"}}]},{"id":"ffffffff-ffff-ff00-0000-000000000000","quantity":2,"categoryId":"0fff0000-0000-00ff-0000-fffffff0000f","priceSummary":{"currencyCode":"EUR","price":{"amount":300}},"reservedUnits":[{"id":"00000000-0000-0000-0000-000000000000","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-0000","status":"cancelled","fulfillmentType":"electronic","isRedeemed":false,"purchaserDetails":[{"firstName":"John","lastName":"Doe","shippingAddress":{"streetAddress":"123 Fake Street","extendedAddress":"Suite 620","locality":"Chicago","region":"Illinois","postalCode":"60654","countryCode":"US"}}]},{"id":"11111111-1111-1111-1111-111111111111","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-0001","status":"cancelled","fulfillmentType":"electronic","isRedeemed":true,"redeemedAt":"2015-12-01T01:00:00.000Z","purchaserDetails":[{"firstName":"Jane","lastName":"Doe"}]}]}]}}},"booking":{"value":{"data":{"id":"order-44122","status":"cancelled","createdAt":"2020-01-01T01:00:00.000Z","updatedAt":"2020-01-01T01:00:00.000Z","products":[{"id":"tickets-to-event-441","quantity":1,"priceSummary":{"currencyCode":"EUR","price":{"amount":80}},"reservedUnits":[{"id":"lsdfl34908fss","grouponCustomerServiceId":"TP-ZVX6-MG46-JFT4-99LG","status":"cancelled","fulfillmentType":"electronic","expiresAt":"2020-03-01T17:00:00.000Z","bookings":[{"id":"my-booking-id-442","grouponBookingId":"f5bb1a4c-5cf1-4767-85d6-3410bcc73155"}]}]}]}}}}}}},"400":{"description":"If the unit is unable to be cancelled under the following conditions, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The reservation cannot be found.</td>\n</tr>\n<tr>\n  <td>`UNIT_NOT_FOUND`</td>\n  <td>404</td>\n  <td>Any passed unit within cancel request cannot be found.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n<tr>\n  <td>`RESERVATION_NOT_CANCELLABLE`</td>\n  <td>400</td>\n  <td>The reservation is not allowed to be cancelled.</td>\n</tr>\n<tr>\n  <td>`UNIT_NOT_CANCELLABLE`</td>\n  <td>400</td>\n  <td>Any passed unit within cancel request is not allowed to be cancelled.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["RESERVATION_NOT_FOUND","UNIT_NOT_FOUND","MALFORMED_REQUEST","RESERVATION_NOT_CANCELLABLE","UNIT_NOT_CANCELLABLE"]},"units":{"type":"array","description":"An array of units associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The Partner supplied unit id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","units"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]},"examples":{"unit not found":{"summary":"Unit not found","description":"The unit was not found, can't cancel.","value":{"errors":[{"code":"UNIT_NOT_FOUND","units":[{"id":"00000000-0000-00ff-ffff-ffffffffffff"}]}],"httpCode":404}}}}}}}}},"/groupon/v1/system/availability":{"get":{"summary":"Heartbeat","operationId":"getSystemAvailability","tags":["Transactional Partner Endpoints"],"description":"This endpoint is a simple health check endpoint for Groupon to monitor system availability.\nIt will be fired periodically by Groupon outside of any purchase transactions to\ntest for any connectivity or availability issues.\n\n## Expected SLA\nTP99 10ms at 10krpm\n\nThis is just the server response time, and does not include network transit time.\n\nNo response body is expected, as HTTP response codes will dictate whether the partner\nsystem is considered available or not. In the future, a response body may be added\nto support passing debug information\n","responses":{"200":{"description":"The partner system is available and serving requests normally."},"503":{"description":"The partner system is experiencing an outage or is not serving requests normally. Groupon should consider the partner system to be down."}}}},"/partners/{partner}/v1/reservations":{"servers":[{"url":"https://offer-api.groupon.com","description":"Production server"},{"url":"https://offer-api-staging.groupon.com","description":"Staging server"}],"patch":{"summary":"Status Update","operationId":"webhookReservations","tags":["Transactional Groupon Endpoints"],"description":"This endpoint can be used by partners to notify Groupon of reservation status updates, when a reservation is fulfilled or cancelled on partner side.\n\n## SLA\nTP99 100ms at 10k rpm.\n\n## Request\nThe request body should include a list of reservation to update.  Each entry of the list specifies the partner-generated reservation id, the new status of the reservation (`fulfilled` or `cancelled`), and a datetime representing when the reservation was last updated.\n","parameters":[{"name":"partner","in":"path","description":"The partner name.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"partnerxyz"},{"name":"client_id","in":"query","description":"A client id required to make the request.  This id will be provided to partners by Groupon.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"abc123def345abc123def456"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","description":"List of reservations to update.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this reservation, which was returned from the Reserve API call.","maxLength":99},"status":{"type":"string","description":"The current status for this reservation.\nThis represents the current state of the reservation in the reservation lifecycle state machine.\n","enum":["fulfilled","cancelled"]},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"}},"required":["id","status","updatedAt"]}}},"required":["data"]},"example":{"data":[{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"fulfilled","updatedAt":"2015-12-01T23:59:59.000Z"}]}}}},"responses":{"200":{"description":"If the request is succeeded, then a 200 response should be returned.\n","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","description":"List of reservations updated.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this reservation.","maxLength":99},"status":{"type":"string","description":"The updated status for this reservation.","enum":["fulfilled","cancelled"]}},"required":["id","status"]}}},"required":["data"]},"example":{"data":[{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"fulfilled"}]}}}},"207":{"description":"If only a subset of the reservations can be updated, then a 207 response should be returned.\n\nIf the partner does not use polling, it should implement a retry logic for reservations that were not updated due to an `UNKNOWN_ERROR`.\n","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"data":{"type":"array","description":"List of reservations updated.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this reservation.","maxLength":99},"status":{"type":"string","description":"The updated status for this reservation.","enum":["fulfilled","cancelled"]}},"required":["id","status"]}}},"required":["data"]},{"type":"object","properties":{"errors":{"type":"array","description":"List of errors from the request.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for the reservation associated with this error.","maxLength":99},"code":{"type":"string","description":"The code for this error.","enum":["RESERVATION_NOT_FOUND","INVALID_STATE_TRANSITION","UNKNOWN_ERROR"]}},"required":["id","code"]}}}}],"required":["data","errors"]},"example":{"data":[{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"fulfilled"}],"errors":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","code":"RESERVATION_NOT_FOUND"}]}}}},"400":{"description":"If no reservation can be updated, then a 400 response should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n<th>Error Code</th>\n<th>HTTP Code</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>RESERVATION_NOT_FOUND</td>\n<td>400</td>\n<td>The reservation id was not found.</td>\n</tr>\n<tr>\n<td>INVALID_STATE_TRANSITION</td>\n<td>400</td>\n<td>The state transition for the reservation is invalid.</td>\n</tr>\n<tr>\n<td>UNKNOWN_ERROR</td>\n<td>400</td>\n<td>There was an unexpected error processing the request.</td>\n</tr>\n<tr>\n<td>MALFORMED_REQUEST</td>\n<td>400</td>\n<td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n</table>\n\nIf the partner does not use polling, it should implement a retry logic for reservations that were not updated due to an `UNKNOWN_ERROR`.\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"List of errors from the request.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for the reservation associated with this error (if any).","maxLength":99},"code":{"type":"string","description":"The code for this error.","enum":["RESERVATION_NOT_FOUND","INVALID_STATE_TRANSITION","UNKNOWN_ERROR","MALFORMED_REQUEST"]}},"required":["code"]}},"httpCode":{"type":"integer","description":"The HTTP status code for this error.","minimum":400,"maximum":499}},"required":["errors","httpCode"]},"example":{"errors":[{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","code":"INVALID_STATE_TRANSITION"},{"id":"00000000-0000-00ff-ffff-ffffffffffff","code":"RESERVATION_NOT_FOUND"}],"httpCode":400}}}},"401":{"description":"If the requests is missing valid authentication credentials, a 401 response should be returned.\n","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"object","properties":{"httpCode":{"type":"integer","description":"The HTTP status code for this error.","minimum":400,"maximum":499},"message":{"type":"string","description":"Error description","maxLength":99}},"required":["httpCode","message"]}}},"example":{"error":{"httpCode":401,"message":"'client_id' is invalid"}}}}}}}},"/partners/{partner}/v1/units":{"servers":[{"url":"https://offer-api.groupon.com","description":"Production server"},{"url":"https://offer-api-staging.groupon.com","description":"Staging server"}],"patch":{"summary":"Redemption","operationId":"webhookUnits","tags":["Transactional Groupon Endpoints"],"description":"This endpoint can be used by partners to notify Groupon of units status updates, when a unit is redeemed or cancelled on partner side.\n\n## SLA\nTP99 100ms at 10k rpm.\n\n## Request\nThe request body should include a list of units to update.  Each entry of the list specifies the partner-generated unit id, the new status of the unit (`redeemed` or `cancelled`), and a datetime representing when the reservation containing the unit was last updated.\n","parameters":[{"name":"partner","in":"path","description":"The partner name.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"partnerxyz"},{"name":"client_id","in":"query","description":"A client id required to make the request.  This id will be provided to partners by Groupon.\n","required":true,"schema":{"type":"string","maxLength":99},"example":"abc123def345abc123def456"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","description":"List of units to update.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this unit, returned from the Reserve API call.","maxLength":99},"status":{"type":"string","description":"The updated status for this unit.","enum":["redeemed","cancelled"]},"updatedAt":{"type":"string","minLength":20,"maxLength":29,"format":"date-time","description":"A datetime representing when the reservation was last updated.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"}},"required":["id","status","updatedAt"]}}},"required":["data"]},"example":{"data":[{"id":"ffff0000-ffff-0000-ffff-0000ffff0000","status":"redeemed","updatedAt":"2015-12-01T23:59:59.000Z"}]}}}},"responses":{"200":{"description":"If the request is succeeded, then a 200 response should be returned.\n","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","description":"List of units to update.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this unit.","maxLength":99},"status":{"type":"string","description":"The updated status for this unit.","enum":["redeemed","cancelled"]}},"required":["id","status"]}}},"required":["data"]},"example":{"data":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","status":"redeemed"},{"id":"00000000-0000-00ff-ffff-eeeeeeeeeeee","status":"cancelled"}]}}}},"207":{"description":"If only a subset of the units can be updated, then a 207 response should be returned.\n\nIf the partner does not use polling, it should implement a retry logic for units that were not updated due to an `UNKNOWN_ERROR`.\n","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"data":{"type":"array","description":"List of units to update.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for this unit.","maxLength":99},"status":{"type":"string","description":"The updated status for this unit.","enum":["redeemed","cancelled"]}},"required":["id","status"]}}},"required":["data"]},{"type":"object","properties":{"errors":{"type":"array","description":"List of errors from the request.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for the unit associated with this error.","maxLength":99},"code":{"type":"string","description":"The code for this error.","enum":["UNIT_NOT_FOUND","INVALID_STATE_TRANSITION","UNKNOWN_ERROR"]}},"required":["id","code"]}}}}],"required":["data","errors"]},"example":{"data":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","status":"redeemed"},{"id":"00000000-0000-00ff-ffff-eeeeeeeeeeee","status":"cancelled"}],"errors":[{"id":"00000000-0000-00ff-ffff-dddddddddddd","code":"UNIT_NOT_FOUND"}]}}}},"400":{"description":"If no unit can be updated, then a 400 response should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n<th>Error Code</th>\n<th>HTTP Code</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>UNIT_NOT_FOUND</td>\n<td>400</td>\n<td>The unit id was not found.</td>\n</tr>\n<tr>\n<td>INVALID_STATE_TRANSITION</td>\n<td>400</td>\n<td>The state transition for the unit is invalid.</td>\n</tr>\n<tr>\n<td>UNKNOWN_ERROR</td>\n<td>400</td>\n<td>There was an unexpected error processing the request.</td>\n</tr>\n<tr>\n<td>MALFORMED_REQUEST</td>\n<td>400</td>\n<td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n</table>\n\nIf the partner does not use polling, it should implement a retry logic for units that were not updated due to an `UNKNOWN_ERROR`.\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"List of errors from the request.","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner-generated id for the unit associated with this error (if any).","maxLength":99},"code":{"type":"string","description":"The code for this error.","enum":["UNIT_NOT_FOUND","INVALID_STATE_TRANSITION","UNKNOWN_ERROR","MALFORMED_REQUEST"]}},"required":["code"]}},"httpCode":{"type":"integer","description":"The HTTP status code for this error.","minimum":400,"maximum":499}},"required":["errors","httpCode"]},"example":{"errors":[{"id":"00000000-0000-00ff-ffff-ffffffffffff","code":"INVALID_STATE_TRANSITION"},{"id":"00000000-ffff-00ff-ffff-ffffffffffff","code":"UNIT_NOT_FOUND"}],"httpCode":400}}}},"401":{"description":"If the requests is missing valid authentication credentials, a 401 response should be returned.\n","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"object","properties":{"httpCode":{"type":"integer","description":"The HTTP status code for this error.","minimum":400,"maximum":499},"message":{"type":"string","description":"Error description","maxLength":99}},"required":["httpCode","message"]}}},"example":{"error":{"httpCode":401,"message":"'client_id' is invalid"}}}}}}}},"/groupon/v1/feed":{"get":{"summary":"Feed","operationId":"getFeed","tags":["Ingestion Feed"],"responses":{"200":{"description":"If inventory is available, then a 200 response should be returned with the following body.","content":{"application/json":{"schema":{"type":"object","properties":{"schemaVersion":{"type":"string","description":"The version of the schema being used for the feed.  This is used to allow\ncompatibility between multiple schema versions.\n","enum":["v2.3"]},"offers":{"type":"array","description":"The top level container which holds all the offer entities.","items":{"type":"object","description":"The entity representing a single or group of products.","properties":{"id":{"type":"string","description":"The partner’s external unique identifier. This will be used to link\nthe Groupon offer id to the partner’s internal data. The expectation\nis that this id will uniquely identify the data in the partner’s system.\n","maxLength":255},"detailsUrlOverride":{"type":"string","format":"url","description":"This URL is used to link out search results to an external offer page.\nThe use of this field will bypass the Groupon offer details page entirely.\nThis field is optional, and should only be used for link out offers which\nleave the Groupon site when the user clicks the search result. This will result\nin users not being sent to the main details page on Groupon, and instead to this URL.\n","maxLength":255},"slugOverride":{"type":"string","description":"An override for the automatically generated URL slug. If this field is specified,\nthis value will be used as a base but may be automatically disambiguated if conflicting\nslugs already exist in the system.  This is to ensure that the slug is universally\nunique across all offers. If this field is not specified, the slug will automatically\nbe generated by the system based on the `offers[].offer.provider.name` field.\n","maxLength":250},"provider":{"type":"object","description":"The service or product provider for the offer.  For example, this could take the form\nof a location, vendor, venue, event, salon, restaurant, or service.  This text will\nshow up on search results and other summaries for the offer.\n\nFor performer or artist information, please use the `offers[].offer.products[].performers[]`\nattribute instead.\n","properties":{"name":{"type":"string","description":"The name of the provider.  For example, this could be the name of the restaurant, salon,\nor venue which represents the provider.\n","maxLength":255},"websiteUrl":{"type":"string","format":"url","description":"The website for the provider.  For example, this could be the restaurant,\nartist, or salon website.\n","maxLength":255}},"required":["name"]},"rating":{"type":"object","description":"Offer reviews data object","properties":{"score":{"type":"number","description":"Five star aggregated rating for offer","minimum":0,"maximum":5},"count":{"type":"integer","description":"Reviews count for offer","minimum":0}},"required":["score","count"]},"brand":{"type":"object","description":"The brand for this offer. For example, this could be the manufacturer or\nbusiness associated with this offer.\n","properties":{"name":{"type":"string","description":"The name of the brand for this offer.","maxLength":255}},"required":["name"]},"availableAt":{"type":"string","format":"date-time","description":"The datetime which specifies when the offer first becomes available.\nThis field is inclusive in terms of the availability, meaning that the\noffer is available exactly at the moment this datetime specifies.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"availableUntil":{"type":"string","format":"date-time","description":"The datetime which specifies when the offer stops being available.\nThis field is exclusive in terms of the availability, meaning that\nthe offer is not available exactly at the moment this datetime specifies.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"images":{"type":"array","description":"An ordered list of image URLs.  The images will be retrieved from this\nURL and then re-uploaded into the Groupon Platform; they will not be used\nto serve live traffic.\n","items":{"type":"object","properties":{"url":{"type":"string","description":"The URL for this image.  This should be a publicly accessible\nURL which the Groupon system can reach and download the image for.\n\nThe URL should also be to the highest resolution image available.\nThe Groupon system will automatically resize images to for\neach use case, but needs the full size image to use as the source.\n","format":"url","maxLength":1024},"type":{"type":"string","description":"The type for this image. This is used to help identify the\nintent of the image, so it can be best utilized in different\ncontexts and for different usages.\n","enum":["logo","header"]}},"required":["url"]}},"writeups":{"type":"array","description":"The text which generally describes the items or services being offered.\n","items":{"type":"object","properties":{"locale":{"type":"string","description":"The locale and country code which represents the language for the content.\nThis should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","format":"locale","minLength":5,"maxLength":5},"title":{"type":"string","description":"The general title for the offer. This will appear as the link text\nand main page title on the offer listing and elsewhere where\nthe offer shows up on Groupon.\n","maxLength":255},"pitch":{"type":"string","description":"The main general writeup for the offer. This text will be used on the main page for the offer.\n","maxLength":25600},"highlights":{"type":"string","description":"This text will be used on the main page for the offer in the Highlights section.\n","maxLength":25600},"summary":{"type":"string","description":"A brief general summary description for the offer. This will be used on search results\nand other places where a brief description of the offer appears.\n","maxLength":140},"redemptionInstructionsOverride":{"type":"string","description":"An override to the default redemption instructions text configured for the partner.\nThis text is used to inform users how to redeem their offer, and will appear on the voucher.\nPlease see the below section on Overriding Redemption Instructions and Restrictions.\n","maxLength":2048},"restrictionsOverride":{"type":"string","description":"An override to the default restrictions text configured for the partner.\nThis text is used to inform users are restrictions around the offer,\nand will appear on the voucher and the offer page.\nPlease see the below section on Overriding Redemption Instructions and Restrictions.\n","maxLength":4096}},"required":["locale","title","pitch"]}},"redemptionLocations":{"type":"array","description":"An optional list of locations at which this offer can be redeemed.\nThis list will be appended to the redemption locations for all products on the offer.\n\nThis field can be used to normalize the list of locations which all products share,\nand is entirely optional.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this location.\nThis can be used to reference the location, such as in the availability data.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\n","maxLength":255},"name":{"type":"string","description":"A name for this location. Examples of this could be  a venue, restaurant, or business name.\n","maxLength":255},"latitude":{"type":"number","description":"The latitude for this location, formatted as a positive or negative decimal number.\n"},"longitude":{"type":"number","description":"The longitude for this location, formatted as a positive or negative decimal number.\n"},"phoneNumber":{"type":"string","description":"The phone number for this location. This will be used to provide contact information for this product.\nThe format of the phone number should follow the localized phone number format for this location.\n","format":"phone"}}},{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}]}},"pointsOfInterest":{"type":"array","description":"A list of locations that will show up in a map to give more context to the purchaser. For example this can be used for locations that a tour will visit.\nIf pointsOfInterest aren't present, we will show the redemptionLocations on the map.\n\nThis list will be appended to the points of interests for all products on the offer.\n\nThis field can be used to normalize the list of locations which all products share,\nand is entirely optional.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this location.\nThis can be used to reference the location, such as in the availability data.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\n","maxLength":255},"name":{"type":"string","description":"A name for this location. Examples of this could be  a venue, restaurant, or business name.\n","maxLength":255},"latitude":{"type":"number","description":"The latitude for this location, formatted as a positive or negative decimal number.\n"},"longitude":{"type":"number","description":"The longitude for this location, formatted as a positive or negative decimal number.\n"},"phoneNumber":{"type":"string","description":"The phone number for this location. This will be used to provide contact information for this product.\nThe format of the phone number should follow the localized phone number format for this location.\n","format":"phone"}}},{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}]}},"products":{"type":"array","description":"The individual products being offered.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this product. This will be used to\nlink the Groupon product id to the partner’s internal data. The expectation is that\nthis id will uniquely identify the data in the partner’s system.\n","maxLength":255,"example":"my-product-4321"},"availability":{"type":"array","description":"The availability data for this product. This can contain information such as specific dates,\napplicable locations, applicable pricing, and other information which defines an availability\nslot/segment for the product.\n\nWhen present, this attribute is expected to represent the valid and canonical availability\nfor this product. Any availability from a previous feed which is no longer present will be\nassumed to be no longer valid and discarded.\n","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this availability information.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\nNote that if availabilityAttributes are used, then this property is **required**.\n","maxLength":255,"example":"adult-55532"},"availableAt":{"type":"string","format":"date-time","description":"The time and/or date which specifies when the availability slot/segment first becomes available.\nThis field is inclusive in terms of the availability, meaning that the slot/segment is available\nexactly at the moment this datetime specifies.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","example":"2020-04-24T20:00:00.000Z"},"availableUntil":{"type":"string","format":"date-time","description":"The time and/or date which specifies when the availability slot/segment stops being available.\nThis field is exclusive in terms of the availability, meaning that the slot/segment is not available\nexactly at the moment this datetime specifies.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","example":"2020-04-24T22:00:00.000Z"},"estimatedRemainingQuantity":{"type":"integer","description":"The estimated quantity remaining for this availability slot/segment.\nThis value does not need to be real time, as it is used to inform remaining quantity but not control purchasing.\n","minimum":0,"example":23},"applicableRedemptionLocationIds":{"type":"array","description":"The partner’s ID for all applicable redemption locations. This ID may refer to either the product or\noffer redemption locations.\n\nThis is treated as an allowlist, and if this value is not specified it will be assumed that all\nredemption locations applicable to the product are also applicable for this availability slot/segment.\n\nIf any specified values are not an applicable redemption location ID (i.e. not an ID for any of\nthis product’s offer’s redemption locations or this specific product’s redemption locations),\nthen they will be ignored and treated as if they had not been passed.\n\nAll applicable redemption locations should be in the same timezone. If there are different\ntimezones for the locations, it is appropriate to create different availability slots/segments for each timezone.\n","items":{"type":"string","maxLength":255}},"pricing":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code for all prices.\n","example":"USD"},"originalPrice":{"type":"object","description":"Non discounted price, inclusive of all taxes and fees.","properties":{"minorUnitAmount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["minorUnitAmount"]},"discountedPrice":{"type":"object","description":"The price that the customer will be charged. The discounted price should not include taxes or fees. The discountedPrice can only be less than or equal to basePrice. If not running any discount, discountedPrice should be same as basePrice.","properties":{"minorUnitAmount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["minorUnitAmount"]},"basePrice":{"type":"object","description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable.","properties":{"amount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["amount"]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the discountedPrice.","items":{"type":"object","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e discountedPrice, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the discountedPrice.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e discountedPrice for the order.\n","properties":{"amount":{"type":"integer","description":"Numeric amount that is an integer in the currency’s minor unit representing the tax amount.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["amount"]}},"required":["type","value"]}}},"required":["currencyCode","originalPrice"]},"purchaserQuestionIds":{"type":"array","description":"Reference to purchaserQuestions (*purchaserQuestions.questions.id*) for this specific availability. These questions will be asked only if this availability slot is chosen by the purchaser and will be appended to the product level questions.","items":{"type":"string","maxLength":99},"example":["question-1"]},"attributeIds":{"description":"reference to the attribute values that this availability slot has (*offers.products.availabilityAttributes.values.id*). If attributes are used, the availability MUST have an `id`.","type":"array","items":{"type":"string","maxLength":99},"example":["adult","entrance"]}}}},"purchaserQuestionIds":{"type":"array","description":"Reference to purchaserQuestions (*purchaserQuestions.questions.id*) for this product.","items":{"type":"string","maxLength":99},"example":["question-2"]},"availabilityAttributes":{"type":"array","description":"Summary of Attributes of all availability slots with their localized text. In the UI the availability will be filtered by these attributes.","items":{"type":"object","properties":{"id":{"description":"ID of this availability group.\nThis ID must be unique within the product.\nThis ID must be stable between updates to ensure that the correct group\nis updated if changes are made, for example when adding a new value to\nthe group.\n","type":"string","maxLength":99},"selectionType":{"description":"Indicates how the selection for this attribute works:\n- `single`: only one of the values might be selected\n- `multiple`: multiple values can be selected\n","type":"string","enum":["single","multiple"]},"category":{"description":"Indicates how this attribute is identified within Groupon System. It is recommended that a single attribute is present of a specific category:\n- `service`: this category refers to the details of a service. values[].writeups.highlights should be included with the attribute category.\n- `staff`: this category refers to the service provider who is involved in providing the service from merchant side.\n   values[].writeups.highlights and values[].writeups.imageUrl should be included with the attribute category.\n- `audience`: this category refers to the end user\n","type":"string","enum":["service","staff","audience"]},"writeups":{"description":"list of localized text for this attribute group. Note that some writeups are only used depending on the category of the attribute.","type":"array","items":{"type":"object","properties":{"locale":{"description":"The locale and country code which represents the language for the content. This should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).","type":"string","format":"locale","minLength":5,"maxLength":5},"title":{"description":"title for this attribute","type":"string"}},"required":["locale"]}},"values":{"description":"values for this attribute","type":"array","items":{"type":"object","properties":{"id":{"description":"id of this value for reference. Must be unique across all availabilityAttributes of this product.","type":"string","maxLength":99},"writeups":{"description":"array of localized text for this attribute value","type":"array","items":{"type":"object","properties":{"locale":{"description":"The locale and country code which represents the language for the content. This should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).","type":"string","format":"locale","minLength":5,"maxLength":5},"title":{"description":"title for this attribute value","type":"string"},"imageUrl":{"description":"The URL for the image of attribute value.  This should be a publicly accessible\nURL which the Groupon system can reach and download the image for.\nThe image will be retrieved from this URL and then re-uploaded into the\nGroupon Platform; they will not be used to serve live traffic.\n\nThe URL should also be to the highest resolution image available.\nThe Groupon system will automatically resize images to the use case,\nbut needs the full size image to use as the source.\n","format":"url","maxLength":1024,"type":"string"},"highlights":{"description":"Text providing highlights about the attribute value which will be used to display to the end user.\n"}},"required":["locale","title"]}}},"required":["id","writeups"]}}},"required":["id","selectionType","values"]},"example":[{"id":"party-size","selectionType":"multiple","category":"audience","writeups":[{"locale":"en_US","title":"Party Size"}],"values":[{"id":"adult","writeups":[{"locale":"en_US","title":"Adult (13+)"}]},{"id":"kid","writeups":[{"locale":"en_US","title":"Kid (upto 12)"}]}]},{"id":"tour-type","selectionType":"single","category":"service","writeups":[{"locale":"en_US","title":"Tour Type"}],"values":[{"id":"entrance","writeups":[{"locale":"en_US","title":"Entrance","highlights":"The tour begins at the entrance of the venue. Explore the beauty and charm of the place at your own pace."}]},{"id":"audioguide","writeups":[{"locale":"en_US","title":"Entrance & Audio Guide","highlights":"The tour begins at the entrance of the venue. Explore the beauty and charm of the place with an audio guide"}]}]}]},"redemptionLocations":{"type":"array","description":"The list of locations at which this product can be redeemed.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this location.\nThis can be used to reference the location, such as in the availability data.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\n","maxLength":255},"name":{"type":"string","description":"A name for this location. Examples of this could be  a venue, restaurant, or business name.\n","maxLength":255},"latitude":{"type":"number","description":"The latitude for this location, formatted as a positive or negative decimal number.\n"},"longitude":{"type":"number","description":"The longitude for this location, formatted as a positive or negative decimal number.\n"},"phoneNumber":{"type":"string","description":"The phone number for this location. This will be used to provide contact information for this product.\nThe format of the phone number should follow the localized phone number format for this location.\n","format":"phone"}}},{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}]}}},"required":["id"]},{"type":"object","properties":{"primaryCategoryId":{"type":"string","description":"The primary categorization for this product. This field is a uuid and the only acceptable\nvalues are the provided categorization uuids (please see the section on Categorization).\n","format":"uuid","minLength":36,"maxLength":36},"categories":{"type":"array","description":"The list of additional categorization for this product.\n","items":{"type":"object","properties":{"id":{"type":"string","description":"The category id is a uuid and the only acceptable values are the provided categorization\nuuids (please see the section on Categorization).\n","format":"uuid","minLength":36,"maxLength":36}},"required":["id"]}},"purchaseUrl":{"type":"string","description":"The URL used to link out to an external purchase page. This field is optional, and only used\nfor link out offers which leave the Groupon site when the user clicks the buy button.\n","format":"url","maxLength":255},"iframeUrl":{"type":"string","description":"The URL used to render iframe content when this offer is using iframe transactions.\nThis field is optional, and only used for iframe transactions.\n\nA parameter called “grouponOpportunityId” will be appended to this URL with Groupon’s\nopportunity id for tracking purposes.\n","format":"url","maxLength":255},"expiresAt":{"type":"string","format":"date-time","description":"The datetime which specifies when the product expires.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n"},"expiresInDaysFromPurchase":{"type":"integer","description":"Specifies the number of days relative from purchase which the product expires.\nThis allows non-fixed expiration based on the purchase date by a user.\nThis is used to signal to the user that the product expires a certain number of days from the date of purchase.\n","minimum":1},"pricing":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code for all prices.\n","example":"USD"},"originalPrice":{"type":"object","description":"Price inclusive of all taxes and fees.","properties":{"minorUnitAmount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["minorUnitAmount"]},"discountedPrice":{"type":"object","description":"The price that the customer will be charged. The discounted price should not include taxes or fees. The discountedPrice can only be less than or equal to basePrice. If not running any discount, discountedPrice should be same as basePrice.","properties":{"minorUnitAmount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["minorUnitAmount"]},"basePrice":{"type":"object","description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable.","properties":{"amount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["amount"]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the discountedPrice.","items":{"type":"object","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e discountedPrice, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the discountedPrice.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e discountedPrice for the order.\n","properties":{"amount":{"type":"integer","description":"Numeric amount that is an integer in the currency’s minor unit representing the tax amount.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["amount"]}},"required":["type","value"]}}},"required":["currencyCode","originalPrice"]},"redemptionLocations":{"type":"array","description":"The list of locations at which this product can be redeemed.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this location.\nThis can be used to reference the location, such as in the availability data.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\n","maxLength":255},"name":{"type":"string","description":"A name for this location. Examples of this could be  a venue, restaurant, or business name.\n","maxLength":255},"latitude":{"type":"number","description":"The latitude for this location, formatted as a positive or negative decimal number.\n"},"longitude":{"type":"number","description":"The longitude for this location, formatted as a positive or negative decimal number.\n"},"phoneNumber":{"type":"string","description":"The phone number for this location. This will be used to provide contact information for this product.\nThe format of the phone number should follow the localized phone number format for this location.\n","format":"phone"}}},{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}]}},"pointsOfInterest":{"type":"array","description":"A list of locations that will show up in a map to give more context to the purchaser. For example this can be used for locations that a tour will visit.\nIf pointsOfInterest aren't present, we will show the redemptionLocations on the map.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this location.\nThis can be used to reference the location, such as in the availability data.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\n","maxLength":255},"name":{"type":"string","description":"A name for this location. Examples of this could be  a venue, restaurant, or business name.\n","maxLength":255},"latitude":{"type":"number","description":"The latitude for this location, formatted as a positive or negative decimal number.\n"},"longitude":{"type":"number","description":"The longitude for this location, formatted as a positive or negative decimal number.\n"},"phoneNumber":{"type":"string","description":"The phone number for this location. This will be used to provide contact information for this product.\nThe format of the phone number should follow the localized phone number format for this location.\n","format":"phone"}}},{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}]}},"writeups":{"type":"array","description":"The text which describes the specific items or services being offered.\n","items":{"type":"object","properties":{"locale":{"type":"string","description":"The locale and country code which represents the language for the content.\nThis should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","format":"locale","minLength":5,"maxLength":5},"title":{"type":"string","description":"The title for the specific product. This will appear as the selection text when there are multiple products being offered.\n","maxLength":255}},"required":["locale","title"]}},"fulfillmentType":{"type":"string","description":"The type of fulfillment for this product. This indicates how the user will receive the product after purchase.\n\n`Pickup` indicates the purchaser must go and pick up their product, such as \"will call\" for tickets.\n\n`Shipped` indicates that the product will be shipped to the purchaser.\n\n`Electronic` indicates that the purchaser will receive their product electronically,\nsuch as a PDF version of a ticket or voucher. Please note that this means that the\n`data.products[].reservedUnits[].details.voucherUrl` attribute on the reservation in\nthe transactional endpoints needs to be set when the purchase is fulfilled.\n","enum":["pickup","shipped","electronic"]},"restrictions":{"type":"object","description":"The restrictions associated with this product.","properties":{"maxPurchaseQuantity":{"type":"integer","description":"The maximum quantity an individual (indicated by purchaser ID) may purchase of this product.\nThis may occur in a single purchase, or be spread amongst multiple purchases of the same product.\n","minimum":1},"minimumAge":{"type":"integer","description":"The minimum age an individual must be in order to purchase this product.\n","minimum":1}}},"performers":{"type":"array","description":"The performers or artists associated with this product.\n","items":{"type":"object","properties":{"name":{"type":"string","description":"The name of the performer or artist.","minLength":1,"maxLength":64},"type":{"type":"string","description":"The type (role) of this performer. This can be primary (e.g. they are the headline or main act)\nor secondary (e.g. they are an opening act).\n\nMultiple performers or artists may share the same type on a single product, regardless\nof the type (e.g. as in a collaboration, a festival, or multiple opening acts).\n\nIt is expected there is at least one primary performer if any performers exist on a product.\n","enum":["primary","secondary"]},"websiteUrl":{"type":"string","description":"The website for the performer.  For example, this could be the website for the artist.\n\n\nThis value will most likely be different than the provider website.\n","format":"url"}},"required":["name","type"]}}},"required":["primaryCategoryId","pricing","writeups"]}]}}},"required":["id","provider","availableAt","writeups","products"]}},"purchaserQuestions":{"description":"Definition of localized questions that will be asked to the purchaser. These questions will be referenced from the products and their availabilities.","type":"array","items":{"type":"object","properties":{"locale":{"type":"string","description":"The locale and country code which represents the language for the content.\nThis should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","format":"locale","minLength":5,"maxLength":5},"questions":{"type":"array","description":"Questions templates to be answered by the purchaser.","items":{"type":"object","properties":{"id":{"type":"string","description":"id of this question. This is `required` only for the top level question, ie not required for question within the nested *fields* property.","maxLength":99},"fields":{"description":"This specifies the fields which are grouped together. A group may contain zero-to-many child groups, and there is no limit to how many times this nesting can occur. This is `required` for a field of *type* `GROUP`, as it specifies the fields within a group. A non-group field may contain zero-to-many fields. This data structure is used to support UI controls such as radio buttons or drop downs (using the `TEXT` *type*). A non-group field cannot have nested fields under these *fields*, nor may it contain `GROUP` *type* fields (i.e. a non-group field must have a flat list of child fields). Additionally, the child fields must have the same *property* as their parent field, and they must also have a *value*.","type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id of this question. This is `required` only for the top level question, ie not required for question within the nested *fields* property.","maxLength":99},"fields":{"description":"This specifies the fields which are grouped together. A group may contain zero-to-many child groups, and there is no limit to how many times this nesting can occur. This is `required` for a field of *type* `GROUP`, as it specifies the fields within a group. A non-group field may contain zero-to-many fields. This data structure is used to support UI controls such as radio buttons or drop downs (using the `TEXT` *type*). A non-group field cannot have nested fields under these *fields*, nor may it contain `GROUP` *type* fields (i.e. a non-group field must have a flat list of child fields). Additionally, the child fields must have the same *property* as their parent field, and they must also have a *value*.","type":"array","items":{"$ref":"#/paths/~1groupon~1v1~1feed/get/responses/200/content/application~1json/schema/properties/purchaserQuestions/items/properties/questions/items/properties/fields/items"}},"hint":{"description":"Specifies a short hint that describes the expected value for this field. This may be used by a client to render a hint or placeholder value inside of an input field.","type":"string","x-personal-data-class":"class2"},"label":{"description":"The label value to display for this checkout field.","type":"string","x-personal-data-class":"unclassified"},"type":{"description":"Enum of field types","type":"string","enum":["TEXT","GROUP","EMAIL","PHONE","NUMBER","BOOLEAN"],"x-personal-data-class":"unclassified"},"value":{"description":"The default value the client should use to populate this checkout field. For `BOOLEAN` types, this will be normalized to true or false when outputting the fields and will not be null. If the value is true, then it is recommended to display the UI control in the “on” state (e.g. checked for a checkbox or enabled for a toggle).\nFor a `TEXT` type with child fields, this will indicate the selected or default value. This can be used to populate the UI control with a pre-selected value.","type":"string","x-personal-data-class":"class2"}},"required":["type"],"discriminator":{"propertyName":"type","mapping":{"TEXT":"#/components/schemas/TextField","GROUP":"#/components/schemas/GroupField","EMAIL":"#/components/schemas/EmailField","PHONE":"#/components/schemas/PhoneField","NUMBER":"#/components/schemas/NumberField","BOOLEAN":"#/components/schemas/BooleanField"}}}},"hint":{"description":"Specifies a short hint that describes the expected value for this field. This may be used by a client to render a hint or placeholder value inside of an input field.","type":"string","x-personal-data-class":"class2"},"label":{"description":"The label value to display for this checkout field.","type":"string","x-personal-data-class":"unclassified"},"type":{"description":"Enum of field types","type":"string","enum":["TEXT","GROUP","EMAIL","PHONE","NUMBER","BOOLEAN"],"x-personal-data-class":"unclassified"},"value":{"description":"The default value the client should use to populate this checkout field. For `BOOLEAN` types, this will be normalized to true or false when outputting the fields and will not be null. If the value is true, then it is recommended to display the UI control in the “on” state (e.g. checked for a checkbox or enabled for a toggle).\nFor a `TEXT` type with child fields, this will indicate the selected or default value. This can be used to populate the UI control with a pre-selected value.","type":"string","x-personal-data-class":"class2"}},"required":["type"],"discriminator":{"propertyName":"type","mapping":{"TEXT":"#/components/schemas/TextField","GROUP":"#/components/schemas/GroupField","EMAIL":"#/components/schemas/EmailField","PHONE":"#/components/schemas/PhoneField","NUMBER":"#/components/schemas/NumberField","BOOLEAN":"#/components/schemas/BooleanField"}}}}},"required":["locale","questions"]},"example":[{"locale":"en_US","questions":[{"id":"question-1","type":"GROUP","label":"Name","fields":[{"type":"TEXT","property":"title","label":"Title","fields":[{"type":"TEXT","label":"Ms.","hint":"Miss","value":"ms"},{"type":"TEXT","label":"Mr.","hint":"Mister","value":"mr"}]},{"type":"TEXT","property":"name","label":"Name","hint":"Your full name"}]},{"id":"question-2","type":"TEXT","property":"language","label":"Tour Language","value":"eng","required":true,"fields":[{"type":"TEXT","property":"language","label":"English","value":"eng"},{"type":"TEXT","property":"language","label":"Spanish","value":"esp"}]}]}]}},"required":["schemaVersion","offers"]},"examples":{"feed":{"summary":"Feed","value":{"schemaVersion":"v1.0","offers":[{"id":"b3e7fbe6-8468-4796-aa32-8f0d91bc9d2e","detailsUrlOverride":"http://external-page.com","slugOverride":"local-restaurant-offer","provider":{"name":"Local Restaurant","websiteUrl":"http://www.example.com/local-restaurant"},"rating":{"score":4.5,"count":100},"brand":{"name":"Local Restaurant Group"},"availableAt":"2015-01-01T06:00:00.000Z","availableUntil":"2015-12-31T18:59:00.000Z","images":[{"url":"http://www.example.com/local-restaurant.jpg","type":"logo"}],"writeups":[{"locale":"en_US","title":"50% off of Cheese Sticks at Local Restaurant","pitch":"The food there is pretty good.","highlights":"highlights of the deal","summary":"World famous cheese sticks at Local Restaurant","redemptionInstructionsOverride":"(1) take into Local Restaurant (2) Use to purchase cheese sticks","restrictionsOverride":"Can only be used towards the purchase of cheese sticks. Not valid for any other products or services."}],"redemptionLocations":[{"id":"location-id-1","name":"San Francisco International Airport","latitude":41.8369,"longitude":87.6847,"phoneNumber":"650-821-8211","streetAddress":"123 Fake Street","extendedAddress":"extendedAddress","locality":"San Francisco","region":"California","postalCode":"94128","countryCode":"US"}],"pointsOfInterest":[{"id":"location-id-1","name":"San Francisco International Airport","latitude":41.8369,"longitude":87.6847,"phoneNumber":"650-821-8211","streetAddress":"123 Fake Street","extendedAddress":"extendedAddress","locality":"San Francisco","region":"California","postalCode":"94128","countryCode":"US"}],"products":[{"id":"47dd4720-6c31-457c-b5c7-0cd47f5cbe44","availability":[{"id":"938de4d2-b8f5-41c7-860f-94ded05f43c8","availableAt":"2015-01-01T06:00:00.000Z","availableUntil":"2015-12-31T18:59:00.000Z","estimatedRemainingQuantity":100,"applicableRedemptionLocationIds":["c09790ba-a6b9-40fc-ad81-4cdf25260b5e"],"pricing":{"currencyCode":"USD","originalPrice":{"minorUnitAmount":2500},"discountedPrice":{"minorUnitAmount":1250},"basePrice":{"minorUnitAmount":2500},"adjustments":[{"type":"TAX","value":{"amount":50}}]},"purchaserQuestionIds":["question-id-1","question-id-2"],"attributeIds":["attribute-id-1","attribute-id-2"]}],"purchaserQuestionIds":["party-size","ticket-type"],"availabilityAttributes":[{"id":"party-size","selectionType":"mutliple","category":"audience","writeups":[{"locale":"en_US","title":"Party Size"}],"values":[{"id":"adult","writeups":{"locale":"en_US","title":"Adult","imageUrl":"http://image.com","highlights":"highlights"}},{"id":"child","writeups":{"locale":"en_US","title":"Child","imageUrl":"http://image.com","highlights":"highlights"}}]},{"id":"ticket-type","selectionType":"single","category":"service","writeups":[{"locale":"en_US","title":"Ticket Type"}],"values":[{"id":"screen1","writeups":{"locale":"en_US","title":"Screen 1","imageUrl":"http://image.com","highlights":"highlights"}},{"id":"screen2","writeups":{"locale":"en_US","title":"Screen 2","imageUrl":"http://image.com","highlights":"highlights"}}]}],"redemptionLocations":[{"id":"location-id-1","name":"San Francisco International Airport","latitude":41.8369,"longitude":87.6847,"phoneNumber":"650-821-8211","streetAddress":"123 Fake Street","extendedAddress":"extendedAddress","locality":"San Francisco","region":"California","postalCode":"94128","countryCode":"US"}],"primaryCategoryId":"7a87845f-6377-4989-a5d8-f73db43e9942","categories":[{"id":"category-1"}],"purchaseUrl":"http://external-purchase.com","iframeUrl":"http://external-iframe.com","expiresAt":"2015-12-31T18:59:00.000Z","expiresInDaysFromPurchase":1,"pricing":{"currencyCode":"USD","originalPrice":{"minorUnitAmount":2500},"discountedPrice":{"minorUnitAmount":1250},"basePrice":{"minorUnitAmount":2500},"adjustments":[{"type":"TAX","value":{"amount":50}}]},"pointsOfInterest":[{"id":"location-id-1","name":"San Francisco International Airport","latitude":41.8369,"longitude":87.6847,"phoneNumber":"650-821-8211","streetAddress":"123 Fake Street","extendedAddress":"extendedAddress","locality":"San Francisco","region":"California","postalCode":"94128","countryCode":"US"}],"writeups":[{"locale":"en_US","title":"$12.50 for $25 of Cheese Sticks and More"}],"fulfillmentType":"electronic","restrictions":{"maxPurchaseQuantity":7},"performers":[{"name":"Name of the artist","type":"primary","websiteUrl":"http://show.com/artist-1"}]}]}],"purchaserQuestions":{"locale":"en_US","questions":[{"id":"id-1","fields":[{}],"hint":"hint","label":"label","type":"TEXT","value":"default value","required":true,"property":"attribute name","pattern":"regex","minLength":10,"maxLength":255}]}}}}}}}}}},"/groupon/v1/feed/availability":{"get":{"summary":"Availability","operationId":"getAvailability","parameters":[{"name":"productIds","in":"query","description":"Comma delimited list of product IDs.\n","required":true,"schema":{"type":"string","example":"product-1,product-2"}},{"name":"startDate","in":"query","description":"Date/time specifying the beginning of the period for which segments should be provided.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","schema":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","example":"2019-12-01T06:59:59.000Z"},"required":true},{"name":"endDate","in":"query","description":"Date/time specifying the end of the period for which segments should be provided.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","schema":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","example":"2019-12-31T06:59:59.000Z"},"required":true},{"name":"merchantId","in":"query","description":"The id of the merchant whose service availabilities should be provided.\n","schema":{"type":"string","example":"merchant-id-1"},"required":false},{"name":"attributeIds","in":"query","description":"Comma delimited list of attribute IDs that further refine the availability of the products.\nThis list should be considered an OR for related attributes.\nIf no attribute is passed then that is considered as if all attributes are possible for availability.\n","required":false,"schema":{"type":"string","example":"attribute-id-1,attribute-id-2"}}],"responses":{"200":{"description":"If the available segments exists for the parameters provided, then a 200 response should be returned,\nif some of the products have errors, add them to the errors array, but still return availability for\nthe valid ones.\n","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"schemaVersion":{"type":"string","description":"The version of the schema being used for the available segments feed.  This is used to allow\ncompatibility between multiple schema versions.\n","enum":["v1.0"],"example":"v1.0"}},"required":["schemaVersion"]},{"type":"object","properties":{"products":{"type":"array","description":"The individual product available segments.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this product. This will be used to\nlink the Groupon product id to the partner’s internal data. The expectation is that\nthis id will uniquely identify the data in the partner’s system.\n","maxLength":255,"example":"my-product-4321"},"availability":{"type":"array","description":"The availability data for this product. This can contain information such as specific dates,\napplicable locations, applicable pricing, and other information which defines an availability\nslot/segment for the product.\n\nWhen present, this attribute is expected to represent the valid and canonical availability\nfor this product. Any availability from a previous feed which is no longer present will be\nassumed to be no longer valid and discarded.\n","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this availability information.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\nNote that if availabilityAttributes are used, then this property is **required**.\n","maxLength":255,"example":"adult-55532"},"availableAt":{"type":"string","format":"date-time","description":"The time and/or date which specifies when the availability slot/segment first becomes available.\nThis field is inclusive in terms of the availability, meaning that the slot/segment is available\nexactly at the moment this datetime specifies.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","example":"2020-04-24T20:00:00.000Z"},"availableUntil":{"type":"string","format":"date-time","description":"The time and/or date which specifies when the availability slot/segment stops being available.\nThis field is exclusive in terms of the availability, meaning that the slot/segment is not available\nexactly at the moment this datetime specifies.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","example":"2020-04-24T22:00:00.000Z"},"estimatedRemainingQuantity":{"type":"integer","description":"The estimated quantity remaining for this availability slot/segment.\nThis value does not need to be real time, as it is used to inform remaining quantity but not control purchasing.\n","minimum":0,"example":23},"applicableRedemptionLocationIds":{"type":"array","description":"The partner’s ID for all applicable redemption locations. This ID may refer to either the product or\noffer redemption locations.\n\nThis is treated as an allowlist, and if this value is not specified it will be assumed that all\nredemption locations applicable to the product are also applicable for this availability slot/segment.\n\nIf any specified values are not an applicable redemption location ID (i.e. not an ID for any of\nthis product’s offer’s redemption locations or this specific product’s redemption locations),\nthen they will be ignored and treated as if they had not been passed.\n\nAll applicable redemption locations should be in the same timezone. If there are different\ntimezones for the locations, it is appropriate to create different availability slots/segments for each timezone.\n","items":{"type":"string","maxLength":255}},"pricing":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code for all prices.\n","example":"USD"},"originalPrice":{"type":"object","description":"Non discounted price, inclusive of all taxes and fees.","properties":{"minorUnitAmount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["minorUnitAmount"]},"discountedPrice":{"type":"object","description":"The price that the customer will be charged. The discounted price should not include taxes or fees. The discountedPrice can only be less than or equal to basePrice. If not running any discount, discountedPrice should be same as basePrice.","properties":{"minorUnitAmount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["minorUnitAmount"]},"basePrice":{"type":"object","description":"Non discounted price, exclusive of taxes and fees. Required for the deals running in states where MPF is applicable.","properties":{"amount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["amount"]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the discountedPrice.","items":{"type":"object","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price i.e discountedPrice, which should be chosen from the enum.\n* TAX - Any tax amount to be applied on the discountedPrice.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n","enum":["TAX","DELIVERY_FEE","TIP","BOOKING_FEE","SERVICE_FEE"],"example":"TAX"},"value":{"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price i.e discountedPrice for the order.\n","properties":{"amount":{"type":"integer","description":"Numeric amount that is an integer in the currency’s minor unit representing the tax amount.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["amount"]}},"required":["type","value"]}}},"required":["currencyCode","originalPrice"]},"purchaserQuestionIds":{"type":"array","description":"Reference to purchaserQuestions (*purchaserQuestions.questions.id*) for this specific availability. These questions will be asked only if this availability slot is chosen by the purchaser and will be appended to the product level questions.","items":{"type":"string","maxLength":99},"example":["question-1"]},"attributeIds":{"description":"reference to the attribute values that this availability slot has (*offers.products.availabilityAttributes.values.id*). If attributes are used, the availability MUST have an `id`.","type":"array","items":{"type":"string","maxLength":99},"example":["adult","entrance"]}}}},"purchaserQuestionIds":{"type":"array","description":"Reference to purchaserQuestions (*purchaserQuestions.questions.id*) for this product.","items":{"type":"string","maxLength":99},"example":["question-2"]},"availabilityAttributes":{"type":"array","description":"Summary of Attributes of all availability slots with their localized text. In the UI the availability will be filtered by these attributes.","items":{"type":"object","properties":{"id":{"description":"ID of this availability group.\nThis ID must be unique within the product.\nThis ID must be stable between updates to ensure that the correct group\nis updated if changes are made, for example when adding a new value to\nthe group.\n","type":"string","maxLength":99},"selectionType":{"description":"Indicates how the selection for this attribute works:\n- `single`: only one of the values might be selected\n- `multiple`: multiple values can be selected\n","type":"string","enum":["single","multiple"]},"category":{"description":"Indicates how this attribute is identified within Groupon System. It is recommended that a single attribute is present of a specific category:\n- `service`: this category refers to the details of a service. values[].writeups.highlights should be included with the attribute category.\n- `staff`: this category refers to the service provider who is involved in providing the service from merchant side.\n   values[].writeups.highlights and values[].writeups.imageUrl should be included with the attribute category.\n- `audience`: this category refers to the end user\n","type":"string","enum":["service","staff","audience"]},"writeups":{"description":"list of localized text for this attribute group. Note that some writeups are only used depending on the category of the attribute.","type":"array","items":{"type":"object","properties":{"locale":{"description":"The locale and country code which represents the language for the content. This should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).","type":"string","format":"locale","minLength":5,"maxLength":5},"title":{"description":"title for this attribute","type":"string"}},"required":["locale"]}},"values":{"description":"values for this attribute","type":"array","items":{"type":"object","properties":{"id":{"description":"id of this value for reference. Must be unique across all availabilityAttributes of this product.","type":"string","maxLength":99},"writeups":{"description":"array of localized text for this attribute value","type":"array","items":{"type":"object","properties":{"locale":{"description":"The locale and country code which represents the language for the content. This should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).","type":"string","format":"locale","minLength":5,"maxLength":5},"title":{"description":"title for this attribute value","type":"string"},"imageUrl":{"description":"The URL for the image of attribute value.  This should be a publicly accessible\nURL which the Groupon system can reach and download the image for.\nThe image will be retrieved from this URL and then re-uploaded into the\nGroupon Platform; they will not be used to serve live traffic.\n\nThe URL should also be to the highest resolution image available.\nThe Groupon system will automatically resize images to the use case,\nbut needs the full size image to use as the source.\n","format":"url","maxLength":1024,"type":"string"},"highlights":{"description":"Text providing highlights about the attribute value which will be used to display to the end user.\n"}},"required":["locale","title"]}}},"required":["id","writeups"]}}},"required":["id","selectionType","values"]},"example":[{"id":"party-size","selectionType":"multiple","category":"audience","writeups":[{"locale":"en_US","title":"Party Size"}],"values":[{"id":"adult","writeups":[{"locale":"en_US","title":"Adult (13+)"}]},{"id":"kid","writeups":[{"locale":"en_US","title":"Kid (upto 12)"}]}]},{"id":"tour-type","selectionType":"single","category":"service","writeups":[{"locale":"en_US","title":"Tour Type"}],"values":[{"id":"entrance","writeups":[{"locale":"en_US","title":"Entrance","highlights":"The tour begins at the entrance of the venue. Explore the beauty and charm of the place at your own pace."}]},{"id":"audioguide","writeups":[{"locale":"en_US","title":"Entrance & Audio Guide","highlights":"The tour begins at the entrance of the venue. Explore the beauty and charm of the place with an audio guide"}]}]}]},"redemptionLocations":{"type":"array","description":"The list of locations at which this product can be redeemed.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this location.\nThis can be used to reference the location, such as in the availability data.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\n","maxLength":255},"name":{"type":"string","description":"A name for this location. Examples of this could be  a venue, restaurant, or business name.\n","maxLength":255},"latitude":{"type":"number","description":"The latitude for this location, formatted as a positive or negative decimal number.\n"},"longitude":{"type":"number","description":"The longitude for this location, formatted as a positive or negative decimal number.\n"},"phoneNumber":{"type":"string","description":"The phone number for this location. This will be used to provide contact information for this product.\nThe format of the phone number should follow the localized phone number format for this location.\n","format":"phone"}}},{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}]}}},"required":["id"]},{"required":["availability"]}]}},"purchaserQuestions":{"description":"Definition of localized questions that will be asked to the purchaser. These questions will be referenced from the products and their availabilities.","type":"array","items":{"type":"object","properties":{"locale":{"type":"string","description":"The locale and country code which represents the language for the content.\nThis should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","format":"locale","minLength":5,"maxLength":5},"questions":{"description":"Questions template to be answered by the purchaser.","type":"array","items":{"$ref":"#/paths/~1groupon~1v1~1feed/get/responses/200/content/application~1json/schema/properties/purchaserQuestions/items/properties/questions/items"}}},"required":["locale","questions"]},"example":[{"locale":"en_US","questions":[{"id":"question-1","type":"GROUP","label":"Name","fields":[{"type":"TEXT","property":"title","label":"Title","fields":[{"type":"TEXT","label":"Ms.","hint":"Miss","value":"ms"},{"type":"TEXT","label":"Mr.","hint":"Mister","value":"mr"}]},{"type":"TEXT","property":"name","label":"Name","hint":"Your full name"}]},{"id":"question-2","type":"TEXT","property":"language","label":"Tour Language","value":"eng","required":true,"fields":[{"type":"TEXT","property":"language","label":"English","value":"eng"},{"type":"TEXT","property":"language","label":"Spanish","value":"esp"}]}]}]}},"required":["products"]},{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request, see the 400 response for further details.","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["PRODUCT_NOT_FOUND","AVAILABILITY_NOT_READY"],"example":"PRODUCT_NOT_FOUND"},"products":{"type":"array","description":"An array of products associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied product id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","products"]}}}}]},"examples":{"availability":{"summary":"Availability","value":{"schemaVersion":"v1.0","products":[{"id":"47dd4720-6c31-457c-b5c7-0cd47f5cbe44","availability":[{"id":"938de4d2-b8f5-41c7-860f-94ded05f43c8","availableAt":"2015-01-01T06:00:00.000Z","availableUntil":"2015-12-31T18:59:00.000Z","estimatedRemainingQuantity":100,"applicableRedemptionLocationIds":["c09790ba-a6b9-40fc-ad81-4cdf25260b5e"],"pricing":{"currencyCode":"USD","originalPrice":{"minorUnitAmount":2500},"discountedPrice":{"minorUnitAmount":1250},"basePrice":{"minorUnitAmount":2500},"adjustments":[{"type":"TAX","value":{"amount":50}}]},"purchaserQuestionIds":["question-id-1","question-id-2"],"attributeIds":["attribute-id-1","attribute-id-2"]}],"purchaserQuestionIds":["party-size","ticket-type"],"availabilityAttributes":[{"id":"party-size","selectionType":"mutliple","category":"audience","writeups":[{"locale":"en_US","title":"Party Size"}],"values":[{"id":"adult","writeups":{"locale":"en_US","title":"Adult","imageUrl":"http://image.com","highlights":"highlights"}},{"id":"child","writeups":{"locale":"en_US","title":"Child","imageUrl":"http://image.com","highlights":"highlights"}}]},{"id":"ticket-type","selectionType":"single","category":"service","writeups":[{"locale":"en_US","title":"Ticket Type"}],"values":[{"id":"screen1","writeups":{"locale":"en_US","title":"Screen 1","imageUrl":"http://image.com","highlights":"highlights"}},{"id":"screen2","writeups":{"locale":"en_US","title":"Screen 2","imageUrl":"http://image.com","highlights":"highlights"}}]}],"redemptionLocations":[{"id":"location-id-1","name":"San Francisco International Airport","latitude":41.8369,"longitude":87.6847,"phoneNumber":"650-821-8211","streetAddress":"123 Fake Street","extendedAddress":"extendedAddress","locality":"San Francisco","region":"California","postalCode":"94128","countryCode":"US"}]}],"purchaserQuestions":{"locale":"en_US","questions":[{"id":"id-1","fields":[{}],"hint":"hint","label":"label","type":"TEXT","value":"default value","required":true,"property":"attribute name","pattern":"regex","minLength":10,"maxLength":255}]},"errors":[{"code":"PRODUCT_NOT_FOUND","products":[{"id":"invalid-product"}]}]}}}}}},"400":{"description":"If the request is invalid, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`PRODUCT_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The product ids in the request are not valid or are not recognized.</td>\n</tr>\n<tr>\n  <td>`AVAILABILITY_NOT_READY`</td>\n  <td>400</td>\n  <td>The product ids exist, but there is no availability ready for them. This doesn't mean that there\n  is no availability, but there might be some background process needed to process it, and it hasn't finished yet.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["PRODUCT_NOT_FOUND","AVAILABILITY_NOT_READY","MALFORMED_REQUEST"],"example":"PRODUCT_NOT_FOUND"},"products":{"type":"array","description":"An array of products associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied product id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code"]}}}},{"type":"object","properties":{"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["httpCode"]},{"type":"object","required":["errors"]}]},"examples":{"product not found":{"summary":"Product not found","description":"The product is not found","value":{"errors":[{"code":"PRODUCT_NOT_FOUND","products":[{"id":"non-existent-product"}]}],"httpCode":404}}}}}}}}},"/groupon/v2/feed/availability":{"get":{"summary":"Availability_v2","operationId":"getAvailability_v2","tags":["Ingestion Feed V2"],"parameters":[{"name":"productIds","in":"query","description":"Comma delimited list of product IDs.\n","required":true,"schema":{"type":"string","example":"product-1,product-2"}},{"name":"startDate","in":"query","description":"Date/time specifying the beginning of the period for which segments should be provided.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","schema":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","example":"2019-12-01T06:59:59.000Z"},"required":true},{"name":"endDate","in":"query","description":"Date/time specifying the end of the period for which segments should be provided.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","schema":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","example":"2019-12-31T06:59:59.000Z"},"required":true},{"name":"merchantId","in":"query","description":"The id of the merchant whose service availabilities should be provided.\n","schema":{"type":"string","example":"merchant-id-1"},"required":false},{"name":"attributeIds","in":"query","description":"Comma delimited list of attribute IDs that further refine the availability of the products.\nThis list should be considered an OR for related attributes.\nIf no attribute is passed then that is considered as if all attributes are possible for availability.\n","required":false,"schema":{"type":"string","example":"attribute-id-1,attribute-id-2"}}],"responses":{"200":{"description":"If the available segments exists for the parameters provided, then a 200 response should be returned,\nif some of the products have errors, add them to the errors array, but still return availability for\nthe valid ones.\n","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"schemaVersion":{"type":"string","description":"The version of the schema being used for the available segments feed.  This is used to allow\ncompatibility between multiple schema versions.\n","enum":["v2.0"],"example":"v2.0"}},"required":["schemaVersion"]},{"type":"object","properties":{"products":{"type":"array","description":"The individual product available segments.\n","items":{"allOf":[{"type":"object","properties":{"availabilityType":{"type":"string","description":"Indicates how the booking for the product works:\n- `GA`: General Admission (No fixed date and time)\n- `DATE`: Just the date of booking needs to be selected, no fixed time\n- `DATETIME`: Both date and time needs to be selected to make a booking\n","enum":["GA","DATE","DATETIME"],"example":"GA"}},"required":["availabilityType"]},{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this product. This will be used to\nlink the Groupon product id to the partner’s internal data. The expectation is that\nthis id will uniquely identify the data in the partner’s system.\n","maxLength":255,"example":"my-product-4321"},"availability":{"type":"array","description":"The availability data for this product. This can contain information such as specific dates,\napplicable locations, applicable pricing, and other information which defines an availability\nslot/segment for the product.\n\nWhen present, this attribute is expected to represent the valid and canonical availability\nfor this product. Any availability from a previous feed which is no longer present will be\nassumed to be no longer valid and discarded.\n","items":{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this availability information.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\nNote that if availabilityAttributes are used, then this property is **required**.\n","maxLength":255,"example":"adult-55532"},"availableAt":{"type":"string","format":"date-time","description":"The time and/or date which specifies when the availability slot/segment first becomes available.\nThis field is inclusive in terms of the availability, meaning that the slot/segment is available\nexactly at the moment this datetime specifies.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","example":"2020-04-24T20:00:00.000Z"},"availableUntil":{"type":"string","format":"date-time","description":"The time and/or date which specifies when the availability slot/segment stops being available.\nThis field is exclusive in terms of the availability, meaning that the slot/segment is not available\nexactly at the moment this datetime specifies.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","example":"2020-04-24T22:00:00.000Z"},"estimatedRemainingQuantity":{"type":"integer","description":"The estimated quantity remaining for this availability slot/segment.\nThis value does not need to be real time, as it is used to inform remaining quantity but not control purchasing.\n","minimum":0,"example":23},"applicableRedemptionLocationIds":{"type":"array","description":"The partner’s ID for all applicable redemption locations. This ID may refer to either the product or\noffer redemption locations.\n\nThis is treated as an allowlist, and if this value is not specified it will be assumed that all\nredemption locations applicable to the product are also applicable for this availability slot/segment.\n\nIf any specified values are not an applicable redemption location ID (i.e. not an ID for any of\nthis product’s offer’s redemption locations or this specific product’s redemption locations),\nthen they will be ignored and treated as if they had not been passed.\n\nAll applicable redemption locations should be in the same timezone. If there are different\ntimezones for the locations, it is appropriate to create different availability slots/segments for each timezone.\n","items":{"type":"string","maxLength":255}},"priceSummary":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code for all prices.\n","example":"USD"},"retailPrice":{"type":"object","description":"Market rate.","properties":{"amount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0},"tax":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $2.95 would be represented as 295.\n","minimum":0},"taxIncludedInAmount":{"type":"boolean","description":"An Identifier that tax is included in the amount\n"}},"required":["amount","taxIncludedInAmount"]},"discountPrice":{"type":"object","description":"The price that the customer will be charged. The discounted price should not include taxes or fees. The discountPrice can only be less than or equal to retailPrice. If not running any discount, discountPrice should be same as retailPrice.","properties":{"amount":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0},"tax":{"type":"integer","description":"Numeric amount that is an integer representing minor unit of the currency.\nFor example, in USD, $2.95 would be represented as 295.\n","minimum":0},"taxIncludedInAmount":{"type":"boolean","description":"An Identifier that tax is included in the amount\n"}},"required":["amount","taxIncludedInAmount"]},"adjustments":{"type":"array","description":"Any taxes, fees to be applied on top of the basePrice.","items":{"type":"object","properties":{"type":{"type":"string","description":"Type of the adjustment to be charged over the customer price, which should be chosen from the enum.\n* DELIVERY_FEE - Any associated delivery fee, if the item is to be shipped.\n* DELIVERY_FEE_TAX - Any tax amount to be paid on delivery fee.\n* TIP - Any extra tip added by the customer for the merchant.\n* BOOKING_FEE - Some partners process additional cost for the booking. This fee is associated to the booking cost.\n* BOOKING_FEE_TAX - Any tax amount to be paid on booking fee.\n* SERVICE_FEE - This is additional fee charged by merchant for providing a service.\n* SERVICE_FEE_TAX - Any tax amount to be paid on service fee.\n","enum":["DELIVERY_FEE","DELIVERY_FEE_TAX","TIP","BOOKING_FEE","BOOKING_FEE_TAX","SERVICE_FEE","SERVICE_FEE_TAX"],"example":"BOOKING_FEE"},"value":{"description":"Object which contains the value of the adjustment that customer needs to pay over the customer price for the order\n","properties":{"amount":{"type":"integer","description":"Numeric amount that is an integer in the currency’s minor unit representing the original price.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0},"tax":{"type":"integer","description":"Tax applicable on the amount for this adjustement\nNumeric amount that is an integer in the currency’s minor unit representing the original price.\nFor example, in USD, $1.95 would be represented as 195.\n","minimum":0}},"required":["amount","tax"]}},"required":["type","value"]}}},"required":["currencyCode","retailPrice","discountPrice"]},"purchaserQuestionIds":{"type":"array","description":"Reference to purchaserQuestions (*purchaserQuestions.questions.id*) for this specific availability. These questions will be asked only if this availability slot is chosen by the purchaser and will be appended to the product level questions.","items":{"type":"string","maxLength":99},"example":["question-1"]},"attributeIds":{"description":"reference to the attribute values that this availability slot has (*offers.products.availabilityAttributes.values.id*). If attributes are used, the availability MUST have an `id`.","type":"array","items":{"type":"string","maxLength":99},"example":["adult","entrance"]}},"required":["estimatedRemainingQuantity","priceSummary"]}},"purchaserQuestionIds":{"type":"array","description":"Reference to purchaserQuestions (*purchaserQuestions.questions.id*) for this product.","items":{"type":"string","maxLength":99},"example":["question-2"]},"availabilityAttributes":{"type":"array","description":"Summary of Attributes of all availability slots with their localized text. In the UI the availability will be filtered by these attributes.","items":{"type":"object","properties":{"id":{"description":"ID of this availability group.\nThis ID must be unique within the product.\nThis ID must be stable between updates to ensure that the correct group\nis updated if changes are made, for example when adding a new value to\nthe group.\n","type":"string","maxLength":99},"selectionType":{"description":"Indicates how the selection for this attribute works:\n- `single`: only one of the values might be selected\n- `multiple`: multiple values can be selected\n","type":"string","enum":["single","multiple"]},"category":{"description":"Indicates how this attribute is identified within Groupon System. It is recommended that a single attribute is present of a specific category:\n- `service`: this category refers to the details of a service. values[].writeups.highlights should be included with the attribute category.\n- `staff`: this category refers to the service provider who is involved in providing the service from merchant side.\n   values[].writeups.highlights and values[].writeups.imageUrl should be included with the attribute category.\n- `audience`: this category refers to the end user\n","type":"string","enum":["service","staff","audience"]},"writeups":{"description":"list of localized text for this attribute group. Note that some writeups are only used depending on the category of the attribute.","type":"array","items":{"type":"object","properties":{"locale":{"description":"The locale and country code which represents the language for the content. This should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).","type":"string","format":"locale","minLength":5,"maxLength":5},"title":{"description":"title for this attribute","type":"string"}},"required":["locale","title"]}},"values":{"description":"values for this attribute","type":"array","items":{"type":"object","properties":{"id":{"description":"id of this value for reference. Must be unique across all availabilityAttributes of this product.","type":"string","maxLength":99},"writeups":{"description":"array of localized text for this attribute value","type":"array","items":{"type":"object","properties":{"locale":{"description":"The locale and country code which represents the language for the content. This should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).","type":"string","format":"locale","minLength":5,"maxLength":5},"title":{"description":"title for this attribute value","type":"string"},"imageUrl":{"description":"The URL for the image of attribute value.  This should be a publicly accessible\nURL which the Groupon system can reach and download the image for.\nThe image will be retrieved from this URL and then re-uploaded into the\nGroupon Platform; they will not be used to serve live traffic.\n\nThe URL should also be to the highest resolution image available.\nThe Groupon system will automatically resize images to the use case,\nbut needs the full size image to use as the source.\n","format":"url","maxLength":1024,"type":"string"},"highlights":{"description":"Text providing highlights about the attribute value which will be used to display to the end user.\n"}},"required":["locale","title"]}}},"required":["id","writeups"]}}},"required":["id","selectionType","category","writeups","values"]},"example":[{"id":"party-size","selectionType":"multiple","category":"audience","writeups":[{"locale":"en_US","title":"Party Size"}],"values":[{"id":"adult","writeups":[{"locale":"en_US","title":"Adult (13+)"}]},{"id":"kid","writeups":[{"locale":"en_US","title":"Kid (upto 12)"}]}]},{"id":"tour-type","selectionType":"single","category":"service","writeups":[{"locale":"en_US","title":"Tour Type"}],"values":[{"id":"entrance","writeups":[{"locale":"en_US","title":"Entrance","highlights":"The tour begins at the entrance of the venue. Explore the beauty and charm of the place at your own pace."}]},{"id":"audioguide","writeups":[{"locale":"en_US","title":"Entrance & Audio Guide","highlights":"The tour begins at the entrance of the venue. Explore the beauty and charm of the place with an audio guide"}]}]}]},"redemptionLocations":{"type":"array","description":"The list of locations at which this product can be redeemed.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this location.\nThis can be used to reference the location, such as in the availability data.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\n","maxLength":255},"name":{"type":"string","description":"A name for this location. Examples of this could be  a venue, restaurant, or business name.\n","maxLength":255},"latitude":{"type":"number","description":"The latitude for this location, formatted as a positive or negative decimal number.\n"},"longitude":{"type":"number","description":"The longitude for this location, formatted as a positive or negative decimal number.\n"},"phoneNumber":{"type":"string","description":"The phone number for this location. This will be used to provide contact information for this product.\nThe format of the phone number should follow the localized phone number format for this location.\n","format":"phone"}},"required":["id","name","latitude","longitude","phoneNumber"]},{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}]}}},"required":["id"]},{"required":["availability"]}]}},"purchaserQuestions":{"description":"Definition of localized questions that will be asked to the purchaser. These questions will be referenced from the products and their availabilities.","type":"array","items":{"type":"object","properties":{"locale":{"type":"string","description":"The locale and country code which represents the language for the content.\nThis should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).\n","format":"locale","minLength":5,"maxLength":5},"questions":{"description":"Questions template to be answered by the purchaser.","type":"array","items":{"$ref":"#/paths/~1groupon~1v1~1feed/get/responses/200/content/application~1json/schema/properties/purchaserQuestions/items/properties/questions/items"}}},"required":["locale","questions"]},"example":[{"locale":"en_US","questions":[{"id":"question-1","type":"GROUP","label":"Name","fields":[{"type":"TEXT","property":"title","label":"Title","fields":[{"type":"TEXT","label":"Ms.","hint":"Miss","value":"ms"},{"type":"TEXT","label":"Mr.","hint":"Mister","value":"mr"}]},{"type":"TEXT","property":"name","label":"Name","hint":"Your full name"}]},{"id":"question-2","type":"TEXT","property":"language","label":"Tour Language","value":"eng","required":true,"fields":[{"type":"TEXT","property":"language","label":"English","value":"eng"},{"type":"TEXT","property":"language","label":"Spanish","value":"esp"}]}]}]}},"required":["products"]},{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request, see the 400 response for further details.","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["PRODUCT_NOT_FOUND","AVAILABILITY_NOT_READY"],"example":"PRODUCT_NOT_FOUND"},"products":{"type":"array","description":"An array of products associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied product id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","products"]}}}}]}}}},"400":{"description":"If the request is invalid, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`PRODUCT_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The product ids in the request are not valid or are not recognized.</td>\n</tr>\n<tr>\n  <td>`AVAILABILITY_NOT_READY`</td>\n  <td>400</td>\n  <td>The product ids exist, but there is no availability ready for them. This doesn't mean that there\n  is no availability, but there might be some background process needed to process it, and it hasn't finished yet.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["PRODUCT_NOT_FOUND","AVAILABILITY_NOT_READY","MALFORMED_REQUEST"],"example":"PRODUCT_NOT_FOUND"},"products":{"type":"array","description":"An array of products associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied product id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code"]}}}},{"type":"object","properties":{"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["httpCode"]},{"type":"object","required":["errors"]}]},"examples":{"product not found":{"summary":"Product not found","description":"The product is not found","value":{"errors":[{"code":"PRODUCT_NOT_FOUND","products":[{"id":"non-existent-product"}]}],"httpCode":404}}}}}}}}},"/groupon/v1/feed/services/availability":{"get":{"summary":"Booking Availability","operationId":"getServiceAvailability","tags":["Service Ingestion Feed"],"parameters":[{"name":"serviceIds","in":"query","description":"Comma delimited list of service IDs.\n","required":true,"schema":{"type":"string","example":"service-1,service-2"}},{"name":"startDate","in":"query","description":"Date/time specifying the beginning of the period for which segments should be provided.\nThe results should all include availableAt date and times that are greater than or equal to this value.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","schema":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","example":"2019-12-01T06:59:59.000Z"},"required":true},{"name":"endDate","in":"query","description":"Date/time specifying the end of the period for which segments should be provided.\nThe results should all include availableAt date and times that are less than or equal to this value.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","schema":{"type":"string","minLength":20,"maxLength":25,"format":"date-time","example":"2019-12-31T06:59:59.000Z"},"required":true},{"name":"merchantId","in":"query","description":"The id of the merchant whose service availabilities should be provided.\n","schema":{"type":"string","example":"merchant-id-1"},"required":true},{"name":"attributeIds","in":"query","description":"Comma delimited list of attribute IDs that further refine the availability of the services.\nThis list should be considered an OR for related attributes.\nIf no attribute is passed then that is considered as if all attributes are possible for availability.\n","required":false,"schema":{"type":"string","example":"attribute-id-1,attribute-id-2"}}],"responses":{"200":{"description":"If the available segments exists for the parameters provided, then a 200 response should be returned,\nif some of the services have errors, add them to the errors array, but still return availability for\nthe valid ones.\n","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"availability":{"type":"array","description":"The available segments and associated services and attributes.\n","items":{"type":"object","description":"The availability data for this service. This can contain information such as specific dates,\napplicable locations, applicable pricing, and other information which defines an availability\nslot/segment for the service.\n\nWhen present, this attribute is expected to represent the valid and canonical availability\nfor this service. Any availability from a previous feed which is no longer present will be\nassumed to be no longer valid and discarded.\n","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this availability information.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\n","maxLength":255,"example":"haircut-adult-55532"},"availableAt":{"type":"string","format":"date-time","description":"The date and time which specifies when the availability slot/segment first becomes available.\nThis field is inclusive in terms of the availability, meaning that the slot/segment is available\nexactly at the moment this datetime specifies.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","example":"2020-04-24T20:00:00.000Z"},"availableUntil":{"type":"string","format":"date-time","description":"The date and time which specifies when the availability slot/segment stops being available.\nThis field is exclusive in terms of the availability, meaning that the slot/segment is not available\nexactly at the moment this datetime specifies.\nThe format is ISO-8601 combined date and time with timezone (also known as Internet date/time format: https://tools.ietf.org/html/rfc3339#section-5).\n","example":"2020-04-24T22:00:00.000Z"},"serviceIds":{"description":"reference to the services that are available at this slot (*merchant[].services[].id*).","type":"array","items":{"type":"string","maxLength":255},"example":["haircut","root_color"]},"attributeIds":{"description":"reference to the attribute values that this availability slot has (*merchant[].attributes[].values[].id*).","type":"array","items":{"type":"string","maxLength":99},"example":["staff.maja","staff.rajaa"]},"estimatedRemainingQuantity":{"type":"integer","description":"The estimated quantity remaining for this availability slot/segment.\nThis value does not need to be real time, as it is used to inform remaining quantity but not control purchasing.\n","minimum":0,"example":23},"pricing":{"type":"object","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code for all prices.\n","example":"USD"},"originalPrice":{"type":"object","description":"The original undiscounted price for this product.","properties":{"minorUnitAmount":{"type":"integer","description":"Numeric amount that is an integer in the currency’s minor unit representing the original price.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["minorUnitAmount"]},"discountedPrice":{"type":"object","description":"The discounted price for this product.","properties":{"minorUnitAmount":{"type":"integer","description":"Numeric amount that is an integer in the currency’s minor unit representing the original price.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["minorUnitAmount"]}},"required":["currencyCode","originalPrice"]}},"required":["availableAt","serviceIds"]}}},"required":["availability"]},{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request, see the 400 response for further details.","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["SERVICE_NOT_FOUND","AVAILABILITY_NOT_READY"],"example":"SERVICE_NOT_FOUND"},"services":{"type":"array","description":"An array of services associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied service id.","example":"00000000-0000-00ff-ffff-ffffffffffff"}},"required":["id"]}}},"required":["code","services"]}}}}]},"examples":{"successfulResponse":{"summary":"Successful response","value":{"availability":[{"id":"haircut-adult-55532","availableAt":"2020-04-24T20:00:00.000Z","availableUntil":"2020-04-24T22:00:00.000Z","serviceIds":["haircut","root_color"],"attributeIds":["staff.maja","staff.rajaa"],"estimatedRemainingQuantity":23,"pricing":{"currencyCode":"USD","originalPrice":{"minorUnitAmount":0},"discountedPrice":{"minorUnitAmount":0}}}],"errors":[{"code":"SERVICE_NOT_FOUND","services":[{"id":"00000000-0000-00ff-ffff-ffffffffffff"}]}]}}}}}},"400":{"description":"If the request is invalid, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`SERVICE_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The service ids in the request are not valid or are not recognized.</td>\n</tr>\n<tr>\n  <td>`AVAILABILITY_NOT_READY`</td>\n  <td>400</td>\n  <td>The service ids exist, but there is no availability ready for them. This doesn't mean that there\n  is no availability, but there might be some background process needed to process it, and it hasn't finished yet.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request body does not conform to the schema specification.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["SERVICE_NOT_FOUND","AVAILABILITY_NOT_READY","MALFORMED_REQUEST"],"example":"SERVICE_NOT_FOUND"},"services":{"type":"array","description":"An array of services associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":255,"description":"The Partner supplied servcie id.","example":"non-existent-service"}},"required":["id"]}}},"required":["code"]}}}},{"type":"object","properties":{"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["httpCode"]},{"type":"object","required":["errors"]}]},"examples":{"service not found":{"summary":"Service not found","description":"The service is not found","value":{"errors":[{"code":"SERVICE_NOT_FOUND","services":[{"id":"non-existent-service"}]}],"httpCode":404}}}}}}}}},"/groupon/v1/feed/services/merchants":{"get":{"summary":"Content","operationId":"getMerchantFeed","tags":["Service Ingestion Feed"],"description":"This endpoint is used to retrieve the list of products and services that the merchant provides so that Groupon\ncan make calls to the availability endpoints with the appropriate parameters.\n\n## Request\n","parameters":[{"name":"ids","in":"query","description":"Comma delimited list of merchant ids in the partner’s system.\n","required":true,"schema":{"type":"string","example":"merchant-1,merchant-2"}}],"responses":{"200":{"description":"If a merchant exists for at least one of the merchant ids provided in the request, then a 200 response should be returned. If a merchant is not found for some of the merchant ids provided in the request then add them to the errors array, but still return merchants for the valid ones.","content":{"application/json":{"schema":{"properties":{"merchants":{"type":"array","description":"The list of merchants.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The merchant id specified in the request.\n"},"name":{"type":"string","maxLength":255,"description":"The name of the merchant/biz providing the services on Groupon.\n"},"images":{"type":"array","description":"An ordered list of image URLs for this merchant, with the first one being featured as the principal one.\n","items":{"type":"object","properties":{"url":{"type":"string","description":"The URL for this image.  This should be a publicly accessible\nURL which the Groupon system can reach and download the image from.\n\nThe URL should also be to the highest resolution image available.\nThe Groupon system will automatically resize images for\neach use case, but needs the full size image to use as the source.\n","format":"url","maxLength":1024}},"required":["url"]}},"websiteUrl":{"type":"string","format":"url","description":"The website for the merchant.\n","maxLength":255},"contacts":{"type":"array","description":"A list of contacts for the merchant who can interact with Groupon\n","items":{"allOf":[{"type":"object","properties":{"firstName":{"type":"string","description":"The first name of the contact\n","maxLength":255},"lastName":{"type":"string","description":"The last name of the contact\n","maxLength":255},"email":{"type":"string","description":"The email address of the contact. This is required for onboarding messaging.\n","maxLength":255,"format":"email"},"phoneNumber":{"type":"string","description":"The phone number of the contact\n","maxLength":255,"format":"phone"},"primary":{"type":"boolean","description":"An Identifier that the contact is the primary contact/owner of the merchant\n"}},"required":["firstName","lastName","email","phoneNumber","primary"]}]}},"redemptionLocations":{"type":"array","description":"The list of locations for this merchant.\n","items":{"allOf":[{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this location.\nThis can be used to reference the location, such as in the availability data.\nThe expectation is that this id will uniquely identify the data in the partner’s system.\n","maxLength":255},"name":{"type":"string","description":"A name for this location. Examples of this could be  a venue, restaurant, or business name.\n","maxLength":255},"latitude":{"type":"number","description":"The latitude for this location, formatted as a positive or negative decimal number.\n"},"longitude":{"type":"number","description":"The longitude for this location, formatted as a positive or negative decimal number.\n"},"phoneNumber":{"type":"string","description":"The phone number for this location. This will be used to provide contact information for this product.\nThe format of the phone number should follow the localized phone number format for this location.\n","format":"phone"}}},{"type":"object","properties":{"streetAddress":{"type":"string","maxLength":255,"description":"The primary street address for this address.","example":"123 Fake Street"},"extendedAddress":{"type":"string","maxLength":255,"description":"Additional address information, such as suite, apartment, floor, or unit number.","example":"Suite 620"},"locality":{"type":"string","maxLength":255,"description":"The locality for this address, such as city or town name.","example":"Chicago"},"region":{"type":"string","maxLength":255,"description":"The region for this address, such as state or province.","example":"Illinois"},"postalCode":{"type":"string","minLength":3,"maxLength":10,"description":"The postal code for this address.","example":60654},"countryCode":{"type":"string","minLength":2,"maxLength":2,"description":"The [ISO 3166-1 Alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code for this address.","example":"US"}},"required":["streetAddress","locality","region","postalCode","countryCode"]}]},{"type":"object","required":["id"],"properties":{"images":{"type":"array","description":"An ordered list of image URLs for this location.  The images will be retrieved from this\nURL and then re-uploaded into the Groupon Platform; they will not be used\nto serve live traffic.\n","items":{"type":"object","properties":{"url":{"type":"string","description":"The URL for this image.  This should be a publicly accessible\nURL which the Groupon system can reach and download the image from.\n\nThe URL should also be to the highest resolution image available.\nThe Groupon system will automatically resize images for\neach use case, but needs the full size image to use as the source.\n","format":"url","maxLength":1024}},"required":["url"]}},"externalIds":{"type":"object","description":"General pricing information for the service.","properties":{"facebookPlaceId":{"type":"string","maxLength":255},"googlePlaceId":{"type":"string","maxLength":255},"yelpPlaceId":{"type":"string","maxLength":255}}}}}]}},"services":{"type":"array","description":"The individual services offered by the merchant.\n","items":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"The partner’s external unique identifier for this service.\n","maxLength":255},"pricing":{"type":"object","description":"General pricing information for the service.","properties":{"currencyCode":{"type":"string","minLength":3,"maxLength":3,"description":"An uppercase, three letter [ISO-4217](http://www.iso.org/iso/home/standards/currency_codes.htm) currency code for all prices.\n","example":"USD"},"commonOriginalPrice":{"type":"object","description":"The most commonly occuring undiscounted price for this service.","properties":{"minorUnitAmount":{"type":"integer","description":"Numeric amount that is an integer in the currency’s minor unit representing the original price.\nFor example, in USD, $10.95 would be represented as 1095.\n","minimum":0}},"required":["minorUnitAmount"]}},"required":["currencyCode","commonOriginalPrice"]},"duration":{"type":"object","description":"The general duration for that is taken for the service.","properties":{"commonDurationInSeconds":{"type":"integer","description":"The most common amount of time it takes for this service to complete in seconds.","minimum":0}},"required":["commonDurationInSeconds"]},"attributeIds":{"description":"reference to the attribute values that this service may have.","type":"array","items":{"type":"string","maxLength":99,"example":["staff.maja","staff.rajaa"]}},"writeups":{"description":"List of localized text for this service.","type":"array","items":{"type":"object","properties":{"locale":{"description":"The locale and country code which represents the language for the content. This should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).","type":"string","format":"locale","minLength":5,"maxLength":5},"title":{"description":"Title for this service","type":"string"},"highlights":{"description":"Text providing highlights about the service.\n"}},"required":["locale","title"]}},"images":{"type":"array","description":"An ordered list of image URLs for this service.  The images will be retrieved from this\nURL and then re-uploaded into the Groupon Platform; they will not be used\nto serve live traffic.\n","items":{"type":"object","properties":{"url":{"type":"string","description":"The URL for this image.  This should be a publicly accessible\nURL which the Groupon system can reach and download the image from.\n\nThe URL should also be to the highest resolution image available.\nThe Groupon system will automatically resize images for\neach use case, but needs the full size image to use as the source.\n","format":"url","maxLength":1024}},"required":["url"]}}},"required":["id"]}]}},"attributes":{"type":"array","description":"Summary of attributes of all the availability slots with their localized text. The availability will be filtered by these attributes.","items":{"allOf":[{"type":"object","properties":{"id":{"description":"ID of this availability group.\nThis ID must be unique within the service.\nThis ID must be stable between updates to ensure that the correct group\nis updated if changes are made, for example when adding a new value to\nthe group.\n","type":"string","maxLength":99},"category":{"description":"Indicates how this attribute is identified within the Groupon System. It is recommended that a single attribute is present for a specific category:\n- `staff`: this category refers to the service provider who is involved in providing the service from the merchant side.\n","type":"string","enum":["staff"]},"values":{"description":"Values for this attribute","type":"array","items":{"type":"object","properties":{"id":{"description":"Id of this value for reference. Must be unique across all attributes of this service.","type":"string","maxLength":99},"writeups":{"description":"Array of localized text for this attribute value.","type":"array","items":{"type":"object","properties":{"locale":{"description":"The locale and country code which represents the language for the content. This should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).","type":"string","format":"locale","minLength":5,"maxLength":5},"title":{"description":"Title for this attribute value.","type":"string"},"highlights":{"description":"Text providing highlights about the attribute value.\n"}},"required":["locale","title"]}},"images":{"type":"array","description":"An ordered list of image URLs for this attribute.  The images will be retrieved from this\nURL and then re-uploaded into the Groupon Platform; they will not be used\nto serve live traffic.\n","items":{"type":"object","properties":{"url":{"type":"string","description":"The URL for this image.  This should be a publicly accessible\nURL which the Groupon system can reach and download the image from.\n\nThe URL should also be to the highest resolution image available.\nThe Groupon system will automatically resize images for\neach use case, but needs the full size image to use as the source.\n","format":"url","maxLength":1024}},"required":["url"]}}},"required":["id","writeups"]}},"writeups":{"description":"list of localized text for this attribute group.","type":"array","items":{"type":"object","properties":{"locale":{"description":"The locale and country code which represents the language for the content. This should use the ISO-3166-1 and UN M.49 variation of the IETF language tag (https://en.wikipedia.org/wiki/IETF_language_tag#ISO_3166-1_and_UN_M.49).","type":"string","format":"locale","minLength":5,"maxLength":5},"title":{"description":"title for this attribute","type":"string"}},"required":["locale","title"]}}},"required":["id","values"]}]}},"writeups":{"type":"array","description":"An array of localized text regarding the merchant business.","items":{"allOf":[{"type":"object","properties":{"locale":{"type":"string","description":"The ISO-8601  locale of the writeups\n","format":"locale","minLength":5,"maxLength":5},"title":{"type":"string","description":"A short title about for the merchant\n","maxLength":255},"text":{"type":"string","description":"Descriptive text about the merchant.\n","maxLength":255}},"required":["locale"]}]}}},"required":["id","name","contacts","services"]}},"errors":{"type":"array","description":"An array of errors with this request.","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["MERCHANT_NOT_FOUND"]},"merchants":{"type":"array","description":"An array of merchants associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The merchant id."}},"required":["id"]}}}}}},"required":["merchants"]},"examples":{"successfulResponse":{"summary":"Successful response","value":{"merchants":[{"id":"merchant-id-1","name":"merchant name","websiteUrl":"http://www.example.com/ab-salon","images":[{"url":"http://www.example.com/ab-salon/image.jpeg"}],"contacts":[{"firstName":"firstName","lastName":"lastName","email":"abc@g.com","phoneNumber":"111-112-0000","primary":true}],"redemptionLocations":[{"id":"redemptionLocation-1","name":"AB Salon","streetAddress":"123 Street","extendedAddress":"","locality":"San Francisco","region":"California","latitude":41.8369,"longitude":87.6847,"postalCode":"94128","countryCode":"US","phoneNumber":"111-112-0000","images":[{"url":"http://www.example.com/ab-salon.jpg"}],"externalIds":{"facebookPlaceId":"facebookPlaceId","googlePlaceId":"googlePlaceId","yelpPlaceId":"yelpPlaceId"}}],"services":[{"id":"service-1","writeups":[{"locale":"en_US","title":"Hair","highlights":"At AB Salon, we offer haircuts and hair coloring based on personalized service for each guest."}],"images":[{"url":"http://www.example.com/hairstyles.jpg"}]}],"attributes":[{"id":"staff","category":"staff","values":[{"id":"staff-1","writeups":[{"locale":"en_US","title":"Raja","highlights":"Associate Stylist"}],"images":[{"url":"http://www.example.com/staff-raja.jpg"}]},{"id":"staff-2","writeups":[{"locale":"en_US","title":"Maja","highlights":"Senior Stylist"}],"images":[{"url":"http://www.example.com/staff-maja.jpg"}]}],"writeups":[{"locale":"en_US","title":"Staff"}]}],"writeups":[{"locale":"en_US","title":"title","text":"text"}]}],"errors":[{"code":"MERCHANT_NOT_FOUND","merchants":[{"id":"merchant-id-2"}]}]}}}}}},"4XX":{"description":"If the merchant information could not be fetched, then an error response and a 4xx response code should be returned.\n\n### Error and Response Codes\nThe following error codes should map to the HTTP codes.\n\n<table>\n<tr>\n  <th>Error Code</th>\n  <th>HTTP Code</th>\n  <th>Description</th>\n</tr>\n<tr>\n  <td>`MERCHANT_NOT_FOUND`</td>\n  <td>404</td>\n  <td>The merchant cannot be found.</td>\n</tr>\n<tr>\n  <td>`MALFORMED_REQUEST`</td>\n  <td>400</td>\n  <td>A URL parameter or attribute in the request does not conform to the schema specification.</td>\n</tr>\n</table>\n","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","description":"An array of errors with this request","items":{"type":"object","properties":{"code":{"type":"string","description":"The code for this error.","enum":["MERCHANT_NOT_FOUND","MALFORMED_REQUEST"]},"merchants":{"type":"array","description":"An array of merchants associated with this error.","items":{"type":"object","properties":{"id":{"type":"string","maxLength":99,"description":"The merchant id."}},"required":["id"]}}},"required":["code"]}},"httpCode":{"type":"integer","minimum":400,"maximum":499,"description":"The http status code for this error.","example":400}},"required":["errors","httpCode"]},"examples":{"merchant not found":{"summary":"Merchant not found","description":"The merchant was not found.","value":{"errors":[{"code":"MERCHANT_NOT_FOUND","merchants":[{"id":"merchant-id-2"}]}],"httpCode":404}}}}}}}}}},"components":{"schemas":{"FormField":{"type":"object","properties":{"id":{"type":"string","description":"id of this question. This is `required` only for the top level question, ie not required for question within the nested *fields* property.","maxLength":99},"fields":{"description":"This specifies the fields which are grouped together. A group may contain zero-to-many child groups, and there is no limit to how many times this nesting can occur. This is `required` for a field of *type* `GROUP`, as it specifies the fields within a group. A non-group field may contain zero-to-many fields. This data structure is used to support UI controls such as radio buttons or drop downs (using the `TEXT` *type*). A non-group field cannot have nested fields under these *fields*, nor may it contain `GROUP` *type* fields (i.e. a non-group field must have a flat list of child fields). Additionally, the child fields must have the same *property* as their parent field, and they must also have a *value*.","type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id of this question. This is `required` only for the top level question, ie not required for question within the nested *fields* property.","maxLength":99},"fields":{"description":"This specifies the fields which are grouped together. A group may contain zero-to-many child groups, and there is no limit to how many times this nesting can occur. This is `required` for a field of *type* `GROUP`, as it specifies the fields within a group. A non-group field may contain zero-to-many fields. This data structure is used to support UI controls such as radio buttons or drop downs (using the `TEXT` *type*). A non-group field cannot have nested fields under these *fields*, nor may it contain `GROUP` *type* fields (i.e. a non-group field must have a flat list of child fields). Additionally, the child fields must have the same *property* as their parent field, and they must also have a *value*.","type":"array","items":{"$ref":"#/components/schemas/FormField/properties/fields/items"}},"hint":{"description":"Specifies a short hint that describes the expected value for this field. This may be used by a client to render a hint or placeholder value inside of an input field.","type":"string","x-personal-data-class":"class2"},"label":{"description":"The label value to display for this checkout field.","type":"string","x-personal-data-class":"unclassified"},"type":{"description":"Enum of field types","type":"string","enum":["TEXT","GROUP","EMAIL","PHONE","NUMBER","BOOLEAN"],"x-personal-data-class":"unclassified"},"value":{"description":"The default value the client should use to populate this checkout field. For `BOOLEAN` types, this will be normalized to true or false when outputting the fields and will not be null. If the value is true, then it is recommended to display the UI control in the “on” state (e.g. checked for a checkbox or enabled for a toggle).\nFor a `TEXT` type with child fields, this will indicate the selected or default value. This can be used to populate the UI control with a pre-selected value.","type":"string","x-personal-data-class":"class2"}},"required":["type"],"discriminator":{"propertyName":"type","mapping":{"TEXT":"#/components/schemas/TextField","GROUP":"#/components/schemas/GroupField","EMAIL":"#/components/schemas/EmailField","PHONE":"#/components/schemas/PhoneField","NUMBER":"#/components/schemas/NumberField","BOOLEAN":"#/components/schemas/BooleanField"}}}},"hint":{"description":"Specifies a short hint that describes the expected value for this field. This may be used by a client to render a hint or placeholder value inside of an input field.","type":"string","x-personal-data-class":"class2"},"label":{"description":"The label value to display for this checkout field.","type":"string","x-personal-data-class":"unclassified"},"type":{"description":"Enum of field types","type":"string","enum":["TEXT","GROUP","EMAIL","PHONE","NUMBER","BOOLEAN"],"x-personal-data-class":"unclassified"},"value":{"description":"The default value the client should use to populate this checkout field. For `BOOLEAN` types, this will be normalized to true or false when outputting the fields and will not be null. If the value is true, then it is recommended to display the UI control in the “on” state (e.g. checked for a checkbox or enabled for a toggle).\nFor a `TEXT` type with child fields, this will indicate the selected or default value. This can be used to populate the UI control with a pre-selected value.","type":"string","x-personal-data-class":"class2"}},"required":["type"],"discriminator":{"propertyName":"type","mapping":{"TEXT":"#/components/schemas/TextField","GROUP":"#/components/schemas/GroupField","EMAIL":"#/components/schemas/EmailField","PHONE":"#/components/schemas/PhoneField","NUMBER":"#/components/schemas/NumberField","BOOLEAN":"#/components/schemas/BooleanField"}}},"TextField":{"description":"Field for using free form imput text or drop downs (by using fields)","allOf":[{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"id of this question. This is `required` only for the top level question, ie not required for question within the nested *fields* property.","maxLength":99},"fields":{"description":"This specifies the fields which are grouped together. A group may contain zero-to-many child groups, and there is no limit to how many times this nesting can occur. This is `required` for a field of *type* `GROUP`, as it specifies the fields within a group. A non-group field may contain zero-to-many fields. This data structure is used to support UI controls such as radio buttons or drop downs (using the `TEXT` *type*). A non-group field cannot have nested fields under these *fields*, nor may it contain `GROUP` *type* fields (i.e. a non-group field must have a flat list of child fields). Additionally, the child fields must have the same *property* as their parent field, and they must also have a *value*.","type":"array","items":{"$ref":"#/components/schemas/TextField/allOf/0/allOf/0"}},"hint":{"description":"Specifies a short hint that describes the expected value for this field. This may be used by a client to render a hint or placeholder value inside of an input field.","type":"string","x-personal-data-class":"class2"},"label":{"description":"The label value to display for this checkout field.","type":"string","x-personal-data-class":"unclassified"},"type":{"description":"Enum of field types","type":"string","enum":["TEXT","GROUP","EMAIL","PHONE","NUMBER","BOOLEAN"],"x-personal-data-class":"unclassified"},"value":{"description":"The default value the client should use to populate this checkout field. For `BOOLEAN` types, this will be normalized to true or false when outputting the fields and will not be null. If the value is true, then it is recommended to display the UI control in the “on” state (e.g. checked for a checkbox or enabled for a toggle).\nFor a `TEXT` type with child fields, this will indicate the selected or default value. This can be used to populate the UI control with a pre-selected value.","type":"string","x-personal-data-class":"class2"}},"required":["type"],"discriminator":{"propertyName":"type","mapping":{"TEXT":"#/components/schemas/TextField","GROUP":"#/components/schemas/GroupField","EMAIL":"#/components/schemas/EmailField","PHONE":"#/components/schemas/PhoneField","NUMBER":"#/components/schemas/NumberField","BOOLEAN":"#/components/schemas/BooleanField"}}},{"type":"object","properties":{"required":{"description":"Whether or not the input into this checkout field is required. For `BOOLEAN` type fields, this means the value must be true","type":"boolean","x-personal-data-class":"unclassified"},"property":{"description":"The attribute name for this checkout field, which will be used as the key when passing the value back on the transactional APIs. This is required for all field types except `GROUP`","type":"string","x-personal-data-class":"unclassified"}},"required":["property"]}]},{"type":"object","properties":{"pattern":{"description":"A regular expression used to validate input. Any input which matches the regular expression will be considered valid. If the client is unable to parse/understand the pattern, then it will not apply any validation and leave it up to the partner to validate.","type":"string","x-personal-data-class":"unclassified"},"minLength":{"description":"An integer value to validate the input. A valid value must contain at least minLength of characters.","type":"integer","format":"int32","x-personal-data-class":"unclassified"},"maxLength":{"description":"An integer value to validate the input. A valid value must contain at most maxLength characters.","type":"integer","format":"int32","x-personal-data-class":"unclassified"}}}]},"NumberField":{"allOf":[{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"id of this question. This is `required` only for the top level question, ie not required for question within the nested *fields* property.","maxLength":99},"fields":{"description":"This specifies the fields which are grouped together. A group may contain zero-to-many child groups, and there is no limit to how many times this nesting can occur. This is `required` for a field of *type* `GROUP`, as it specifies the fields within a group. A non-group field may contain zero-to-many fields. This data structure is used to support UI controls such as radio buttons or drop downs (using the `TEXT` *type*). A non-group field cannot have nested fields under these *fields*, nor may it contain `GROUP` *type* fields (i.e. a non-group field must have a flat list of child fields). Additionally, the child fields must have the same *property* as their parent field, and they must also have a *value*.","type":"array","items":{"$ref":"#/components/schemas/NumberField/allOf/0/allOf/0"}},"hint":{"description":"Specifies a short hint that describes the expected value for this field. This may be used by a client to render a hint or placeholder value inside of an input field.","type":"string","x-personal-data-class":"class2"},"label":{"description":"The label value to display for this checkout field.","type":"string","x-personal-data-class":"unclassified"},"type":{"description":"Enum of field types","type":"string","enum":["TEXT","GROUP","EMAIL","PHONE","NUMBER","BOOLEAN"],"x-personal-data-class":"unclassified"},"value":{"description":"The default value the client should use to populate this checkout field. For `BOOLEAN` types, this will be normalized to true or false when outputting the fields and will not be null. If the value is true, then it is recommended to display the UI control in the “on” state (e.g. checked for a checkbox or enabled for a toggle).\nFor a `TEXT` type with child fields, this will indicate the selected or default value. This can be used to populate the UI control with a pre-selected value.","type":"string","x-personal-data-class":"class2"}},"required":["type"],"discriminator":{"propertyName":"type","mapping":{"TEXT":"#/components/schemas/TextField","GROUP":"#/components/schemas/GroupField","EMAIL":"#/components/schemas/EmailField","PHONE":"#/components/schemas/PhoneField","NUMBER":"#/components/schemas/NumberField","BOOLEAN":"#/components/schemas/BooleanField"}}},{"type":"object","properties":{"required":{"description":"Whether or not the input into this checkout field is required. For `BOOLEAN` type fields, this means the value must be true","type":"boolean","x-personal-data-class":"unclassified"},"property":{"description":"The attribute name for this checkout field, which will be used as the key when passing the value back on the transactional APIs. This is required for all field types except `GROUP`","type":"string","x-personal-data-class":"unclassified"}},"required":["property"]}]},{"type":"object","properties":{"minValue":{"description":"A number value to validate the numeric input. A valid numeric value must not be lesser than minValue.","type":"number","format":"double","x-personal-data-class":"unclassified"},"maxValue":{"description":"A number value to validate the numeric input. A valid numeric value must not be greater than maxValue.","type":"number","format":"double","x-personal-data-class":"unclassified"}}}]},"GroupField":{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"id of this question. This is `required` only for the top level question, ie not required for question within the nested *fields* property.","maxLength":99},"fields":{"description":"This specifies the fields which are grouped together. A group may contain zero-to-many child groups, and there is no limit to how many times this nesting can occur. This is `required` for a field of *type* `GROUP`, as it specifies the fields within a group. A non-group field may contain zero-to-many fields. This data structure is used to support UI controls such as radio buttons or drop downs (using the `TEXT` *type*). A non-group field cannot have nested fields under these *fields*, nor may it contain `GROUP` *type* fields (i.e. a non-group field must have a flat list of child fields). Additionally, the child fields must have the same *property* as their parent field, and they must also have a *value*.","type":"array","items":{"$ref":"#/components/schemas/GroupField/allOf/0"}},"hint":{"description":"Specifies a short hint that describes the expected value for this field. This may be used by a client to render a hint or placeholder value inside of an input field.","type":"string","x-personal-data-class":"class2"},"label":{"description":"The label value to display for this checkout field.","type":"string","x-personal-data-class":"unclassified"},"type":{"description":"Enum of field types","type":"string","enum":["TEXT","GROUP","EMAIL","PHONE","NUMBER","BOOLEAN"],"x-personal-data-class":"unclassified"},"value":{"description":"The default value the client should use to populate this checkout field. For `BOOLEAN` types, this will be normalized to true or false when outputting the fields and will not be null. If the value is true, then it is recommended to display the UI control in the “on” state (e.g. checked for a checkbox or enabled for a toggle).\nFor a `TEXT` type with child fields, this will indicate the selected or default value. This can be used to populate the UI control with a pre-selected value.","type":"string","x-personal-data-class":"class2"}},"required":["type"],"discriminator":{"propertyName":"type","mapping":{"TEXT":"#/components/schemas/TextField","GROUP":"#/components/schemas/GroupField","EMAIL":"#/components/schemas/EmailField","PHONE":"#/components/schemas/PhoneField","NUMBER":"#/components/schemas/NumberField","BOOLEAN":"#/components/schemas/BooleanField"}}},{"type":"object","required":["fields"]}]},"EmailField":{"allOf":[{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"id of this question. This is `required` only for the top level question, ie not required for question within the nested *fields* property.","maxLength":99},"fields":{"description":"This specifies the fields which are grouped together. A group may contain zero-to-many child groups, and there is no limit to how many times this nesting can occur. This is `required` for a field of *type* `GROUP`, as it specifies the fields within a group. A non-group field may contain zero-to-many fields. This data structure is used to support UI controls such as radio buttons or drop downs (using the `TEXT` *type*). A non-group field cannot have nested fields under these *fields*, nor may it contain `GROUP` *type* fields (i.e. a non-group field must have a flat list of child fields). Additionally, the child fields must have the same *property* as their parent field, and they must also have a *value*.","type":"array","items":{"$ref":"#/components/schemas/EmailField/allOf/0/allOf/0"}},"hint":{"description":"Specifies a short hint that describes the expected value for this field. This may be used by a client to render a hint or placeholder value inside of an input field.","type":"string","x-personal-data-class":"class2"},"label":{"description":"The label value to display for this checkout field.","type":"string","x-personal-data-class":"unclassified"},"type":{"description":"Enum of field types","type":"string","enum":["TEXT","GROUP","EMAIL","PHONE","NUMBER","BOOLEAN"],"x-personal-data-class":"unclassified"},"value":{"description":"The default value the client should use to populate this checkout field. For `BOOLEAN` types, this will be normalized to true or false when outputting the fields and will not be null. If the value is true, then it is recommended to display the UI control in the “on” state (e.g. checked for a checkbox or enabled for a toggle).\nFor a `TEXT` type with child fields, this will indicate the selected or default value. This can be used to populate the UI control with a pre-selected value.","type":"string","x-personal-data-class":"class2"}},"required":["type"],"discriminator":{"propertyName":"type","mapping":{"TEXT":"#/components/schemas/TextField","GROUP":"#/components/schemas/GroupField","EMAIL":"#/components/schemas/EmailField","PHONE":"#/components/schemas/PhoneField","NUMBER":"#/components/schemas/NumberField","BOOLEAN":"#/components/schemas/BooleanField"}}},{"type":"object","properties":{"required":{"description":"Whether or not the input into this checkout field is required. For `BOOLEAN` type fields, this means the value must be true","type":"boolean","x-personal-data-class":"unclassified"},"property":{"description":"The attribute name for this checkout field, which will be used as the key when passing the value back on the transactional APIs. This is required for all field types except `GROUP`","type":"string","x-personal-data-class":"unclassified"}},"required":["property"]}]},{"type":"object"}]},"PhoneField":{"allOf":[{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"id of this question. This is `required` only for the top level question, ie not required for question within the nested *fields* property.","maxLength":99},"fields":{"description":"This specifies the fields which are grouped together. A group may contain zero-to-many child groups, and there is no limit to how many times this nesting can occur. This is `required` for a field of *type* `GROUP`, as it specifies the fields within a group. A non-group field may contain zero-to-many fields. This data structure is used to support UI controls such as radio buttons or drop downs (using the `TEXT` *type*). A non-group field cannot have nested fields under these *fields*, nor may it contain `GROUP` *type* fields (i.e. a non-group field must have a flat list of child fields). Additionally, the child fields must have the same *property* as their parent field, and they must also have a *value*.","type":"array","items":{"$ref":"#/components/schemas/PhoneField/allOf/0/allOf/0"}},"hint":{"description":"Specifies a short hint that describes the expected value for this field. This may be used by a client to render a hint or placeholder value inside of an input field.","type":"string","x-personal-data-class":"class2"},"label":{"description":"The label value to display for this checkout field.","type":"string","x-personal-data-class":"unclassified"},"type":{"description":"Enum of field types","type":"string","enum":["TEXT","GROUP","EMAIL","PHONE","NUMBER","BOOLEAN"],"x-personal-data-class":"unclassified"},"value":{"description":"The default value the client should use to populate this checkout field. For `BOOLEAN` types, this will be normalized to true or false when outputting the fields and will not be null. If the value is true, then it is recommended to display the UI control in the “on” state (e.g. checked for a checkbox or enabled for a toggle).\nFor a `TEXT` type with child fields, this will indicate the selected or default value. This can be used to populate the UI control with a pre-selected value.","type":"string","x-personal-data-class":"class2"}},"required":["type"],"discriminator":{"propertyName":"type","mapping":{"TEXT":"#/components/schemas/TextField","GROUP":"#/components/schemas/GroupField","EMAIL":"#/components/schemas/EmailField","PHONE":"#/components/schemas/PhoneField","NUMBER":"#/components/schemas/NumberField","BOOLEAN":"#/components/schemas/BooleanField"}}},{"type":"object","properties":{"required":{"description":"Whether or not the input into this checkout field is required. For `BOOLEAN` type fields, this means the value must be true","type":"boolean","x-personal-data-class":"unclassified"},"property":{"description":"The attribute name for this checkout field, which will be used as the key when passing the value back on the transactional APIs. This is required for all field types except `GROUP`","type":"string","x-personal-data-class":"unclassified"}},"required":["property"]}]},{"type":"object"}]},"BooleanField":{"allOf":[{"allOf":[{"type":"object","properties":{"id":{"type":"string","description":"id of this question. This is `required` only for the top level question, ie not required for question within the nested *fields* property.","maxLength":99},"fields":{"description":"This specifies the fields which are grouped together. A group may contain zero-to-many child groups, and there is no limit to how many times this nesting can occur. This is `required` for a field of *type* `GROUP`, as it specifies the fields within a group. A non-group field may contain zero-to-many fields. This data structure is used to support UI controls such as radio buttons or drop downs (using the `TEXT` *type*). A non-group field cannot have nested fields under these *fields*, nor may it contain `GROUP` *type* fields (i.e. a non-group field must have a flat list of child fields). Additionally, the child fields must have the same *property* as their parent field, and they must also have a *value*.","type":"array","items":{"$ref":"#/components/schemas/BooleanField/allOf/0/allOf/0"}},"hint":{"description":"Specifies a short hint that describes the expected value for this field. This may be used by a client to render a hint or placeholder value inside of an input field.","type":"string","x-personal-data-class":"class2"},"label":{"description":"The label value to display for this checkout field.","type":"string","x-personal-data-class":"unclassified"},"type":{"description":"Enum of field types","type":"string","enum":["TEXT","GROUP","EMAIL","PHONE","NUMBER","BOOLEAN"],"x-personal-data-class":"unclassified"},"value":{"description":"The default value the client should use to populate this checkout field. For `BOOLEAN` types, this will be normalized to true or false when outputting the fields and will not be null. If the value is true, then it is recommended to display the UI control in the “on” state (e.g. checked for a checkbox or enabled for a toggle).\nFor a `TEXT` type with child fields, this will indicate the selected or default value. This can be used to populate the UI control with a pre-selected value.","type":"string","x-personal-data-class":"class2"}},"required":["type"],"discriminator":{"propertyName":"type","mapping":{"TEXT":"#/components/schemas/TextField","GROUP":"#/components/schemas/GroupField","EMAIL":"#/components/schemas/EmailField","PHONE":"#/components/schemas/PhoneField","NUMBER":"#/components/schemas/NumberField","BOOLEAN":"#/components/schemas/BooleanField"}}},{"type":"object","properties":{"required":{"description":"Whether or not the input into this checkout field is required. For `BOOLEAN` type fields, this means the value must be true","type":"boolean","x-personal-data-class":"unclassified"},"property":{"description":"The attribute name for this checkout field, which will be used as the key when passing the value back on the transactional APIs. This is required for all field types except `GROUP`","type":"string","x-personal-data-class":"unclassified"}},"required":["property"]}]},{"type":"object"}]}}}}